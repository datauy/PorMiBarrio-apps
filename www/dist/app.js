window.VERSION = "1.0.2";var pmb_im={controllers:angular.module("pmb_im.controllers",[]),services:angular.module("pmb_im.services",[])};pmb_im.app=angular.module("pmb_im",["ionic","ionic.wizard","ion-autocomplete","leaflet-directive","pmb_im.controllers","pmb_im.services","ngCordova","ionic-cache-src"]).constant("ApiImEndpoint",{url:"http://www.montevideo.gub.uy"}).constant("ApiDataEndpoint",{url:"/data"}).run(["$ionicPlatform","$rootScope","$cordovaKeyboard","$cordovaNetwork",function(e,t,n,o){t.VERSION=window.VERSION,e.ready(function(){ionic.Platform.isFullScreen=!0;try{cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0)}catch(e){}try{window.Keyboard.hideKeyboardAccessoryBar(!0)}catch(e){}try{Keyboard.hideKeyboardAccessoryBar(!0)}catch(e){}try{StatusBar.hide()}catch(e){}})}]).config(["$stateProvider","$urlRouterProvider","$compileProvider","$ionicConfigProvider",function(e,t,n,o){n.debugInfoEnabled(!1),e.state("app",{cache:!1,url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"MapController"}).state("app.map",{cache:!1,url:"/map/",views:{menuContent:{templateUrl:"templates/map.html",controller:"PMBCtrl"}}}).state("app.intro",{cache:!1,url:"/intro",views:{menuContent:{templateUrl:"templates/intro.html",controller:"IntroCtrl"}}}),t.otherwise("/app/intro")}]),pmb_im.controllers.controller("AutoCompleteCtrl",["$scope","leafletData","locationAPI",function(e,t,n){e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick),e.onClick=function(){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()},e.searchLocation=function(e){if(e)return n.searchLocationByStr(e)}}]),pmb_im.controllers.controller("IntroCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService",function(e,t,n,o,r,a,i,l){document.addEventListener("deviceready",function(){var e=l.initDB();e.info().then(console.log.bind(console))}),e.geolocate=function(){var e={timeout:3500,enableHighAccuracy:!0};n.getCurrentPosition(e).then(function(e){i.save_initial_position(e),t.go("app.map")},function(e){t.go("app.map")})},e.$on("$ionicView.enter",function(){null!=i.council_modal&&(i.council_modal.hide(),i.council_modal.remove()),e.geolocate()})}]),pmb_im.controllers.controller("MapController",["$scope","$sce","_","$cordovaCamera","$cordovaFileTransfer","$cordovaGeolocation","$compile","$state","$stateParams","$ionicModal","$ionicPopup","leafletData","ConfigService","PMBService","LocationsService","ReportService","FaqService","CategoriesService","AuthService","UserService","DBService","$timeout","$location","ErrorService","$ionicSlideBoxDelegate","$ionicScrollDelegate","$cordovaNetwork","PopUpService","$ionicPlatform","ConnectivityService","$cordovaInAppBrowser","$interval","$cordovaKeyboard","MapService","ModalService",function(e,t,n,o,r,a,i,s,c,u,d,p,m,_,f,g,h,y,v,b,w,E,k,B,I,C,M,S,P,R,O,A,N,x,T){e.featureReports={},e.reportsByState={},e.reportsVisible={},e.baseURL=m.baseURL,e.user_cached_image="",e.report_detail_id=null,e.one_value_popup=null,e.abuse_name=null,e.abuse_email=null,e.abuse_subject=null,e.abuse_message=null,e.allCategoriesFromBoyArea=null,document.addEventListener("deviceready",function(){var t=w.initDB();t.info().then(console.log.bind(console)),R.isOnline()?(e.check_user_logged(),e.send_offline_reports()):e.set_offline_user()}),e.$on("$ionicView.beforeEnter",function(){T.checkNoModalIsOpen(),e.set_network_events();A(function(){e.send_offline_reports()},6e4);null!=document.getElementById("foot_bar")&&(document.getElementById("foot_bar").style.display="block"),R.isOnline()?e.create_online_map():e.create_offline_map()}),e.openWebsite=function(e){var t={location:"no",clearcache:"yes",toolbar:"no"};O.open(e,"_blank",t).then(function(e){})["catch"](function(e){})},e.set_network_events=function(){ionic.Platform.isWebView()?(e.$on("$cordovaNetwork:online",function(t,n){e.check_user_logged(),e.send_offline_reports(),e.create_online_map()}),e.$on("$cordovaNetwork:offline",function(t,n){e.create_offline_map(),e.set_offline_user()})):(window.addEventListener("online",function(t){e.check_user_logged(),e.send_offline_reports(),e.create_online_map()},!1),window.addEventListener("offline",function(t){e.create_offline_map(),e.set_offline_user()},!1))},e.send_offline_reports_from_menu=function(){R.isOnline()?(e.send_offline_reports(),e.list_offline_reports()):S.show_alert("Error de conexión","Para poder enviar los reportes pendientes debe estar conectado a internet.")},e.send_offline_reports=function(){if(R.isOnline()){var e=w.getAllReports();e.then(function(e){null!=e&&e.total_rows>0&&e.rows.forEach(function(e){var t=e.doc,n=_.report(t);null==t.file?n.success(function(e,n,o,r){B.http_data_response_is_successful_ajax(e)&&w.deleteReport(t._id)}).error(function(e,t,n,o){}):n.then(function(e){var n=JSON.parse(e.response);B.http_data_response_is_successful_ajax(n)&&w.deleteReport(t._id)},function(e){},function(e){})})})["catch"](function(e){})}},e.send_offline_report=function(e){var t=_.report(e);null==e.file?t.success(function(e,t,n,o){return!!B.http_data_response_is_successful_ajax(e)}).error(function(e,t,n,o){return!1}):t.then(function(e){var t=JSON.parse(e.response);return!!B.http_data_response_is_successful_ajax(t)},function(e){return!1},function(e){})},e.create_offline_map=function(){return null==e.map&&void(e.map={defaults:{tileLayer:"./offline_tiles/{z}/{x}/{y}.png",minZoom:16,maxZoom:16,zoomControlPosition:"topleft"},markers:{},events:{map:{enable:["context"],logic:"emit"}}})},e.create_online_map=function(){return(null==e.map||"./offline_tiles/{z}/{x}/{y}.png"!=e.map.defaults.tileLayer)&&(e.map={defaults:{tileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:12,maxZoom:18,zoomControlPosition:"topleft"},markers:{},events:{map:{enable:["context"],logic:"emit"}},center:{}},e.loadPinsLayer(),""!=f.new_report_lat?e.map.center={lat:f.new_report_lat,lng:f.new_report_lng,zoom:16}:e.map.center={lat:-34.901113,lng:-56.164531,zoom:16},void p.getMap().then(function(t){t.on("moveend",e.hideOffScreenPins)}))};e.new_report_from_latlon=function(t,n){f.new_report_lat=t,f.new_report_lng=n,f.initial_lat=t,f.initial_lng=n,e.new_report(1)},e.new_report=function(t){if(e.set_active_option("button-report"),e.hide_special_divs(),1==t)if(f.initial_lat=f.new_report_lat,f.initial_lng=f.new_report_lat,document.getElementById("spinner").style.display="block",R.isOnline())e.report=g._new(),e.report.lat=f.new_report_lat,e.report.lon=f.new_report_lng,y.all().then(function(t){B.http_response_is_successful_popup(t)?(w.saveCategories(t.data),e.show_report_form(t.data.categories)):document.getElementById("spinner").style.display="none"});else{var n=y.getCachedCategories();n.then(function(t){t&&t.categories&&Object.keys(t.categories).length>0?(e.report=g._new(),e.report.lat=f.new_report_lat,e.report.lon=f.new_report_lng,e.show_report_form(t.categories)):(document.getElementById("spinner").style.display="none",S.show_alert("Primer reporte","La primera vez que realiza un reporte debe encontrarse conectado a internet."))})["catch"](function(e){document.getElementById("spinner").style.display="none",S.show_alert("Primer reporte","La primera vez que realiza un reporte debe encontrarse conectado a internet.")})}else e.addMapControls()},e.editOfflineReport=function(t){e.set_active_option("button-report"),e.hide_special_divs(),document.getElementById("spinner").style.display="block";var n=y.getCachedCategories();n.then(function(n){n&&n.categories&&Object.keys(n.categories).length>0?(e.report=e.offlineReports[t],e.show_offline_report_form(n.categories)):(document.getElementById("spinner").style.display="none",S.show_alert("Primer reporte","La primera vez que realiza un reporte debe encontrarse conectado a internet."))})["catch"](function(e){document.getElementById("spinner").style.display="none",S.show_alert("Primer reporte","La primera vez que realiza un reporte debe encontrarse conectado a internet.")})},e.deleteOfflineReport=function(t){e.hide_special_divs(),document.getElementById("spinner").style.display="block",e.report=e.offlineReports[t],T.checkNoModalIsOpen(),u.fromTemplateUrl("templates/delete-offline-report.html",{scope:e,animation:"slide-in-up"}).then(function(e){T.activeModal=e,document.getElementById("spinner").style.display="none",document.getElementById("foot_bar").style.display="none",T.show()})},e.updateOfflineReport=function(){var t=new Array;t.push(e.create_field_array("Email","email",e.report.email)),t.push(e.create_field_array("Contraseña","notNull",e.report.password_sign_in)),t.push(e.create_field_array("Seleccione una subcategoría","notNull",e.report.category)),t.push(e.create_field_array("Título","notNull",e.report.title)),t.push(e.create_field_array("Detalles","notNull",e.report.detail)),B.check_fields(t,"error_container")?w.updateReport(e.report).then(function(){e.back_to_map(!0),S.show_alert("Envío pendiente","Se han guardado los cambios al reporte. Se enviará cuando utilice esta aplicación conectado a internet"),e.list_reports(),e.offlineReportsMarkers[e.report._id].openPopup()}):e.back_to_map(!1)},e.cleanOfflineMarkers=function(e){e.eachLayer(function(t){"undefined"!=t._url&&null!=t._url||"Reporte pendiente de envío"==t.options.alt&&e.removeLayer(t)})},e.deleteOfflineReportOk=function(){var t=e.report._id;w.deleteGivenReport(e.report).then(function(){var n=e.offlineReportsMarkers[t];p.getMap().then(function(e){e.removeLayer(n)}),e.back_to_map(!0),e.list_reports()})},e.show_report_form=function(t){e.categories=t,document.getElementById("spinner").style.display="none",document.getElementById("foot_bar").style.display="none",T.checkNoModalIsOpen(),b.isLogged()?(e.report.name=b.name,e.report.email=b.email,e.report.password_sign_in=b.password,e.report.phone=b.phone,u.fromTemplateUrl("templates/pmb-wizard.html",{scope:e,animation:"slide-in-up",hardwareBackButtonClose:!1}).then(function(e){T.activeModal=e,T.activeModal.show()})):u.fromTemplateUrl("templates/pmb-wizard-with-login.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){T.activeModal=e,T.activeModal.show()})},e.show_offline_report_form=function(t){e.categories=t,document.getElementById("spinner").style.display="none",document.getElementById("foot_bar").style.display="none";var n="";b.isLogged()?(e.report.name=b.name,e.report.email=b.email,e.report.password_sign_in=b.password,e.report.phone=b.phone,n="templates/pmb-offline-wizard.html"):n="templates/pmb-offline-wizard.html",T.checkNoModalIsOpen(),u.fromTemplateUrl("templates/pmb-offline-wizard.html",{scope:e,animation:"slide-in-up"}).then(function(t){T.activeModal=t,T.activeModal.show().then(function(){var t=e.report.categorygroup,n=angular.element(document.querySelector("#categoriesSelect"));n.val(t),e.update_subcategories();var o=e.report.category,r="#subcategoriesSelect_"+t,a=angular.element(document.querySelector(r));a.val(o)})})},e.update_subcategories=function(){var t=document.getElementsByClassName("subcategory-active");"undefined"!=t&&t.length>0&&(t[0].className="subcategory-hidden");var n=e.report.categorygroup,o=document.getElementById("subcategoriesSelect_"+n);o.className="subcategory-active",document.getElementById("subcategoriesSelectContainer").style.display="block"},e.abuse=function(){var t=d.show({template:'Nombre: <input type="text" id="abuse_name"><br/>Email: <input type="text" id="abuse_email"><br/>Asunto: <input type="text" id="abuse_subject"><br/>Mensaje<textarea rows="6" id="abuse_message"></textarea><div id="error_container_inside"></div>',title:"Denunciar abuso",subTitle:"Estás reportando por abusiva al siguiente reporte, que contiene información personal, o similar:",scope:e,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(t){var n=new Array;return e.abuse_email=document.getElementById("abuse_email").value,e.abuse_name=document.getElementById("abuse_name").value,e.abuse_subject=document.getElementById("abuse_subject").value,e.abuse_message=document.getElementById("abuse_message").value,n.push(e.create_field_array("Nombre","notNull",e.abuse_name)),n.push(e.create_field_array("Email","email",e.abuse_email)),n.push(e.create_field_array("Asunto","notNull",e.abuse_subject)),n.push(e.create_field_array("Mensaje","notNull",e.abuse_message)),B.check_fields(n,"error_container_inside")?e.abuse_email:void t.preventDefault()}}]});t.then(function(t){if(t){var n=_.abuse(e.abuse_email,e.report_detail_id,e.abuse_name,abuse_subject,e.abuse_message);n.then(function(t){S.show_alert("Denuncia enviada","Gracias por tus comentarios. ¡Nos pondremos en contacto con usted tan pronto como nos sea posible!"),e.abuse_name=null,e.abuse_email=null,e.abuse_subject=null,e.abuse_message=null})}})},e.send_comment=function(){var t=new Array;t.push(e.create_field_array("Comentario","notNull",e.comment.update)),B.check_fields(t,"error_container_inside")&&(comment_sent=_.comment(e.comment),null==e.comment.photo?comment_sent.success(function(t,n,o,r){e.back_to_map(!0)}).error(function(t,n,o,r){B.show_error_message("error_container_inside",n),e.back_to_map(!1)}):comment_sent.then(function(t){e.back_to_map(!0)},function(e){},function(t){E(function(){e.uploadProgress=t.loaded/t.total*100,document.getElementById("sent_label").innerHTML="Enviado: "+Math.round(e.uploadProgress)+"%"})}))},e.subscribe=function(){if(b.isLogged()){var t=S.confirmPopup("Subscribirse","¿Está seguro que desea recibir un correo a la dirección "+b.email+" cuando se dejen comentarios sobre este problema?");t.then(function(t){if(t){var n=_.subscribe(b.email,e.report_detail_id);n.then(function(e){S.show_alert("Confirme su correo","Se ha enviado un link a la dirección "+b.email+" para confirmar su correo. Luego de esto comenzarán a llegarle las alertas sobre nuevos comentarios.")})}})}else{var t=S.askForOneValuePopUp(e,"Subscribirse","Por favor, ingrese un correo al que desea recibir mensajes cuando se dejen comentarios sobre este problema.","Email","email");t.then(function(t){if(t){e.one_value_popup=t;var n=_.subscribe(e.one_value_popup,e.report_detail_id);n.then(function(t){S.show_alert("Confirme su correo","Se ha enviado un link a la dirección "+e.one_value_popup+" para confirmar su correo. Luego de esto comenzarán a llegarle las alertas sobre nuevos comentarios."),e.one_value_popup=null})}})}},e.hide=function(){if(b.isLogged()){var t=S.confirmPopup("Ocultar","¿Está seguro de que desea ocultar su reporte? Este no aparecerá más ni en la página ni en la aplicación si es ocultado.");t.then(function(t){if(t){var n=_.hide(e.report_detail_id);n.then(function(e){S.show_alert("Ocultar","Se ha ocultado el reporte. No será visible en el futuro.")})}})}},e.confirmReport=function(){if(R.isOnline()){var t=new Array;if(t.push(e.create_field_array("Seleccione una subcategoría","notNull",e.report.category)),t.push(e.create_field_array("Título","notNull",e.report.title)),t.push(e.create_field_array("Detalles","notNull",e.report.detail)),B.check_fields(t,"error_container")){var n=_.report(e.report);if(document.getElementById("spinner-inside-modal").style.display="block",null==e.report.file)n.success(function(t,n,o,r){B.http_data_response_is_successful(t,"error_container")?(e.back_to_map(!0),e.loadPinsLayer()):e.back_to_map(!1)}).error(function(t,n,o,r){B.show_error_message("error_container",n),e.back_to_map(!1)});else{var o=e.report;n.then(function(t){console.log(t);var n=JSON.parse(t.response);B.http_data_response_is_successful(n,"error_container")?(e.back_to_map(!0),e.loadPinsLayer(),p.getMap().then(function(e){var t=o.lat;t-=6e-4,e.setView(new L.LatLng(t,o.lon),18)})):(console.log(n),e.back_to_map(!1))},function(t){console.log(t),e.back_to_map(!0),e.loadPinsLayer(),p.getMap().then(function(e){var t=o.lat;t-=6e-4,e.setView(new L.LatLng(t,o.lon),18)})},function(e){})}}else e.back_to_map(!1)}else e.save_offline_report().then(function(t){e.back_to_map(!0),e.list_reports(),S.show_alert("Envío pendiente","El reporte se ha guardado en su dispositivo y se enviará cuando utilice esta aplicación conectado a internet")})},e.next=function(){I.next()},e.previous=function(){I.previous()},e.confirmReportWithLogin=function(){if(R.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var t=new Array;t.push(e.create_field_array("Email","email",e.report.email)),t.push(e.create_field_array("Contraseña","notNull",e.report.password_sign_in)),t.push(e.create_field_array("Seleccione una subcategoría","notNull",e.report.category)),t.push(e.create_field_array("Título","notNull",e.report.title)),t.push(e.create_field_array("Detalles","notNull",e.report.detail)),B.check_fields(t,"error_container")?v.sign_in(e.report.password_sign_in,e.report.email).then(function(t){B.http_response_is_successful(t,"error_container")?(b.save_user_data(t.data.name,e.report.email,e.report.password_sign_in,t.data.identity_document,t.data.phone,t.data.picture_url),t.data.from_body&&(b.from_body=t.data.from_body),w.saveUser(t.data.name,e.report.email,e.report.password_sign_in,t.data.identity_document,t.data.phone,t.data.picture_url),e.set_user_picture(1),e.confirmReport()):e.back_to_map(!1)},function(t){B.show_error_message("error_container",t.statusText),e.back_to_map(!1)}):e.back_to_map(!1)}else e.save_offline_report().then(function(t){e.back_to_map(!0),e.list_reports(),S.show_alert("Envío pendiente","El reporte se ha guardado en su dispositivo y se enviará cuando utilice esta aplicación conectado a internet")})},e.save_offline_report=function(){var t=new Date,n=t.getDate(),o=t.getMonth();o+=1;var r=t.getFullYear();return e.report.date=n+"/"+o+"/"+r,w.saveReport(e.report)},e.back_to_map=function(e){e?(T.checkNoModalIsOpen(),document.getElementById("foot_bar").style.display="block",document.getElementById("spinner-inside-modal").style.display="none"):document.getElementById("spinner-inside-modal").style.display="none"},e.cancelReport=function(){T.checkNoModalIsOpen(),document.getElementById("foot_bar").style.display="block"},e.image=null,e.addImage=function(t,n,r){console.log(t),console.log(n),console.log(r),e.isUserPhoto=n,e.isCommentPhoto=r;var a=Camera.PictureSourceType.CAMERA,i=!1,l=!1;1==t&&(a=Camera.PictureSourceType.PHOTOLIBRARY,i=!1,l=!1);var s={quality:50,destinationType:Camera.DestinationType.FILE_URI,sourceType:a,allowEdit:!1,correctOrientation:i,encodingType:Camera.EncodingType.JPEG,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:l,mediaType:Camera.MediaType.PICTURE,targetWidth:360,targetHeight:360};console.log(s),o.getPicture(s).then(function(t){function n(t){console.log(t),window.resolveLocalFileSystemURL(t,function(t){console.log("got file: "+t.toURL());var n=t.toURL();1==e.isUserPhoto?e.profile.picture_url=n:1==e.isCommentPhoto?e.comment.file=n:(e.report.file=n,console.log(e.report)),e.imgURI=n},function(){console.log("Error en file entry: "+t),o(t)})}function o(e){window.resolveLocalFileSystemURL(e,r,i)}function r(e){var t=e.fullPath.substr(e.fullPath.lastIndexOf("/")+1),n=l()+t;window.resolveLocalFileSystemURL(cordova.file.dataDirectory,function(t){e.copyTo(t,n,a,i)},i)}function a(t){e.$apply(function(){e.image=t.nativeURL})}function i(e){}function l(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}console.log(t),n(t)},function(e){console.log(e)})},e.urlForImage=function(){var t="http://placehold.it/200x200";if(e.image){var n=e.image.substr(e.image.lastIndexOf("/")+1);t=cordova.file.dataDirectory+n}return t},e.list_reports=function(){e.hide_special_divs(),e.set_active_option("button-list-reports"),document.getElementById("user-options-menu").style.display="none",R.isOnline()?document.getElementById("report-list-scroll").style.display="block":e.list_offline_reports()},e.list_offline_reports_menu=function(){e.hide_special_divs(),e.list_offline_reports()},e.list_offline_reports=function(){p.getMap().then(function(t){e.cleanOfflineMarkers(t);var n=w.getAllReports(),o='<ion-scroll direction="y" id="offline-report-list-scroll"><div class="scroll"><div id="report-list-offline">';e.offlineReports=new Array,e.offlineReportsMarkers=new Array,n.then(function(n){o+="<h3><b>Reportes guardados en el dispositivo y pendientes de envío:</b></h3>",null!=n&&n.rows.length>0?(n.rows.forEach(function(n){var r=n.doc;e.offlineReports[r._id]=r,o+=e.add_offline_report_div(r);var a={alt:"Reporte pendiente de envío"},l=L.marker([r.lat,r.lon],a).addTo(t),s='<a class="text report-link" ng-click="editOfflineReport(\''+r._id+"')\"><p>"+r.title+'</p></a><p class="offline-pending">(pendiente de envío)</p>',c=i(s)(e);l.bindPopup(c[0]),e.offlineReportsMarkers[r._id]=l}),o+="<br/><h3><a ng-click='send_offline_reports_from_menu()'>- Enviar todos los reportes pendientes</a></h3>"):o+="<br/><h3>No hay ningún reporte pendiente de envío.</h3>",o+='</div></div><div class="scroll-bar scroll-bar-v"><div class="scroll-bar-indicator scroll-bar-fade-out"></div></div></ion-scroll>';var r=angular.element(document.querySelector("#offline-report-list-container"));r.html(o);i(r.contents())(e);e.$broadcast("scroll.resize")})["catch"](function(e){o+="<br/><h3>No hay ningún reporte pendiente de envío.</h3>",o+='</div></div><div class="scroll-bar scroll-bar-v"><div class="scroll-bar-indicator scroll-bar-fade-out"></div></div></ion-scroll>'}),document.getElementById("offline-report-list-container").style.display="block"})},e.list_reports_and_go=function(t){e.set_active_option("button-list-reports"),document.getElementById("user-options-menu").style.display="none",R.isOnline()?document.getElementById("report-list-scroll").style.display="block":p.getMap().then(function(n){n.eachLayer(function(e){"undefined"!=e._url&&null!=e._url||n.removeLayer(e)});var o=w.getAllReports(),r='<div id="report-list-offline">';e.offlineReports=new Array,e.offlineReportsMarkers=new Array,o.then(function(o){r+="<h3><b>Reportes guardados en el dispositivo y pendientes de envío:</b></h3>",null!=o&&o.rows.length>0?o.rows.forEach(function(o){var a=o.doc;e.offlineReports[a._id]=a,r+=e.add_offline_report_div(a);var l=L.marker([a.lat,a.lon]).addTo(n),s='<a class="text report-link" ng-click="editOfflineReport(\''+a._id+"')\"><p>"+a.title+'</p></a><p class="offline-pending">(pendiente de envío)</p>',c=i(s)(e);l.bindPopup(c[0]),e.offlineReportsMarkers[a._id]=l,a._id==t&&goToOfflineReport(t)}):r+="<br/><h3>No hay ningún reporte pendiente de envío.</h3>",r+="</div>";var a=angular.element(document.querySelector("#offline-report-list-container"));a.html(r);i(a.contents())(e)})["catch"](function(e){r+="<br/><h3>No hay ningún reporte pendiente de envío.</h3>",r+="</div>"}),document.getElementById("offline-report-list-container").style.display="block"})},e.goToOfflineReport=function(t){var n=e.offlineReports[t];p.getMap().then(function(o){var r=n.lat;r-=.001,e.map.center.lat=r,e.map.center.lng=n.lon,o.setView(new L.LatLng(r,n.lon),16),e.offlineReportsMarkers[t].openPopup()})},e.add_offline_report_div=function(e){var t='<div id="report-container-'+e._id+'" ng-click="goToOfflineReport(\''+e._id+'\')" class="report-inside-list-offline">';return t+='<div class="report-in-list-icon-offline"></div>',t+='<div class="report-in-list-info">',t=t+'<p id="report-title-'+e._id+'" class="report-in-list-title">'+e.title+"</p>",t=t+'<p id="report-category-'+e._id+'" class="report-in-list-category">'+e.category+"</p>",t=t+'<p id="report-date-'+e._id+'" class="report-in-list-date">'+e.date+"</p>",t=t+'<p id="report-date-'+e._id+'" class="report-in-list-actions"><a ng-click="editOfflineReport(\''+e._id+"')\">Editar</a>&nbsp; <a ng-click=\"deleteOfflineReport('"+e._id+"')\">Eliminar</a></p>",t+='<div class="report-mini-icons">',null!=e.file&&"undefined"!=e.file&&(t+='<img class="report-mini-icon" src="./img/icon-camera.png" />'),t+='<img class="report-mini-icon" src="./img/icon-tags.png" />',t+="</div></div></div>"},e.help=function(){R.isOnline()?(document.getElementById("spinner").style.display="block",e.set_active_option("button-faq"),e.hide_special_divs(),h.all().success(function(n){T.checkNoModalIsOpen(),e.faq=t.trustAsHtml(n),document.getElementById("spinner").style.display="none",u.fromTemplateUrl("templates/faq.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){T.activeModal=t,T.activeModal.show().then(function(){var t=angular.element(document.querySelector("#faq-container-div"));i(t.contents())(e)})})})):S.show_alert("Sin conexión a internet","Para ver la ayuda debe estar conectado a internet")},e.scrollMe=function(e){k.hash(e);var t=C.$getByHandle("content");t.anchorScroll()},e.close_faq_modal=function(){T.checkNoModalIsOpen()},e.set_active_option=function(e){document.getElementById("button-report").className="option-inactive",document.getElementById("button-list-reports").className="option-inactive",document.getElementById("button-faq").className="option-inactive",document.getElementById("button-find-me").className="option-inactive",document.getElementById(e).className="option-active"},e.hide_special_divs=function(){document.getElementById("report-list-scroll").style.display="none",document.getElementById("offline-report-list-container").style.display="none",document.getElementById("user-options-menu").style.display="none",document.getElementById("map_crosshair").style.display="none",document.getElementById("map_crosshair_button").style.display="none"},e.viewReportDetails=function(n){e.report_detail_id=n,R.isOnline()?(document.getElementById("spinner").style.display="block",e.hide_special_divs(),g.getById(n).then(function(o){e.report_detail=t.trustAsHtml(o.data.replace("overflow:auto;","").replace('src="/','src="'+m.baseURL).replace("url(/","url("+m.baseURL+m.baseCobrand+"/").replace("url(/","url("+m.baseURL+m.baseCobrand+"/")),document.getElementById("spinner").style.display="none",e.comment={submit_update:1,id:e.report_detail_id,may_show_name:!0,add_alert:!0,fixed:!1,update:"",name:null,form_rznvy:null,photo:null},T.checkNoModalIsOpen(),u.fromTemplateUrl("templates/report-detail.html",{scope:e,animation:"slide-in-up"}).then(function(t){T.activeModal=t,T.activeModal.show().then(function(){var t=angular.element(document.querySelector("#report-detail-container-div"));i(t.contents())(e);if(b.isLogged()){if(document.getElementById("comment_container").style.display="block",e.comment.name=b.name,e.comment.form_rznvy=b.email,null!=b.from_body){var o=e.featureReports[n].feature.geometry.coordinates[0],r=e.featureReports[n].feature.geometry.coordinates[1];_.getAreas(o,r).then(function(t){jsonObject=t.data,e.isBodyAdmin=!1;for(var o in jsonObject){var r=o,a=jsonObject[o];"CIU"==a.type&&b.from_body==r&&(e.isBodyAdmin=!0,e.comment.new_category=e.featureReports[n].feature.properties.category,e.comment.state=e.featureReports[n].feature.properties.state,y.allFromBodyArea(r).then(function(t){jsonAreaObject=t.data,e.allCategoriesFromBoyArea=[];for(var n in jsonAreaObject)e.allCategoriesFromBoyArea.push(n);E(function(){document.getElementById("new_category_select").value=e.comment.new_category},500)}))}})}else e.isBodyAdmin=!1;document.getElementById("comment_container").style.display="block"}else document.getElementById("comment_container").style.display="none"})})},function(e){document.getElementById("spinner").style.display="none",B.show_error_message_popup("ERROR AL CARGAR DATOS DEL REPORTE: "+e.statusText)})):S.show_alert("Sin conexión a internet","Para ver los detalles del reporte, debe estar conectado a internet.")},e.close_report_detail_modal=function(){T.checkNoModalIsOpen(),e.report_detail_id=null},e.locate=function(){a.getCurrentPosition().then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,e.map.center.zoom=15,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"You Are Here",focus:!0,draggable:!1}},function(e){})},e.addMapControls=function(){document.getElementById("map_crosshair").style.display="block",document.getElementById("map_crosshair_button").style.display="block"},e.startReportFromCrosshairs=function(){p.getMap().then(function(t){var n=t.getCenter();f.save_new_report_position(n.lat,n.lng),e.new_report(1)})},e.getOnlyCategoryIconURL=function(e){var t=e.replace("-proceso","");return t=t.replace("-resuelto","")},e.hideOffScreenPins=function(){p.getMap().then(function(t){var n=t.getBounds(),o=Object.keys(e.reportsByState);e.reportsVisible=[],o.forEach(function(o){e.reportsByState[o].forEach(function(o,r){var a=n.contains(o.getLatLng());a?a&&(t.addLayer(o),e.reportsVisible.push(o.feature)):t.removeLayer(o)})})})},e.removeAllPins=function(){p.getMap().then(function(t){var n=(t.getBounds(),Object.keys(e.reportsByState));e.reportsVisible=[],n.forEach(function(n){e.reportsByState[n].forEach(function(e,n){t.removeLayer(e)})})})},e.loadPinsLayer=function(){document.getElementById("spinner")&&(document.getElementById("spinner").style.display="block"),e.removeAllPins(),e.reportsByState={},g.getAll().then(function(t){var n=t.data.features;e.reports=t.data.features,n.forEach(function(t){if(t.properties){var n=t.geometry.coordinates[0],o=t.geometry.coordinates[1],r=m.baseURL+t.properties.pin_url,a=L.icon({iconUrl:r,iconSize:[29,34],iconAnchor:[14,34],popupAnchor:[14,-8]}),l=L.marker([o,n],{icon:a});if(l.feature=t,e.featureReports[l.feature.properties.id]=l,e.reportsByState["state-"+t.properties.state]||(e.reportsByState["state-"+t.properties.state]=[]),e.reportsByState["state-"+t.properties.state].push(l),t.properties){reportId=t.properties.id,descripcion=t.properties.title,html='<a class="text report-link" ng-click="viewReportDetails('+reportId+')"><p>'+descripcion+"</p></a>";var s=i(html)(e);l.bindPopup(s[0])}}}),document.getElementById("spinner").style.display="none",e.hideOffScreenPins()})},e.addReportsLayer=function(){if(null!=e.jsonLayer)return!1;var t=m.baseURL;buildPopup=function(e,t){var n=e[3],o=e[4],r='<a class="text report-link" ng-click="viewReportDetails('+n+')"><p>'+o+"</p></a>";return r},onEachFeature=function(t,n){var o,r,a;if(t.properties){r=t.properties.id,a=t.properties.title,o='<a class="text report-link" ng-click="viewReportDetails('+r+')"><p>'+a+"</p></a>";var l=i(o)(e);n.bindPopup(l[0])}},l=new L.LayerJSON({url:t+"/ajax_geo?bbox={bbox}",locAsGeoJSON:!0,onEachFeature:onEachFeature}),e.jsonLayer=l,p.getMap().then(function(e){e.addLayer(l)}),l.on("dataloaded",function(t){e.reports=t.data.features}),l.on("layeradd",function(n){n.layer.eachLayer(function(n){var o=L.icon({iconUrl:t+"/"+n.feature.properties.pin_url,iconSize:[29,34],iconAnchor:[14,34],popupAnchor:[0,-8]});n.setIcon(o),void 0===e.featureReports[n.feature.properties.id]&&(e.featureReports[n.feature.properties.id]=n)})})},e.goToReport=function(t){var n=document.getElementsByClassName("report-inside-list-active");n.length>0&&(n[0].className="report-inside-list");var o=document.getElementById("report-container-"+t.properties.id);o.className="report-inside-list-active";var r=e.featureReports[t.properties.id];p.getMap().then(function(e){var t=r.getLatLng(),n=t.lat;n-=6e-4,e.setView(new L.LatLng(n,t.lng),18),r.openPopup()})},e.model=[],e.externalModel=[],e.selectedItems=[],e.preselectedSearchItems=[],e.clickedValueModel="",e.removedValueModel="",e.getTestItems=function(e){var t,n=[];return e&&(t={items:[{id:"1",name:e+"1",view:"view: "+e+"1"},{id:"2",name:e+"2",view:"view: "+e+"2"},{id:"3",name:e+"3",view:"view: "+e+"3"}]},n=t.items),n},e.itemsRemoved=function(t){e.removedValueModel=t},e.user_options=function(){var t=document.getElementById("user-options-menu");if("block"==t.style.display)t.style.display="none";else{var n=b.name;null==n?e.show_anonymous_menu():e.show_user_menu()}},e.show_anonymous_menu=function(){var t=document.getElementById("user-options-menu"),n="<div id='auth_options'><div class='nonauth-link' ng-click='show_login_modal()'>Iniciar sesión</div>";n+="<div class='nonauth-link' ng-click='show_sign_up_modal()'>Registrarse</div></div>",
t.innerHTML=n,i(t)(e),t.style.height="120px",t.style.width="150px",t.style.display="block"},e.show_user_menu=function(){var t=document.getElementById("user-options-menu"),n=b.name+"<div id='auth_options'><div class='user-logged-link' ng-click='show_edit_profile_modal()'>Mi perfil</div>";n+="<div class='user-logged-link' ng-click='change_password()'>Cambiar contraseña</div>",n+="<div class='user-logged-link' ng-click='list_offline_reports_menu()'>Reportes pendientes</div>",n+="<div class='user-logged-link' ng-click='sign_out()'>Cerrar sesión</div></div>",t.innerHTML=n,i(t)(e),t.style.height="220px",t.style.width="200px",t.style.display="block"},e.forgot_password=function(){T.checkNoModalIsOpen(),e.nonauth=new Array,e.nonauth.email="",u.fromTemplateUrl("templates/forgot_password.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("user-options-menu").style.display="none",T.activeModal=e,document.getElementById("foot_bar").style.display="none",T.activeModal.show()})},e.forgot_password_ok=function(){document.getElementById("spinner-inside-modal").style.display="block";var t=new Array;t.push(e.create_field_array("Email","email",e.nonauth.email)),B.check_fields(t,"error_container")?(document.getElementById("spinner-inside-modal").style.display="none",v.password_recovery(e.nonauth.email).then(function(e){"Email successfuly sended"==e.data.message?(T.checkNoModalIsOpen(),document.getElementById("foot_bar").style.display="block",E(function(){S.show_alert("Instrucciones enviadas con éxito","Se han enviado intrucciones para restablecer tu contraseña al correo proporcionado anteriormente.")},1e3)):B.show_error_message("error_container",e.data.message)})):document.getElementById("spinner-inside-modal").style.display="none"},e.change_password=function(){T.checkNoModalIsOpen(),e.nonauth=new Array,e.nonauth.oldPassword="",e.nonauth.newPassword="",e.nonauth.confirmPassword="",u.fromTemplateUrl("templates/change_password.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("user-options-menu").style.display="none",T.activeModal=e,document.getElementById("foot_bar").style.display="none",T.activeModal.show()})},e.change_password_ok=function(){document.getElementById("spinner-inside-modal").style.display="block";var t=new Array;t.push(e.create_field_array("Contraseña actual","notNull",e.nonauth.oldPassword)),t.push(e.create_field_array("Nueva contraseña","notNull",e.nonauth.newPassword)),t.push(e.create_field_array("Confirmar nueva contraseña","notNull",e.nonauth.confirmPassword)),t.push(e.create_field_array_with_twoFields("Nueva contraseña y Confirmar contraseña","equalsTo",e.nonauth.newPassword,e.nonauth.confirmPassword)),B.check_fields(t,"error_container")?v.password_change(b.email,e.nonauth.oldPassword,e.nonauth.newPassword,e.nonauth.confirmPassword).then(function(t){document.getElementById("spinner-inside-modal").style.display="none","Password successfuly changed"==t.data.message?(b.save_user_data(b.name,b.email,e.nonauth.newPassword,b.identity_document,b.phone,b.picture_url),w.saveUser(b.name,b.email,b.password,b.identity_document,b.phone,b.picture_url),T.checkNoModalIsOpen(),document.getElementById("foot_bar").style.display="block"):B.show_error_message("error_container","Se ha producido un error al cambiar su clave, por favor intente más tarde")}):document.getElementById("spinner-inside-modal").style.display="none"},e.create_field_array=function(e,t,n){var o=new Array;return o.name=e,o.type=t,o.value=n,o},e.create_field_array_with_twoFields=function(e,t,n,o){var r=new Array;return r.name=e,r.type=t,r.value=n,r.secondValue=o,r},e.fix_fb_image_link=function(e){if(e.indexOf("http://graph.facebook.com")>=0){var t=e.split("http://graph.facebook.com"),n="http://graph.facebook.com"+t[1];return n}return e},e.sign_in=function(t,n){if(R.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var o=new Array;o.push(e.create_field_array("Email","email",t)),o.push(e.create_field_array("Contraseña","notNull",n)),B.check_fields(o,"error_container")?v.sign_in(n,t).then(function(o){B.http_response_is_successful(o,"error_container")?(o.data.picture_url=e.fix_fb_image_link(o.data.picture_url),b.save_user_data(o.data.name,t,n,o.data.identity_document,o.data.phone,o.data.picture_url),w.saveUser(o.data.name,t,n,o.data.identity_document,o.data.phone,o.data.picture_url),o.data.from_body&&(b.from_body=o.data.from_body),document.getElementById("spinner-inside-modal").style.display="none",e.close_login_modal(),e.set_user_picture(1)):document.getElementById("spinner-inside-modal").style.display="none"},function(e){document.getElementById("spinner-inside-modal").style.display="none",B.show_error_message("error_container",e.statusText)}):document.getElementById("spinner-inside-modal").style.display="none"}else S.show_alert("Sin conexión a internet","Para iniciar sesión debe estar conectado a internet")},e.sign_in_ajax=function(t,n){v.sign_in(n,t).then(function(o){return B.http_response_is_successful_ajax(o)?(o.data.picture_url=e.fix_fb_image_link(o.data.picture_url),b.save_user_data(o.data.name,t,n,o.data.identity_document,o.data.phone,o.data.picture_url),w.saveUser(o.data.name,t,n,o.data.identity_document,o.data.phone,o.data.picture_url),o.data.from_body&&(b.from_body=o.data.from_body),e.set_user_picture(1),1):0},function(e){return 0})},e.sign_out=function(){b.erase_user_data(),w.eraseUser(),document.getElementById("spinner").style.display="none",e.set_user_picture(0),document.getElementById("user-options-menu").style.display="none"},e.show_edit_profile_modal=function(){e.profile=new Array,e.profile.email=b.email,e.profile.password="",e.profile.fullname=b.name,e.profile.new_email=b.email,e.profile.id_doc=b.identity_document,e.profile.telephone=b.phone,e.profile.picture_url=null,null!=b.picture_url?(e.actual_photo=b.picture_url,"url(./img/icon-user-anonymous.png)"==e.actual_photo&&(e.actual_photo="./img/icon-user-anonymous.png"),T.checkNoModalIsOpen(),u.fromTemplateUrl("templates/edit_profile_with_photo.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("user-options-menu").style.display="none",T.activeModal=e,document.getElementById("foot_bar").style.display="none",T.activeModal.show()})):(e.actual_photo=null,T.checkNoModalIsOpen(),u.fromTemplateUrl("templates/edit_profile.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),T.activeModal=t,document.getElementById("foot_bar").style.display="none",T.activeModal.show()}))},e.close_edit_profile_modal=function(){document.getElementById("foot_bar").style.display="block",T.checkNoModalIsOpen()},e.edit_profile_ok=function(){e.edit_profile(b.email,b.password,e.profile.fullname,e.profile.new_email,e.profile.id_doc,e.profile.telephone,e.profile.picture_url)},e.edit_profile=function(t,n,o,r,a,i,l){if(R.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var s=new Array;if(s.push(e.create_field_array("Correo electrónico","email",r)),s.push(e.create_field_array("Cédula de Identidad","iddoc_uy",a)),s.push(e.create_field_array("Nombre y apellido","two_words",o)),B.check_fields(s,"error_container")){var c=v.edit_user(t,n,o,r,a,i,l);null==l||""==l?c.success(function(t,o,r,a){document.getElementById("sent_label").innerHTML="Enviado: 100%",B.http_data_response_is_successful(t,"error_container")?(b.save_user_data(t.name,t.email,n,t.identity_document,t.phone,t.picture_url),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):document.getElementById("spinner-inside-modal").style.display="none"}).error(function(e,t,n,o){B.show_error_message("error_container",t),document.getElementById("spinner-inside-modal").style.display="none"}):c.then(function(t){var o=JSON.parse(t.response);B.http_data_response_is_successful(o,"error_container")?(b.save_user_data(o.name,o.email,n,o.identity_document,o.phone,o.picture_url),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):document.getElementById("spinner-inside-modal").style.display="none"},function(e){var t="Código: "+e.code;t=t+" Origen: "+e.source,t=t+" Destino: "+e.target,t=t+" http_status: "+e.http_status,t=t+" Body: "+e.body,t=t+" Exception: "+e.exception,B.show_error_message("error_container","Hubo un error en el envío: "+t),document.getElementById("spinner-inside-modal").style.display="none"},function(t){E(function(){e.uploadProgress=t.loaded/t.total*100,document.getElementById("sent_label").innerHTML="Enviado: "+Math.round(e.uploadProgress)+"%"})})}else document.getElementById("spinner-inside-modal").style.display="none"}else S.show_alert("Sin conexión a internet","Para editar su perfil debe estar conectado a internet")},e.show_login_modal=function(){e.nonauth=new Array,e.nonauth.email="",e.nonauth.password="",T.checkNoModalIsOpen(),u.fromTemplateUrl("templates/log_in.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),T.activeModal=t,document.getElementById("foot_bar").style.display="none",T.activeModal.show()})},e.login_ok=function(){e.sign_in(e.nonauth.email,e.nonauth.password)},e.close_login_modal=function(){document.getElementById("foot_bar").style.display="block",T.checkNoModalIsOpen()},e.show_sign_up_modal=function(){e.newuser=new Array,e.newuser.email="",e.newuser.password="",e.newuser.fullname="",e.newuser.id_doc="",e.newuser.telephone="",T.checkNoModalIsOpen(),u.fromTemplateUrl("templates/sign_up.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),T.activeModal=t,document.getElementById("foot_bar").style.display="none",T.activeModal.show()})},e.close_sign_up_modal=function(){document.getElementById("foot_bar").style.display="block",T.checkNoModalIsOpen()},e.sign_up=function(t,n,o,r,a){if(R.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var i=new Array;i.push(e.create_field_array("Correo electrónico","email",t)),i.push(e.create_field_array("Contraseña","notNull",o)),i.push(e.create_field_array("Cédula de Identidad","iddoc_uy",r)),i.push(e.create_field_array("Nombre y apellido","two_words",n)),B.check_fields(i,"error_container")?v.create_user(t,n,o,r,a).then(function(i){if(B.http_response_is_successful(i,"error_container")){b.save_user_data(n,t,o,r,a,null),document.getElementById("spinner-inside-modal").style.display="none",e.close_sign_up_modal();var l=d.alert({title:"Usuario creado con éxito",template:i.data.message});l.then(function(e){})}else document.getElementById("spinner-inside-modal").style.display="none"},function(e){document.getElementById("spinner-inside-modal").style.display="none",B.show_error_message("error_container",e.statusText)}):document.getElementById("spinner-inside-modal").style.display="none"}else S.show_alert("Sin conexión a internet","Para iniciar registrarse debe estar conectado a internet")},e.sign_up_ok=function(){e.sign_up(e.newuser.email,e.newuser.fullname,e.newuser.password,e.newuser.id_doc,e.newuser.telephone)},e.check_user_logged=function(){var t=b.name;if(null==t){var n=w.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?e.sign_in_ajax(t.email,t.password):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==b.picture_url||""==b.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_offline_user=function(){var t=b.name;if(null==t){var n=w.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?b.save_user_data(t.name,t.email,t.password,t.identity_document,t.phone,t.picture_url):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==b.picture_url||""==b.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_user_picture=function(t){document.getElementById("user_picture");0==t?e.user_cached_image="./img/icon-user-anonymous.png":null!=b.picture_url&&""!=b.picture_url?e.user_cached_image=b.picture_url:e.user_cached_image="./img/icon-user-anonymous.png"},e.find_me=function(){e.set_active_option("button-find-me"),e.hide_special_divs();var t={timeout:1e4,enableHighAccuracy:!0};a.getCurrentPosition(t).then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,f.save_new_report_position(t.coords.latitude,t.coords.longitude),R.isOnline()?e.map.center.zoom=18:e.map.center.zoom=16,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"<p align='center'>Te encuentras aquí <br/> <a ng-click='new_report(1);'>Iniciar reporte en tu posición actual</a></p>",focus:!0,draggable:!1,getMessageScope:function(){return e}}},function(t){e.openCouncilSelector()})};e.$on("leafletDirectiveMap.contextmenu",function(t,n){e.hide_special_divs(),console.log(n.leafletEvent.latlng.lat),console.log(n.leafletEvent.latlng.lng),f.save_new_report_position(n.leafletEvent.latlng.lat,n.leafletEvent.latlng.lng),e.new_report(1)}),e.select_imm=function(){e.close_council_modal(),f.selectCouncil("289"),x.centerMapOnCoords(-34.901113,-56.164531,14)},e.select_idr=function(){e.close_council_modal(),f.selectCouncil("255"),x.centerMapOnCoords(-30.8997469,-55.5434686,14)},e.select_irn=function(){e.close_council_modal(),f.selectCouncil("360"),x.centerMapOnCoords(-33.124972,-58.303736,14)},e.openCouncilSelector=function(){u.fromTemplateUrl("templates/council_selector_with_back_button.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){f.council_modal=e,f.council_modal.show().then(function(){})})},e.close_council_modal=function(){f.council_modal.hide(),f.council_modal.remove()}}]),pmb_im.controllers.controller("PMBCtrl",["$scope","$state","leafletData","PMBService","ReportService","locationAPI","MapService","_","Loader","LocationsService","$ionicModal",function(e,t,n,o,r,a,i,l,s,c,u){e.reportButton={text:"Reportar",state:"unConfirmed"},e.$on("$ionicView.afterEnter",function(){n.getMap();""!=c.new_report_lat?i.centerMapOnCoords(c.new_report_lat,c.new_report_lng,16):""!=c.initial_lat?i.centerMapOnCoords(c.initial_lat,c.initial_lng,16):e.openCouncilSelector()}),e.select_imm=function(){e.close_council_modal(),c.selectCouncil("289"),i.centerMapOnCoords(-34.901113,-56.164531,14)},e.select_idr=function(){e.close_council_modal(),c.selectCouncil("255"),i.centerMapOnCoords(-30.8997469,-55.5434686,14)},e.select_irn=function(){e.close_council_modal(),c.selectCouncil("360"),i.centerMapOnCoords(-33.124972,-58.303736,14)},e.openCouncilSelector=function(){u.fromTemplateUrl("templates/council_selector_with_back_button.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){c.council_modal=e,c.council_modal.show().then(function(){})})},e.close_council_modal=function(){c.council_modal.hide(),c.council_modal.remove()},e.searchMode="calle.lugar",e.location={calle:null,esquina:null,lugar:null};var d={tipo:null,pathParams:[]};e.$on("$stateChangeSuccess",function(){e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick)}),e.initReport=function(){var t,o=L.icon({iconUrl:"img/pin@x2.png",iconSize:[70,110],iconAnchor:[-18,55]});"unConfirmed"==e.reportButton.state&&(e.reportButton.text="Confirmar",e.reportButton.state="about2Confirm",n.getMap().then(function(n){t=new L.marker(n.getCenter(),{icon:o,clickable:!1}).addTo(n),r._new(),r.current.setLatLng(n.getCenter()),e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick)}))},e.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e.searchLocation=function(t){var n;if(t&&t.length>=2){if("calle.lugar"==e.searchMode)n=a.searchLocationByStr(t);else{if(e.isNumeric(t.trim())){var o=[],r={descTipo:"NUMERO",address:t,lat:t};return o[0]=r,o}n=a.searchEsquinaByStr({calle:e.selectedItem.lat,esquina:t})}return n}return[]},e.onClick=function(){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()},e.itemsClicked=function(t){if(e.clickedValueModel=t,e.selectedItem=t.item,e.ionAutocompleteElementSearch=angular.element(document.getElementsByClassName("ion-autocomplete-search")),"esquina.numero"==e.searchMode){d.pathParams=[],e.location.esquina=e.selectedItem,d.pathParams.push(e.location.calle.lat),d.pathParams.push(e.location.esquina.lat);var n="",o="";e.isNumeric(e.selectedItem.address)?(d.tipo="DIRECCION",o="door"):(d.tipo="ESQUINA",n="esquina",o="corner"),a.getLocationGeomPMB(e.location.calle.lat,e.location.esquina.lat,o).then(function(t){var o=e.location.calle.address+" "+n+" "+e.selectedItem.address;i.goToPlace(o,t.data.latitude,t.data.longitude,e),e.searchMode="calle.lugar",e.ionAutocompleteElementSearch.attr("placeholder","Buscar calle"),e.externalModel=[]})}else e.location.calle=e.selectedItem,e.searchMode="esquina.numero",e.ionAutocompleteElementSearch.attr("placeholder","Esquina o número"),e.ionAutocompleteElement.controller("ionAutocomplete").showModal(),e.preselectedSearchItems=[]},e.itemsCanceled=function(t){var n=parseInt(t.searchQuery);Number.isInteger(n)&&(d.tipo="DIRECCION",d.pathParams.push(e.location.calle.codigo),d.pathParams.push(n),a.getLocationGeom(d).then(function(t){i.goToPlace(angular.extend({nombre:e.selectedItem.nombre+" "+n},t),e),e.searchMode="calle.lugar"},function(t){s.showAlert("Error","No existe esa direccion").then(function(t){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()})}))}}]),pmb_im.services.factory("AuthService",["$http","$cordovaFileTransfer","ConfigService",function(e,t,n){var o=n.baseURL+"/auth/ajax/";return{sign_in:function(t,n){return e.get(o+"sign_in",{withCredentials:!0,params:{password_sign_in:t,email:n}})},sign_out:function(t,n){return e.get(o+"sign_out",{withCredentials:!0,params:{password_sign_in:t,email:n}})},create_user:function(t,n,r,a,i){return e.get(o+"create_user",{withCredentials:!0,params:{form_email:t,name:n,password_register:r,identity_document:a,phone:i}})},password_recovery:function(t){return e.get(o+"forgot_password",{params:{login_email:t}})},password_change:function(t,n,r,a){var i="email="+t+"&password_sign_in="+n+"&new_password="+r+"&confirm="+a;return e.post(o+"change_password",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},edit_user:function(n,r,a,i,l,s,c){if(null!=c&&""!=c){var u={fileKey:"photo",withCredentials:!0,params:{email:n,password_sign_in:r,name:a,new_email:i,identity_document:l,phone:s}},d=!0;return t.upload(o+"edit_user",c,u,d)}return e.get(o+"edit_user",{withCredentials:!0,params:{email:n,password_sign_in:r,name:a,new_email:i,identity_document:l,phone:s}})}}}]),pmb_im.services.factory("CategoriesService",["$http","LocationsService","ConfigService","DBService",function(e,t,n,o){var r=n.baseURL+"/report/new/ajax",a=n.baseURL+"/api/categories/";return{all:function(){return e.get(r,{params:{lat:t.new_report_lat,lon:t.new_report_lng,format:"json"}})},allFromBodyArea:function(t){return e.get(a,{params:{api_key:"1234",area:t}})},getCachedCategories:function(){return o.getCategories()}}}]),pmb_im.services.factory("ConfigService",["$http",function(e){var t={};return t.baseURL="/data",ionic.Platform.isWebView()&&(t.baseURL="https://pormibarrio.freyja.datauy.org"),t.baseCobrand="/cobrands/pormibarrio",t}]),pmb_im.services.factory("ConnectivityService",["$cordovaNetwork",function(e){return{isOnline:function(){if(!ionic.Platform.isWebView())return navigator.onLine;try{return e.isOnline()}catch(t){return!0}},isOffline:function(){if(!ionic.Platform.isWebView())return!navigator.onLine;try{return!e.isOnline()}catch(t){return!1}}}}]),pmb_im.services.factory("DBService",["$q",function(e){function t(t,o,r,a,i,l){var s={_id:"user-logged",name:t,email:o,password:r,identity_document:a,phone:i,picture_url:l};n().then(function(t){return s._rev=t._rev,e.when(m.put(s))})["catch"](function(t){return e.when(m.put(s))})}function n(){return e.when(m.get("user-logged"))}function o(){e.when(m.get("user-logged")).then(function(t){return e.when(m.remove(t))})}function r(){return"empty"==m?m=new PouchDB("mydb.db",{adapter:"cordova-sqlite",iosDatabaseLocation:"default"}):m}function a(t){var n=new Date,o="report_"+n.getFullYear()+(n.getMonth()+1)+n.getDate()+n.getMilliseconds();return t._id=o,e.when(m.put(t))}function i(t){return e.when(m.put(t))}function l(){return e.when(m.get("categories-list"))}function s(t){l().then(function(n){return t._rev=n._rev,e.when(m.put(t))})["catch"](function(n){return t._id="categories-list",e.when(m.put(t))})}function c(t){return e.when(m.get(t))}function u(){return e.when(m.allDocs({include_docs:!0,attachments:!1,startkey:"report",endkey:"report_"}))}function d(t){e.when(db.get(t)).then(function(t){return e.when(m.remove(t))})}function p(t){return e.when(m.remove(t))}var m="empty";return{initDB:r,saveUser:t,getUser:n,eraseUser:o,saveReport:a,getReport:c,getAllReports:u,updateReport:i,deleteReport:d,deleteGivenReport:p,getCategories:l,saveCategories:s}}]),pmb_im.services.factory("ErrorService",["$http","$ionicPopup","ValidationService",function(e,t,n){return{http_response_is_successful:function(e,t){var n=document.getElementById(t);return 0==e.data.result?(n.innerHTML="<h3>"+e.data.message+"</h3>",n.style.display="block",!1):(n.style.display="none",!0)},http_response_is_successful_ajax:function(e){return 0!=e.data.result},http_response_is_successful_popup:function(e){if(0==e.data.result){var n=t.alert({title:"Error",template:e.data.message});return n.then(function(e){return!1}),!1}return!0},http_data_response_is_successful:function(e,t){var n=document.getElementById(t);return 0==e.result?(n.innerHTML="<h3>"+e.message+"</h3>",n.style.display="block",!1):(n.style.display="none",!0)},http_data_response_is_successful_ajax:function(e){return 0!=e.result},show_error_message:function(e,t){var n=document.getElementById(e);return n.innerHTML="<h3>"+t+"</h3>",n.style.display="block",!1},show_error_message_popup:function(e){var n=t.alert({title:"Error",template:e});return n.then(function(e){return!1}),!1},check_fields:function(e,t){var o="";if(e.forEach(function(e){"notNull"==e.type&&(n.validate_not_empty(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no puede estar vacío.</h3>')),"email"==e.type&&(n.validate_email(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==e.type&&(n.validate_iddoc_uy(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una cédula uruguaya válida.</h3>')),"two_words"==e.type&&(n.validate_two_words(e.value)||(o=o+'<h3>- El campo "'+e.name+'" debe contener al menos dos palabras.</h3>')),"equalsTo"==e.type&&(n.validate_equalsTo(e.value,e.secondValue)||(o=o+'<h3>- Los campos "'+e.name+'" no coinciden.</h3>'))}),""==o)return!0;var r=document.getElementById(t);return r.innerHTML=o,r.style.display="block",!1}}}]),pmb_im.services.factory("FaqService",["$http","ConfigService",function(e,t){var n=t.baseURL+"/faq";return{all:function(){return e.get(n,{params:{ajax:"1"}})}}}]),pmb_im.services.factory("Loader",["$ionicLoading","$timeout","$ionicPopup",function(e,t,n){var o={showLoading:function(t){t=t||"Loading...",e.show({template:t})},hideLoading:function(){e.hide()},toggleLoadingWithMessage:function(e,n){var o=this;o.showLoading(e),t(function(){o.hideLoading()},n||3e3)},confirmPopup:function(e,t){var o=n.confirm({title:e,template:t});return o},showAlert:function(e,t){var o=n.alert({title:e,template:t});return o}};return o}]),pmb_im.services.factory("LocationsService",[function(){var e={};return e.initial_lat="",e.initial_lng="",e.new_report_lat="",e.new_report_lng="",e.council_modal=null,e.selected_council=null,e.selectCouncil=function(t){e.selected_council=t},e.save_initial_position=function(t){e.initial_lat=t.coords.latitude,e.initial_lng=t.coords.longitude},e.save_new_report_position=function(t,n){e.new_report_lat=t,e.new_report_lng=n,e.initial_lat=t,e.initial_lng=n},e.savedLocations=[],e}]),pmb_im.services.factory("MapService",["leafletData","$compile",function(e,t){proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs");var n={};return n.goToPlace=function(n,o,r,a){var i={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}},features:[{type:"Feature",geometry:{type:"Point",coordinates:[o,r]},properties:{nombre:n}}]};e.getMap().then(function(e){var n,o=L.Proj.geoJson(i,{pointToLayer:function(e,o){n=o;var r="<p align='center'>"+e.properties.nombre+" <br/> <a ng-click='new_report_from_latlon("+n.lat+","+n.lng+");'>Iniciar reporte aquí</a></p>",i=t(r)(a);return L.marker(o).bindPopup(i[0])}});o.addTo(e),e.setView(n,18),o.openPopup()})},n.centerMapOnCoords=function(t,n,o){e.getMap().then(function(e){e.setView(new L.LatLng(t,n),o)})},n}]),pmb_im.services.factory("ModalService",[function(){var e={};return e.activeModal=null,e.checkNoModalIsOpen=function(){e.activeModal&&(e.activeModal.hide(),e.activeModal.remove())},e}]),pmb_im.services.factory("PMBService",["$http","leafletData","$cordovaFileTransfer","ConfigService",function(e,t,n,o){var r=o.baseURL,a={report:function(t){if(console.log(t),t.file){var o={fileKey:"photo",fileName:"image.jpeg",chunkedMode:!1,mimeType:"image/jpeg",params:t,withCredentials:!0};o.headers={Connection:"Close"};var a=!0;return n.upload(r+"/report/new/mobile",t.file,o,a)}return e.get(r+"/report/new/mobile",{params:t})},subscribe:function(t,n){return e.get(r+"/alert/subscribe_ajax",{params:{rznvy:t,id:n,type:"updates"}})},abuse:function(t,n,o,a,i){return e.get(r+"/contact/submit_ajax",{params:{em:t,id:n,name:o,subject:a,message:i}})},hide:function(t){var n="/report/delete_ajax/"+t;return e.get(r+n,{params:{}})},comment:function(t){if(0==t.fixed&&delete t.fixed,null==t.state&&delete t.state,null==t.new_category&&delete t.new_category,t.photo){var o={fileKey:"photo",fileName:"image.jpeg",chunkedMode:!1,mimeType:"image/jpeg",params:t,withCredentials:!0};o.headers={Connection:"Close"};var a=!0;return n.upload(r+"/report/update",t.photo,o,a)}return e.get(r+"/report/update",{withCredentials:!0,params:t})},getAreas:function(t,n){var o="http://mapit.pormibarrio.uy/point/4326/"+t+","+n;return e.get(o,{params:{}})}};return a}]),pmb_im.services.factory("PopUpService",["$ionicPopup","ValidationService",function(e,t){return{show_alert:function(t,n){var o=e.alert({title:t,template:n});return o.then(function(e){return!0}),!0},confirmPopup:function(t,n){var o=e.confirm({title:t,template:n});return o},askForOneValuePopUp:function(n,o,r,a,i){$scope=n;var l=e.show({template:a+': <input type="text" id="one_value_popup"><div id="error_container_inside"></div>',title:o,subTitle:r,scope:$scope,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(e){var n="",o=document.getElementById("one_value_popup").value;if("notNull"==i&&(t.validate_not_empty(o)||(n=n+'<h3>- El campo "'+a+'" no puede estar vacío.</h3>')),"email"==i&&(t.validate_email(o)||(n=n+'<h3>- El campo "'+a+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==i&&(t.validate_iddoc_uy(o)||(n=n+'<h3>- El campo "'+a+'" no es una cédula uruguaya válida.</h3>')),"two_words"==i&&(t.validate_two_words(o)||(n=n+'<h3>- El campo "'+a+'" debe contener al menos dos palabras.</h3>')),""==n)return o;var r=document.getElementById("error_container_inside");r.innerHTML=n,r.style.display="block",e.preventDefault()}}]});return l}}}]),pmb_im.services.factory("ReportService",["$http","leafletData","ConfigService",function(e,t,n){function o(e){angular.extend(this,e)}var r=n.baseURL+"/report/ajax/",a=n.baseURL+"/ajax_geo?bbox=-65.199387,-40.932178,-50.168488,-25.887061";return o.getById=function(t){var n=r+t;return e.get(n).then(function(e){return e})},o.getAll=function(){return e.get(a,{params:{}})},o._default=function(){var e={lat:0,lon:0,title:null,detail:null,may_show_name:1,category:null,phone:null,pc:"",file:null,name:null,email:null,submit_sign_in:1,password_sign_in:null,remember_me:1};return new o(e)},o._all=[],o.current={},o._new=function(){return o._default()},o.build=function(e){return new o(e)},o.prototype.setLatLng=function(e){this.lat=e.lat,this.lon=e.lng},o}]),pmb_im.services.factory("locationAPI",["$http","$q","ApiImEndpoint","ApiDataEndpoint","ConfigService","LocationsService",function(e,t,n,o,r,a){var i="ubicacionesRestProd",l={};return l.searchLocationByStr=function(t){var n=r.baseURL+"/ajax/geocode?term="+a.selected_council+","+t;return e.get(n,{method:"GET",params:{}})},l.searchEsquinaByStr=function(t){var n=r.baseURL+"/ajax/geocode?term="+a.selected_council+","+t.calle+","+t.esquina;return e.get(n,{method:"GET",params:{}})},l.getLocationGeom=function(t){for(var o=n.url+"/"+i+l.getParamPathByTipo(t.tipo),r=0;r<t.pathParams.length;r++)o+="/"+t.pathParams[r];return e.get(baseURL).then(function(e){return e.data})},l.getLocationGeomPMB=function(t,n,o){var i=r.baseURL+"/ajax/geocode?term="+a.selected_council+","+t+","+n+","+o;return e.get(i)},l.getParamPathByTipo=function(e){var t={ESQUINA:"/esquina",DIRECCION:"/direccion"};return t[e]},l}]),pmb_im.services.factory("_",[function(){return window._}]),pmb_im.services.factory("UserService",["$http",function(e){var t={};return t.name=null,t.email=null,t.password=null,t.identity_document=null,t.phone="",t.picture_url="url(./img/icon-user-anonymous.png)",t.from_body=null,t.save_user_data=function(e,n,o,r,a,i){t.name=e,t.email=n,t.password=o,t.identity_document=r,t.phone=a,t.picture_url=i},t.erase_user_data=function(){t.name=null,t.email=null,t.password=null,t.identity_document=null,t.phone=null,t.picture_url=null},t.get_user_data=function(){},t.add_photo=function(e){t.picture_url=e},t.isLogged=function(){return null!=t.name&&""!=t.name},t}]),pmb_im.services.factory("ValidationService",["$http","$ionicPopup",function(e,t){return{validate_not_empty:function(e){return null!=e&&"undefined"!=e&&""!=e},validate_two_words:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=e.split(" ").filter(function(e){return""!==e});return t.length>1}return!1},validate_equalsTo:function(e,t){return e==t},validate_email:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}return!1},validate_iddoc_uy:function(e){if(null!=e&&"undefined"!=e&&""!=e){e=e.replace(/\D/g,"");var t=e[e.length-1],n=0,o=0;if(e.length<=6)for(o=e.length;o<7;o++)e="0"+e;for(o=0;o<7;o++)n+=parseInt("2987634"[o])*parseInt(e[o])%10;var r;return r=n%10===0?0:10-n%10,t==r}return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2F1dG9jb21wbHRlLmN0cmwuanMiLCJjb250cm9sbGVycy9pbnRyby5jdHJsLmpzIiwiY29udHJvbGxlcnMvbWFwLmN0cmwuanMiLCJjb250cm9sbGVycy9wbWIuY3RybC5qcyIsInNlcnZpY2VzL2F1dGguc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jYXRlZ29yaWVzLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9jb25maWcuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb25uZWN0aXZpdHkuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9kYi5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2Vycm9yLnNlcnZpY2VzLmpzIiwic2VydmljZXMvZmFxLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9sb2FkZXIuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9sb2NhdGlvbnNTZXJ2aWNlLmpzIiwic2VydmljZXMvbWFwLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbW9kYWxTZXJ2aWNlLmpzIiwic2VydmljZXMvcG1iLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9wb3B1cC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3JlcG9ydC5zZXJ2aWNlLmpzIiwic2VydmljZXMvdWJpY2FjaW9uZXMuc2VydmljZXMuanMiLCJzZXJ2aWNlcy91bmRlcnNjb3JlLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy91c2VyLnNlcnZpY2VzLmpzIiwic2VydmljZXMvdmFsaWRhdGlvbi5zZXJ2aWNlcy5qcyJdLCJuYW1lcyI6WyJwbWJfaW0iLCJjb250cm9sbGVycyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlcyIsImFwcCIsImNvbnN0YW50IiwidXJsIiwicnVuIiwiJGlvbmljUGxhdGZvcm0iLCIkcm9vdFNjb3BlIiwiJGNvcmRvdmFLZXlib2FyZCIsIiRjb3Jkb3ZhTmV0d29yayIsIlZFUlNJT04iLCJ3aW5kb3ciLCJyZWFkeSIsImlvbmljIiwiUGxhdGZvcm0iLCJpc0Z1bGxTY3JlZW4iLCJjb3Jkb3ZhIiwicGx1Z2lucyIsIktleWJvYXJkIiwiaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyIiwiZXJyb3IiLCJTdGF0dXNCYXIiLCJoaWRlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkY29tcGlsZVByb3ZpZGVyIiwiJGlvbmljQ29uZmlnUHJvdmlkZXIiLCJkZWJ1Z0luZm9FbmFibGVkIiwic3RhdGUiLCJjYWNoZSIsImFic3RyYWN0IiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwidmlld3MiLCJtZW51Q29udGVudCIsIm90aGVyd2lzZSIsIiRzY29wZSIsImxlYWZsZXREYXRhIiwibG9jYXRpb25BUEkiLCJpb25BdXRvY29tcGxldGVFbGVtZW50IiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImJpbmQiLCJvbkNsaWNrIiwic2hvd01vZGFsIiwic2VhcmNoTG9jYXRpb24iLCJxdWVyeSIsInNlYXJjaExvY2F0aW9uQnlTdHIiLCIkc3RhdGUiLCIkY29yZG92YUdlb2xvY2F0aW9uIiwiJHN0YXRlUGFyYW1zIiwiJGlvbmljUG9wdXAiLCJMb2NhdGlvbnNTZXJ2aWNlIiwiREJTZXJ2aWNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRiIiwiaW5pdERCIiwiaW5mbyIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiZ2VvbG9jYXRlIiwicG9zT3B0aW9ucyIsInRpbWVvdXQiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJnZXRDdXJyZW50UG9zaXRpb24iLCJwb3NpdGlvbiIsInNhdmVfaW5pdGlhbF9wb3NpdGlvbiIsImdvIiwiZXJyIiwiJG9uIiwiY291bmNpbF9tb2RhbCIsInJlbW92ZSIsIiRzY2UiLCJfIiwiJGNvcmRvdmFDYW1lcmEiLCIkY29yZG92YUZpbGVUcmFuc2ZlciIsIiRjb21waWxlIiwiJGlvbmljTW9kYWwiLCJDb25maWdTZXJ2aWNlIiwiUE1CU2VydmljZSIsIlJlcG9ydFNlcnZpY2UiLCJGYXFTZXJ2aWNlIiwiQ2F0ZWdvcmllc1NlcnZpY2UiLCJBdXRoU2VydmljZSIsIlVzZXJTZXJ2aWNlIiwiJHRpbWVvdXQiLCIkbG9jYXRpb24iLCJFcnJvclNlcnZpY2UiLCIkaW9uaWNTbGlkZUJveERlbGVnYXRlIiwiJGlvbmljU2Nyb2xsRGVsZWdhdGUiLCJQb3BVcFNlcnZpY2UiLCJDb25uZWN0aXZpdHlTZXJ2aWNlIiwiJGNvcmRvdmFJbkFwcEJyb3dzZXIiLCIkaW50ZXJ2YWwiLCJNYXBTZXJ2aWNlIiwiTW9kYWxTZXJ2aWNlIiwiZmVhdHVyZVJlcG9ydHMiLCJyZXBvcnRzQnlTdGF0ZSIsInJlcG9ydHNWaXNpYmxlIiwiYmFzZVVSTCIsInVzZXJfY2FjaGVkX2ltYWdlIiwicmVwb3J0X2RldGFpbF9pZCIsIm9uZV92YWx1ZV9wb3B1cCIsImFidXNlX25hbWUiLCJhYnVzZV9lbWFpbCIsImFidXNlX3N1YmplY3QiLCJhYnVzZV9tZXNzYWdlIiwiYWxsQ2F0ZWdvcmllc0Zyb21Cb3lBcmVhIiwiaXNPbmxpbmUiLCJjaGVja191c2VyX2xvZ2dlZCIsInNlbmRfb2ZmbGluZV9yZXBvcnRzIiwic2V0X29mZmxpbmVfdXNlciIsImNoZWNrTm9Nb2RhbElzT3BlbiIsInNldF9uZXR3b3JrX2V2ZW50cyIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJkaXNwbGF5IiwiY3JlYXRlX29ubGluZV9tYXAiLCJjcmVhdGVfb2ZmbGluZV9tYXAiLCJvcGVuV2Vic2l0ZSIsIm9wdGlvbnMiLCJsb2NhdGlvbiIsImNsZWFyY2FjaGUiLCJ0b29sYmFyIiwib3BlbiIsImV2ZW50IiwiaXNXZWJWaWV3IiwibmV0d29ya1N0YXRlIiwiZSIsInNlbmRfb2ZmbGluZV9yZXBvcnRzX2Zyb21fbWVudSIsImxpc3Rfb2ZmbGluZV9yZXBvcnRzIiwic2hvd19hbGVydCIsInJlcG9ydHMiLCJnZXRBbGxSZXBvcnRzIiwicmVzdWx0IiwidG90YWxfcm93cyIsInJvd3MiLCJmb3JFYWNoIiwicm93IiwicmVwb3J0IiwiZG9jIiwicmVwb3J0X3NlbnQiLCJmaWxlIiwic3VjY2VzcyIsImRhdGEiLCJzdGF0dXMiLCJoZWFkZXJzIiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsImRlbGV0ZVJlcG9ydCIsIl9pZCIsInJlc3AiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZSIsInByb2dyZXNzIiwic2VuZF9vZmZsaW5lX3JlcG9ydCIsIm1hcCIsImRlZmF1bHRzIiwidGlsZUxheWVyIiwibWluWm9vbSIsIm1heFpvb20iLCJ6b29tQ29udHJvbFBvc2l0aW9uIiwibWFya2VycyIsImV2ZW50cyIsImVuYWJsZSIsImxvZ2ljIiwiY2VudGVyIiwibG9hZFBpbnNMYXllciIsIm5ld19yZXBvcnRfbGF0IiwibGF0IiwibG5nIiwibmV3X3JlcG9ydF9sbmciLCJ6b29tIiwiZ2V0TWFwIiwib24iLCJoaWRlT2ZmU2NyZWVuUGlucyIsIm5ld19yZXBvcnRfZnJvbV9sYXRsb24iLCJpbml0aWFsX2xhdCIsImluaXRpYWxfbG5nIiwibmV3X3JlcG9ydCIsImFscmVhZHlMb2NhdGVkIiwic2V0X2FjdGl2ZV9vcHRpb24iLCJoaWRlX3NwZWNpYWxfZGl2cyIsIl9uZXciLCJsb24iLCJhbGwiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfcG9wdXAiLCJzYXZlQ2F0ZWdvcmllcyIsInNob3dfcmVwb3J0X2Zvcm0iLCJjYXRlZ29yaWVzIiwiY2F0ZWdvcmllc0RvYyIsImdldENhY2hlZENhdGVnb3JpZXMiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiYWRkTWFwQ29udHJvbHMiLCJlZGl0T2ZmbGluZVJlcG9ydCIsInJlcG9ydElkIiwib2ZmbGluZVJlcG9ydHMiLCJzaG93X29mZmxpbmVfcmVwb3J0X2Zvcm0iLCJkZWxldGVPZmZsaW5lUmVwb3J0IiwiZnJvbVRlbXBsYXRlVXJsIiwic2NvcGUiLCJhbmltYXRpb24iLCJtb2RhbCIsImFjdGl2ZU1vZGFsIiwic2hvdyIsInVwZGF0ZU9mZmxpbmVSZXBvcnQiLCJmaWVsZHMiLCJBcnJheSIsInB1c2giLCJjcmVhdGVfZmllbGRfYXJyYXkiLCJlbWFpbCIsInBhc3N3b3JkX3NpZ25faW4iLCJjYXRlZ29yeSIsInRpdGxlIiwiZGV0YWlsIiwiY2hlY2tfZmllbGRzIiwidXBkYXRlUmVwb3J0IiwiYmFja190b19tYXAiLCJsaXN0X3JlcG9ydHMiLCJvZmZsaW5lUmVwb3J0c01hcmtlcnMiLCJvcGVuUG9wdXAiLCJjbGVhbk9mZmxpbmVNYXJrZXJzIiwiZWFjaExheWVyIiwibGF5ZXIiLCJfdXJsIiwiYWx0IiwicmVtb3ZlTGF5ZXIiLCJkZWxldGVPZmZsaW5lUmVwb3J0T2siLCJpZCIsImRlbGV0ZUdpdmVuUmVwb3J0IiwibWFya2VyIiwiaXNMb2dnZWQiLCJuYW1lIiwicGFzc3dvcmQiLCJwaG9uZSIsImhhcmR3YXJlQmFja0J1dHRvbkNsb3NlIiwidGVtcGxhdGUiLCJjYXRlZ29yeWdyb3VwIiwiY2F0ZWdvcmllc19zZWxlY3QiLCJxdWVyeVNlbGVjdG9yIiwidmFsIiwidXBkYXRlX3N1YmNhdGVnb3JpZXMiLCJzdWJfc2VsZWN0X2lkIiwic3ViX2NhdGVnb3JpZXNfc2VsZWN0IiwiYWxsX3N1YmNhdHNfc2VsZWN0c19hY3RpdmUiLCJjbGFzc05hbWUiLCJpZENhdCIsImFjdGl2ZV9zZWxlY3QiLCJhYnVzZSIsImNvbmZpcm1BYnVzZSIsInN1YlRpdGxlIiwiYnV0dG9ucyIsInRleHQiLCJ0eXBlIiwib25UYXAiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwicmVzIiwiaHR0cF9yZXF1ZXN0Iiwic2VuZF9jb21tZW50IiwiY29tbWVudCIsInVwZGF0ZSIsImNvbW1lbnRfc2VudCIsInBob3RvIiwic2hvd19lcnJvcl9tZXNzYWdlIiwidXBsb2FkUHJvZ3Jlc3MiLCJsb2FkZWQiLCJ0b3RhbCIsImlubmVySFRNTCIsIk1hdGgiLCJyb3VuZCIsInN1YnNjcmliZSIsImNvbmZpcm1TdWJzY3JpYmUiLCJjb25maXJtUG9wdXAiLCJhc2tGb3JPbmVWYWx1ZVBvcFVwIiwiY29uZmlybUhpZGUiLCJjb25maXJtUmVwb3J0IiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwiLCJyZXBvcnRlRW52aWFkbyIsInNldFZpZXciLCJMIiwiTGF0TG5nIiwic2F2ZV9vZmZsaW5lX3JlcG9ydCIsIm5leHQiLCJwcmV2aW91cyIsImNvbmZpcm1SZXBvcnRXaXRoTG9naW4iLCJzaWduX2luIiwiaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsIiwic2F2ZV91c2VyX2RhdGEiLCJpZGVudGl0eV9kb2N1bWVudCIsInBpY3R1cmVfdXJsIiwiZnJvbV9ib2R5Iiwic2F2ZVVzZXIiLCJzZXRfdXNlcl9waWN0dXJlIiwic3RhdHVzVGV4dCIsImRhdGUiLCJEYXRlIiwiZGF5IiwiZ2V0RGF0ZSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJzYXZlUmVwb3J0IiwiY2FuY2VsUmVwb3J0IiwiaW1hZ2UiLCJhZGRJbWFnZSIsImlzRnJvbUFsYnVtIiwiaXNVc2VyUGhvdG8iLCJpc0NvbW1lbnRQaG90byIsInNvdXJjZSIsIkNhbWVyYSIsIlBpY3R1cmVTb3VyY2VUeXBlIiwiQ0FNRVJBIiwiZml4X29yaWVudGF0aW9uIiwic2F2ZV90b19nYWxsZXJ5IiwiUEhPVE9MSUJSQVJZIiwicXVhbGl0eSIsImRlc3RpbmF0aW9uVHlwZSIsIkRlc3RpbmF0aW9uVHlwZSIsIkZJTEVfVVJJIiwic291cmNlVHlwZSIsImFsbG93RWRpdCIsImNvcnJlY3RPcmllbnRhdGlvbiIsImVuY29kaW5nVHlwZSIsIkVuY29kaW5nVHlwZSIsIkpQRUciLCJwb3BvdmVyT3B0aW9ucyIsIkNhbWVyYVBvcG92ZXJPcHRpb25zIiwic2F2ZVRvUGhvdG9BbGJ1bSIsIm1lZGlhVHlwZSIsIk1lZGlhVHlwZSIsIlBJQ1RVUkUiLCJ0YXJnZXRXaWR0aCIsInRhcmdldEhlaWdodCIsImdldFBpY3R1cmUiLCJpbWFnZURhdGEiLCJvbkltYWdlU3VjY2VzcyIsImZpbGVVUkkiLCJyZXNvbHZlTG9jYWxGaWxlU3lzdGVtVVJMIiwiZmlsZUVudHJ5IiwidG9VUkwiLCJmdWxsRmlsZVBhdGgiLCJwcm9maWxlIiwiaW1nVVJJIiwiY3JlYXRlRmlsZUVudHJ5IiwiY29weUZpbGUiLCJmYWlsIiwiZnVsbFBhdGgiLCJzdWJzdHIiLCJsYXN0SW5kZXhPZiIsIm5ld05hbWUiLCJtYWtlaWQiLCJkYXRhRGlyZWN0b3J5IiwiZmlsZVN5c3RlbTIiLCJjb3B5VG8iLCJvbkNvcHlTdWNjZXNzIiwiZW50cnkiLCIkYXBwbHkiLCJuYXRpdmVVUkwiLCJwb3NzaWJsZSIsImkiLCJjaGFyQXQiLCJmbG9vciIsInJhbmRvbSIsInVybEZvckltYWdlIiwiaW1hZ2VVUkwiLCJsaXN0X29mZmxpbmVfcmVwb3J0c19tZW51IiwiZGl2IiwiYWRkX29mZmxpbmVfcmVwb3J0X2RpdiIsIm1hcmtlck9wdGlvbnMiLCJhZGRUbyIsIm1hcmtlckhUTUwiLCJjb21waWxlZCIsImJpbmRQb3B1cCIsImh0bWwiLCJjb250ZW50cyIsIiRicm9hZGNhc3QiLCJsaXN0X3JlcG9ydHNfYW5kX2dvIiwiZ29Ub09mZmxpbmVSZXBvcnQiLCJoZWxwIiwiZmFxIiwidHJ1c3RBc0h0bWwiLCJzY3JvbGxNZSIsImFuY2hvcl9pZCIsImhhc2giLCJoYW5kbGUiLCIkZ2V0QnlIYW5kbGUiLCJhbmNob3JTY3JvbGwiLCJjbG9zZV9mYXFfbW9kYWwiLCJidXR0b25pZCIsInZpZXdSZXBvcnREZXRhaWxzIiwiZ2V0QnlJZCIsInJlcG9ydF9kZXRhaWwiLCJyZXBsYWNlIiwiYmFzZUNvYnJhbmQiLCJzdWJtaXRfdXBkYXRlIiwibWF5X3Nob3dfbmFtZSIsImFkZF9hbGVydCIsImZpeGVkIiwiZm9ybV9yem52eSIsImZlYXR1cmUiLCJnZW9tZXRyeSIsImNvb3JkaW5hdGVzIiwiZ2V0QXJlYXMiLCJqc29uT2JqZWN0IiwiaXNCb2R5QWRtaW4iLCJwcm9wIiwiYXJlYUlkIiwiYXJlYVByb3BzIiwibmV3X2NhdGVnb3J5IiwicHJvcGVydGllcyIsImFsbEZyb21Cb2R5QXJlYSIsImpzb25BcmVhT2JqZWN0IiwiaW5kZXgiLCJzaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAiLCJjbG9zZV9yZXBvcnRfZGV0YWlsX21vZGFsIiwibG9jYXRlIiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJub3ciLCJtZXNzYWdlIiwiZm9jdXMiLCJkcmFnZ2FibGUiLCJzdGFydFJlcG9ydEZyb21Dcm9zc2hhaXJzIiwibGF0bG9uIiwiZ2V0Q2VudGVyIiwic2F2ZV9uZXdfcmVwb3J0X3Bvc2l0aW9uIiwiZ2V0T25seUNhdGVnb3J5SWNvblVSTCIsIm5ld191cmwiLCJtYXBCb3VuZHMiLCJnZXRCb3VuZHMiLCJrZXlzQXJyYXkiLCJpdGVtIiwia2V5Iiwic2hvdWxkQmVWaXNpYmxlIiwiY29udGFpbnMiLCJnZXRMYXRMbmciLCJhZGRMYXllciIsInJlbW92ZUFsbFBpbnMiLCJnZXRBbGwiLCJwaW5zQXJyYXkiLCJmZWF0dXJlcyIsImljb24iLCJwaW5fdXJsIiwibWFya2VySWNvbiIsImljb25VcmwiLCJpY29uU2l6ZSIsImljb25BbmNob3IiLCJwb3B1cEFuY2hvciIsImRlc2NyaXBjaW9uIiwiYWRkUmVwb3J0c0xheWVyIiwianNvbkxheWVyIiwiYnVpbGRQb3B1cCIsIm9uRWFjaEZlYXR1cmUiLCJsIiwiTGF5ZXJKU09OIiwibG9jQXNHZW9KU09OIiwiX2xheWVyIiwic2V0SWNvbiIsInVuZGVmaW5lZCIsImdvVG9SZXBvcnQiLCJyZXBvcnRfZGl2c19hY3RpdmUiLCJyZXBvcnRfZGl2IiwibW9kZWwiLCJleHRlcm5hbE1vZGVsIiwic2VsZWN0ZWRJdGVtcyIsInByZXNlbGVjdGVkU2VhcmNoSXRlbXMiLCJjbGlja2VkVmFsdWVNb2RlbCIsInJlbW92ZWRWYWx1ZU1vZGVsIiwiZ2V0VGVzdEl0ZW1zIiwib2JqIiwidG9SZXR1cm4iLCJpdGVtcyIsInZpZXciLCJpdGVtc1JlbW92ZWQiLCJjYWxsYmFjayIsInVzZXJfb3B0aW9ucyIsIm1lbnUiLCJzaG93X2Fub255bW91c19tZW51Iiwic2hvd191c2VyX21lbnUiLCJoZWlnaHQiLCJ3aWR0aCIsImZvcmdvdF9wYXNzd29yZCIsIm5vbmF1dGgiLCJmb3Jnb3RfcGFzc3dvcmRfb2siLCJwYXNzd29yZF9yZWNvdmVyeSIsImNoYW5nZV9wYXNzd29yZCIsIm9sZFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmQiLCJjaGFuZ2VfcGFzc3dvcmRfb2siLCJjcmVhdGVfZmllbGRfYXJyYXlfd2l0aF90d29GaWVsZHMiLCJwYXNzd29yZF9jaGFuZ2UiLCJmaWVsZCIsInNlY29uZFZhbHVlIiwiZml4X2ZiX2ltYWdlX2xpbmsiLCJpbmRleE9mIiwicGFydHMiLCJzcGxpdCIsIm5ld1VybCIsImNsb3NlX2xvZ2luX21vZGFsIiwic2lnbl9pbl9hamF4IiwiaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgiLCJzaWduX291dCIsImVyYXNlX3VzZXJfZGF0YSIsImVyYXNlVXNlciIsInNob3dfZWRpdF9wcm9maWxlX21vZGFsIiwiZnVsbG5hbWUiLCJuZXdfZW1haWwiLCJpZF9kb2MiLCJ0ZWxlcGhvbmUiLCJhY3R1YWxfcGhvdG8iLCJjbG9zZV9lZGl0X3Byb2ZpbGVfbW9kYWwiLCJlZGl0X3Byb2ZpbGVfb2siLCJlZGl0X3Byb2ZpbGUiLCJ1c2VyX3Bob25lIiwidXNlcl9waWN0dXJlX3VybCIsImVkaXRfcmVxdWVzdCIsImVkaXRfdXNlciIsImFsZXJ0IiwiY29kZSIsInRhcmdldCIsImh0dHBfc3RhdHVzIiwiYm9keSIsImV4Y2VwdGlvbiIsInNob3dfbG9naW5fbW9kYWwiLCJsb2dpbl9vayIsInNob3dfc2lnbl91cF9tb2RhbCIsIm5ld3VzZXIiLCJjbG9zZV9zaWduX3VwX21vZGFsIiwic2lnbl91cCIsImNyZWF0ZV91c2VyIiwiYWxlcnRQb3B1cCIsInNpZ25fdXBfb2siLCJ1c2VyIiwiZ2V0VXNlciIsImhhc1Bob3RvIiwiZmluZF9tZSIsImdldE1lc3NhZ2VTY29wZSIsIm9wZW5Db3VuY2lsU2VsZWN0b3IiLCJsb2NhdGlvbkV2ZW50IiwibGVhZmxldEV2ZW50IiwibGF0bG5nIiwic2VsZWN0X2ltbSIsImNsb3NlX2NvdW5jaWxfbW9kYWwiLCJzZWxlY3RDb3VuY2lsIiwiY2VudGVyTWFwT25Db29yZHMiLCJzZWxlY3RfaWRyIiwic2VsZWN0X2lybiIsIkxvYWRlciIsInJlcG9ydEJ1dHRvbiIsInNlYXJjaE1vZGUiLCJjYWxsZSIsImVzcXVpbmEiLCJsdWdhciIsImxvY2F0aW9uR2VvbVBhcmFtcyIsInRpcG8iLCJwYXRoUGFyYW1zIiwiaW5pdFJlcG9ydCIsIl9waW4iLCJfcGluSWNvbiIsImNsaWNrYWJsZSIsImN1cnJlbnQiLCJzZXRMYXRMbmciLCJpc051bWVyaWMiLCJuIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJwcm9taXNlU2VhcmNoIiwidHJpbSIsImRlc2NUaXBvIiwiYWRkcmVzcyIsInNlYXJjaEVzcXVpbmFCeVN0ciIsInNlbGVjdGVkSXRlbSIsIml0ZW1zQ2xpY2tlZCIsImlvbkF1dG9jb21wbGV0ZUVsZW1lbnRTZWFyY2giLCJzdHJfdGlwbyIsImdldExvY2F0aW9uR2VvbVBNQiIsImdvVG9QbGFjZSIsImF0dHIiLCJpdGVtc0NhbmNlbGVkIiwiX2l0ZW0iLCJudW1QdWVydGEiLCJwYXJzZUludCIsInNlYXJjaFF1ZXJ5IiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiY29kaWdvIiwiZ2V0TG9jYXRpb25HZW9tIiwiZXh0ZW5kIiwibm9tYnJlIiwic2hvd0FsZXJ0IiwiZmFjdG9yeSIsIiRodHRwIiwiZ2V0Iiwid2l0aENyZWRlbnRpYWxzIiwicGFyYW1zIiwiZm9ybV9lbWFpbCIsInBhc3N3b3JkX3JlZ2lzdGVyIiwibG9naW5fZW1haWwiLCJwb3N0IiwiQ29udGVudC1UeXBlIiwiZmlsZUtleSIsInRydXN0QWxsSG9zdHMiLCJ1cGxvYWQiLCJiYXNlVVJMZnJvbUFQSSIsImZvcm1hdCIsImFwaV9rZXkiLCJhcmVhIiwiZ2V0Q2F0ZWdvcmllcyIsIkNvbmZpZ09iaiIsIm5hdmlnYXRvciIsIm9uTGluZSIsImlzT2ZmbGluZSIsIiRxIiwidXNlcl9uYW1lIiwidXNlcl9lbWFpbCIsInVzZXJfcGFzc3dvcmQiLCJ1c2VyX2lkX2RvYyIsIl9yZXYiLCJ3aGVuIiwiX2RiIiwicHV0IiwiUG91Y2hEQiIsImFkYXB0ZXIiLCJpb3NEYXRhYmFzZUxvY2F0aW9uIiwibmV3X3JlcG9ydF9pZCIsImdldE1pbGxpc2Vjb25kcyIsImdldFJlcG9ydCIsImFsbERvY3MiLCJpbmNsdWRlX2RvY3MiLCJhdHRhY2htZW50cyIsInN0YXJ0a2V5IiwiZW5ka2V5IiwicmVwb3J0X2lkIiwiVmFsaWRhdGlvblNlcnZpY2UiLCJqc29uUmVzdWx0IiwiZXJyb3JDb250YWluZXJJZCIsImVycm9yRGl2IiwiZXJyb3JzIiwidmFsaWRhdGVfbm90X2VtcHR5IiwidmFsaWRhdGVfZW1haWwiLCJ2YWxpZGF0ZV9pZGRvY191eSIsInZhbGlkYXRlX3R3b193b3JkcyIsInZhbGlkYXRlX2VxdWFsc1RvIiwiYWpheCIsIiRpb25pY0xvYWRpbmciLCJMT0FERVJBUEkiLCJzaG93TG9hZGluZyIsImhpZGVMb2FkaW5nIiwidG9nZ2xlTG9hZGluZ1dpdGhNZXNzYWdlIiwic2VsZiIsInRoaXMiLCJjb25maXJtIiwiX3RpdGxlIiwiX3RlbXBsYXRlIiwibG9jYXRpb25zT2JqIiwic2VsZWN0ZWRfY291bmNpbCIsImNvdW5jaWxOYW1lIiwic2F2ZWRMb2NhdGlvbnMiLCJwcm9qNCIsImRlZnMiLCJtYXBTZXJ2aWNlIiwiX2dlb0pzb24iLCJjcnMiLCJfbGF0bG5nIiwiUHJvaiIsImdlb0pzb24iLCJwb2ludFRvTGF5ZXIiLCJodG1sUG9wVXAiLCJtb2RhbE9CSiIsImJhc2UiLCJmb3JtIiwiZmlsZU5hbWUiLCJjaHVua2VkTW9kZSIsIm1pbWVUeXBlIiwiQ29ubmVjdGlvbiIsInJ6bnZ5Iiwic3ViamVjdCIsImVtIiwiZGVsZXRlVVJMIiwibWFwaXRVUkwiLCJhbGVydF90aXRsZSIsImFsZXJ0X21lc3NhZ2UiLCJmaWVsZF9uYW1lIiwidmFsaWRhdGlvblR5cGUiLCJteVBvcHVwIiwiUmVwb3J0IiwiX2RhdGEiLCJwaW5zVVJMIiwiX2RlZmF1bHQiLCJwYyIsInN1Ym1pdF9zaWduX2luIiwicmVtZW1iZXJfbWUiLCJfYWxsIiwiYnVpbGQiLCJwcm90b3R5cGUiLCJBcGlJbUVuZHBvaW50IiwiQXBpRGF0YUVuZHBvaW50IiwicmVzdFByZWZmaXgiLCJfbG9jYXRpb24iLCJtZXRob2QiLCJnZXRQYXJhbVBhdGhCeVRpcG8iLCJlc3F1aW5hX251bWVybyIsIl90aXBvIiwicmVzdEdlb0RhdGFTZXJ2aWNlUGF0aCIsIkVTUVVJTkEiLCJESVJFQ0NJT04iLCJVc2VyT2JqIiwiZ2V0X3VzZXJfZGF0YSIsImFkZF9waG90byIsInZhbHVlcyIsImZpbHRlciIsInYiLCJyZSIsInRlc3QiLCJkaWciLCJhIl0sIm1hcHBpbmdzIjoiQUFPQSxHQUFJQSxTQUNGQyxZQUFhQyxRQUFRQyxPQUFPLHlCQUM1QkMsU0FBVUYsUUFBUUMsT0FBTyxzQkFHM0JILFFBQU9LLElBQU1ILFFBQVFDLE9BQU8sVUFBVyxRQUFRLGVBQWUsbUJBQW1CLG9CQUFxQixxQkFBc0Isa0JBQW1CLFlBQWEsb0JBRTNKRyxTQUFTLGlCQUNSQyxJQUFLLGlDQUdORCxTQUFTLG1CQUNSQyxJQUFLLFVBSU5DLEtBQUEsaUJBQUEsYUFBQSxtQkFBQSxrQkFBSSxTQUFTQyxFQUFnQkMsRUFBWUMsRUFBaUJDLEdBQ3pERixFQUFXRyxRQUFVQyxPQUFPRCxRQUM1QkosRUFBZU0sTUFBTSxXQUNuQkMsTUFBTUMsU0FBU0MsY0FBZSxDQUk1QixLQUNFQyxRQUFRQyxRQUFRQyxTQUFTQywwQkFBeUIsR0FFbkQsTUFBT0MsSUFHUixJQUNFVCxPQUFPTyxTQUFTQywwQkFBeUIsR0FFMUMsTUFBT0MsSUFJUixJQUNFRixTQUFTQywwQkFBeUIsR0FFbkMsTUFBT0MsSUFHUixJQUNFQyxVQUFVQyxPQUVYLE1BQU9GLFVBVWJHLFFBQUEsaUJBQUEscUJBQUEsbUJBQUEsdUJB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LElBQU1pTyxTQUFTM1UsRUFBTTBHLElBQU8sRUFFdkQsSUFBSXJPLEVBTUosT0FKRUEsR0FEQzRrQixFQUFFLEtBQU8sRUFDRCxFQUVBLEdBQUtBLEVBQUksR0FFakJELEdBQU8za0IsRUFNWixPQUFPIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIElvbmljIFN0YXJ0ZXIgQXBwXG5cbi8vIGFuZ3VsYXIubW9kdWxlIGlzIGEgZ2xvYmFsIHBsYWNlIGZvciBjcmVhdGluZywgcmVnaXN0ZXJpbmcgYW5kIHJldHJpZXZpbmcgQW5ndWxhciBtb2R1bGVzXG4vLyAncG1iX2ltJyBpcyB0aGUgbmFtZSBvZiB0aGlzIGFuZ3VsYXIgbW9kdWxlIGV4YW1wbGUgKGFsc28gc2V0IGluIGEgPGJvZHk+IGF0dHJpYnV0ZSBpbiBpbmRleC5odG1sKVxuLy8gdGhlIDJuZCBwYXJhbWV0ZXIgaXMgYW4gYXJyYXkgb2YgJ3JlcXVpcmVzJ1xuLy8gJ3N0YXJ0ZXIuc2VydmljZXMnIGlzIGZvdW5kIGluIHNlcnZpY2VzLmpzXG4vLyAnc3RhcnRlci5jb250cm9sbGVycycgaXMgZm91bmQgaW4gY29udHJvbGxlcnMuanNcbnZhciBwbWJfaW0gPSB7XG4gIGNvbnRyb2xsZXJzOiBhbmd1bGFyLm1vZHVsZSgncG1iX2ltLmNvbnRyb2xsZXJzJywgW10pLFxuICBzZXJ2aWNlczogYW5ndWxhci5tb2R1bGUoJ3BtYl9pbS5zZXJ2aWNlcycsIFtdKVxufTtcblxucG1iX2ltLmFwcCA9IGFuZ3VsYXIubW9kdWxlKCdwbWJfaW0nLCBbJ2lvbmljJywnaW9uaWMud2l6YXJkJywnaW9uLWF1dG9jb21wbGV0ZScsJ2xlYWZsZXQtZGlyZWN0aXZlJywgJ3BtYl9pbS5jb250cm9sbGVycycsICdwbWJfaW0uc2VydmljZXMnLCAnbmdDb3Jkb3ZhJywgJ2lvbmljLWNhY2hlLXNyYyddKVxuXG4uY29uc3RhbnQoJ0FwaUltRW5kcG9pbnQnLCB7XG4gIHVybDogJ2h0dHA6Ly93d3cubW9udGV2aWRlby5ndWIudXknXG59KVxuXG4uY29uc3RhbnQoJ0FwaURhdGFFbmRwb2ludCcsIHtcbiAgdXJsOiAnL2RhdGEnXG59KVxuXG5cbi5ydW4oZnVuY3Rpb24oJGlvbmljUGxhdGZvcm0sICRyb290U2NvcGUsICRjb3Jkb3ZhS2V5Ym9hcmQsJGNvcmRvdmFOZXR3b3JrKSB7XG4gICRyb290U2NvcGUuVkVSU0lPTiA9IHdpbmRvdy5WRVJTSU9OO1xuICAkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICBpb25pYy5QbGF0Zm9ybS5pc0Z1bGxTY3JlZW4gPSB0cnVlO1xuXG4gICAgLy8gSGlkZSB0aGUgYWNjZXNzb3J5IGJhciBieSBkZWZhdWx0IChyZW1vdmUgdGhpcyB0byBzaG93IHRoZSBhY2Nlc3NvcnkgYmFyIGFib3ZlIHRoZSBrZXlib2FyZFxuICAgIC8vIGZvciBmb3JtIGlucHV0cylcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5oaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIodHJ1ZSk7XG4gICAgICAgfVxuICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgIH1cbiAgICAgIC8vY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmRpc2FibGVTY3JvbGwoZmFsc2UpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2luZG93LktleWJvYXJkLmhpZGVLZXlib2FyZEFjY2Vzc29yeUJhcih0cnVlKTtcbiAgICAgICB9XG4gICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgfVxuXG5cbiAgICAgIHRyeSB7XG4gICAgICAgIEtleWJvYXJkLmhpZGVLZXlib2FyZEFjY2Vzc29yeUJhcih0cnVlKTtcbiAgICAgICB9XG4gICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBTdGF0dXNCYXIuaGlkZSgpO1xuICAgICAgIH1cbiAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICB9XG5cblxuXG5cblxuICB9KTtcbn0pXG5cbi5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGNvbXBpbGVQcm92aWRlciwgJGlvbmljQ29uZmlnUHJvdmlkZXIpIHtcbiAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKGZhbHNlKTtcbiAgLy8kaW9uaWNDb25maWdQcm92aWRlci5zY3JvbGxpbmcuanNTY3JvbGxpbmcodHJ1ZSk7XG5cbiAgLy8gSW9uaWMgdXNlcyBBbmd1bGFyVUkgUm91dGVyIHdoaWNoIHVzZXMgdGhlIGNvbmNlcHQgb2Ygc3RhdGVzXG4gIC8vIExlYXJuIG1vcmUgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXItdWkvdWktcm91dGVyXG4gIC8vIFNldCB1cCB0aGUgdmFyaW91cyBzdGF0ZXMgd2hpY2ggdGhlIGFwcCBjYW4gYmUgaW4uXG4gIC8vIEVhY2ggc3RhdGUncyBjb250cm9sbGVyIGNhbiBiZSBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xuICAkc3RhdGVQcm92aWRlclxuXG4uc3RhdGUoJ2FwcCcsIHtcbiAgICBjYWNoZTogZmFsc2UsXG4gICAgdXJsOiBcIi9hcHBcIixcbiAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvbWVudS5odG1sXCIsXG4gICAgY29udHJvbGxlcjogJ01hcENvbnRyb2xsZXInXG4gIH0pXG5cbi5zdGF0ZSgnYXBwLm1hcCcsIHtcbiAgICBjYWNoZTogZmFsc2UsXG4gICAgdXJsOiBcIi9tYXAvXCIsXG4gICAgdmlld3M6IHtcbiAgICAgICdtZW51Q29udGVudCcgOntcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL21hcC5odG1sXCIsXG4gICAgICAgIGNvbnRyb2xsZXIgOiBcIlBNQkN0cmxcIlxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuLnN0YXRlKCdhcHAuaW50cm8nLCB7XG4gIGNhY2hlOiBmYWxzZSxcbiAgdXJsOiBcIi9pbnRyb1wiLFxuICB2aWV3czoge1xuICAgICdtZW51Q29udGVudCcgOntcbiAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9pbnRyby5odG1sXCIsXG4gICAgICBjb250cm9sbGVyIDogXCJJbnRyb0N0cmxcIlxuICAgIH1cbiAgfVxufSlcblxuLy8gaWYgbm9uZSBvZiB0aGUgYWJvdmUgc3RhdGVzIGFyZSBtYXRjaGVkLCB1c2UgdGhpcyBhcyB0aGUgZmFsbGJhY2tcbiR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9hcHAvaW50cm8nKTtcblxufSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignQXV0b0NvbXBsZXRlQ3RybCcsIFsnJHNjb3BlJywgJ2xlYWZsZXREYXRhJywgJ2xvY2F0aW9uQVBJJywgZnVuY3Rpb24oJHNjb3BlLCBsZWFmbGV0RGF0YSwgbG9jYXRpb25BUEkpIHtcblxuXG4gICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpb24tYXV0b2NvbXBsZXRlXCIpKTtcbiAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuYmluZCgndG91Y2hlbmQgY2xpY2sgZm9jdXMnLCAkc2NvcGUub25DbGljayk7XG5cbiAgJHNjb3BlLm9uQ2xpY2sgPSBmdW5jdGlvbigpIHtcblxuICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmNvbnRyb2xsZXIoJ2lvbkF1dG9jb21wbGV0ZScpLnNob3dNb2RhbCgpO1xuXG5cbiAgfTtcblxuXG5cbiAgJHNjb3BlLnNlYXJjaExvY2F0aW9uID0gZnVuY3Rpb24ocXVlcnkpIHtcbiAgICBpZiAocXVlcnkpIHtcbiAgICAgIC8vY29uc29sZS5sb2coXCJxdWVyeT0gXCIgKyBxdWVyeSk7XG4gICAgICByZXR1cm4gbG9jYXRpb25BUEkuc2VhcmNoTG9jYXRpb25CeVN0cihxdWVyeSk7XG5cbiAgICB9XG4gIH07XG5cblxufV0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0ludHJvQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJyRzdGF0ZVBhcmFtcycsXG4gICckaW9uaWNQbGF0Zm9ybScsXG4gICckaW9uaWNQb3B1cCcsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ0RCU2VydmljZScsXG4gIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkY29yZG92YUdlb2xvY2F0aW9uLCAkc3RhdGVQYXJhbXMsICRpb25pY1BsYXRmb3JtLCAkaW9uaWNQb3B1cCwgTG9jYXRpb25zU2VydmljZSwgREJTZXJ2aWNlKSB7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlcmVhZHlcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRiID0gREJTZXJ2aWNlLmluaXREQigpO1xuICAgICAgZGIuaW5mbygpLnRoZW4oY29uc29sZS5sb2cuYmluZChjb25zb2xlKSk7XG4gICAgfSk7XG5cblxuICAkc2NvcGUuZ2VvbG9jYXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBwb3NPcHRpb25zID0ge3RpbWVvdXQ6IDM1MDAsIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZX07XG4gICAgICAkY29yZG92YUdlb2xvY2F0aW9uXG4gICAgICAgIC5nZXRDdXJyZW50UG9zaXRpb24ocG9zT3B0aW9ucylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNhdmVfaW5pdGlhbF9wb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgICAgJHN0YXRlLmdvKFwiYXBwLm1hcFwiKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgJHN0YXRlLmdvKFwiYXBwLm1hcFwiKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgJHNjb3BlLiRvbignJGlvbmljVmlldy5lbnRlcicsIGZ1bmN0aW9uKCl7IC8vVGhpcyBpcyBmaXJlZCB0d2ljZSBpbiBhIHJvd1xuICAgICAgaWYoTG9jYXRpb25zU2VydmljZS5jb3VuY2lsX21vZGFsIT1udWxsKXtcbiAgICAgICAgTG9jYXRpb25zU2VydmljZS5jb3VuY2lsX21vZGFsLmhpZGUoKTtcbiAgICAgICAgTG9jYXRpb25zU2VydmljZS5jb3VuY2lsX21vZGFsLnJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgICRzY29wZS5nZW9sb2NhdGUoKTtcbiAgIH0pO1xuXG4gIH1cbl0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ01hcENvbnRyb2xsZXInLCBbJyRzY29wZScsICckc2NlJywgJ18nLFxuICAnJGNvcmRvdmFDYW1lcmEnLFxuICAnJGNvcmRvdmFGaWxlVHJhbnNmZXInLFxuICAnJGNvcmRvdmFHZW9sb2NhdGlvbicsXG4gICckY29tcGlsZScsXG4gICckc3RhdGUnLFxuICAnJHN0YXRlUGFyYW1zJyxcbiAgJyRpb25pY01vZGFsJyxcbiAgJyRpb25pY1BvcHVwJyxcbiAgJ2xlYWZsZXREYXRhJyxcbiAgJ0NvbmZpZ1NlcnZpY2UnLFxuICAnUE1CU2VydmljZScsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ1JlcG9ydFNlcnZpY2UnLFxuICAnRmFxU2VydmljZScsXG4gICdDYXRlZ29yaWVzU2VydmljZScsXG4gICdBdXRoU2VydmljZScsXG4gICdVc2VyU2VydmljZScsXG4gICdEQlNlcnZpY2UnLFxuICAnJHRpbWVvdXQnLFxuICAnJGxvY2F0aW9uJyxcbiAgJ0Vycm9yU2VydmljZScsXG4gICckaW9uaWNTbGlkZUJveERlbGVnYXRlJyxcbiAgJyRpb25pY1Njcm9sbERlbGVnYXRlJyxcbiAgJyRjb3Jkb3ZhTmV0d29yaycsXG4gICdQb3BVcFNlcnZpY2UnLFxuICAnJGlvbmljUGxhdGZvcm0nLFxuICAnQ29ubmVjdGl2aXR5U2VydmljZScsXG4gICckY29yZG92YUluQXBwQnJvd3NlcicsXG4gICckaW50ZXJ2YWwnLFxuICAnJGNvcmRvdmFLZXlib2FyZCcsXG4gICdNYXBTZXJ2aWNlJyxcbiAgJ01vZGFsU2VydmljZScsXG4gIGZ1bmN0aW9uKFxuICAgICRzY29wZSxcbiAgICAkc2NlLFxuICAgIF8sXG4gICAgJGNvcmRvdmFDYW1lcmEsXG4gICAgJGNvcmRvdmFGaWxlVHJhbnNmZXIsXG4gICAgJGNvcmRvdmFHZW9sb2NhdGlvbixcbiAgICAkY29tcGlsZSxcbiAgICAkc3RhdGUsXG4gICAgJHN0YXRlUGFyYW1zLFxuICAgICRpb25pY01vZGFsLFxuICAgICRpb25pY1BvcHVwLFxuICAgIGxlYWZsZXREYXRhLFxuICAgIENvbmZpZ1NlcnZpY2UsXG4gICAgUE1CU2VydmljZSxcbiAgICBMb2NhdGlvbnNTZXJ2aWNlLFxuICAgIFJlcG9ydFNlcnZpY2UsXG4gICAgRmFxU2VydmljZSxcbiAgICBDYXRlZ29yaWVzU2VydmljZSxcbiAgICBBdXRoU2VydmljZSxcbiAgICBVc2VyU2VydmljZSxcbiAgICBEQlNlcnZpY2UsXG4gICAgJHRpbWVvdXQsXG4gICAgJGxvY2F0aW9uLFxuICAgIEVycm9yU2VydmljZSxcbiAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLFxuICAgICRpb25pY1Njcm9sbERlbGVnYXRlLFxuICAgICRjb3Jkb3ZhTmV0d29yayxcbiAgICBQb3BVcFNlcnZpY2UsXG4gICAgJGlvbmljUGxhdGZvcm0sXG4gICAgQ29ubmVjdGl2aXR5U2VydmljZSxcbiAgICAkY29yZG92YUluQXBwQnJvd3NlcixcbiAgICAkaW50ZXJ2YWwsXG4gICAgJGNvcmRvdmFLZXlib2FyZCxcbiAgICBNYXBTZXJ2aWNlLFxuICAgIE1vZGFsU2VydmljZVxuICApIHtcblxuICAgIC8qKlxuICAgICAqIE9uY2Ugc3RhdGUgbG9hZGVkLCBnZXQgcHV0IG1hcCBvbiBzY29wZS5cbiAgICAgKi9cbiAgICAkc2NvcGUuZmVhdHVyZVJlcG9ydHMgPSB7fTtcbiAgICAkc2NvcGUucmVwb3J0c0J5U3RhdGUgPSB7fTtcbiAgICAkc2NvcGUucmVwb3J0c1Zpc2libGUgPSB7fTtcbiAgICAkc2NvcGUuYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTDtcbiAgICAkc2NvcGUudXNlcl9jYWNoZWRfaW1hZ2UgPSBcIlwiO1xuICAgICRzY29wZS5yZXBvcnRfZGV0YWlsX2lkID0gbnVsbDtcbiAgICAkc2NvcGUub25lX3ZhbHVlX3BvcHVwID0gbnVsbDtcbiAgICAkc2NvcGUuYWJ1c2VfbmFtZSA9IG51bGw7XG4gICAgJHNjb3BlLmFidXNlX2VtYWlsID0gbnVsbDtcbiAgICAkc2NvcGUuYWJ1c2Vfc3ViamVjdCA9IG51bGw7XG4gICAgJHNjb3BlLmFidXNlX21lc3NhZ2UgPSBudWxsO1xuICAgICRzY29wZS5hbGxDYXRlZ29yaWVzRnJvbUJveUFyZWEgPSBudWxsO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZXJlYWR5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkYiA9IERCU2VydmljZS5pbml0REIoKTtcbiAgICAgIGRiLmluZm8oKS50aGVuKGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSkpO1xuICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICRzY29wZS5zZW5kX29mZmxpbmVfcmVwb3J0cygpO1xuICAgICAgfWVsc2V7XG4gICAgICAgICRzY29wZS5zZXRfb2ZmbGluZV91c2VyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgJHNjb3BlLiRvbihcIiRpb25pY1ZpZXcuYmVmb3JlRW50ZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAkc2NvcGUuc2V0X25ldHdvcmtfZXZlbnRzKCk7XG4gICAgICB2YXIgY2hlY2tPZmZsaW5lUmVwb3J0cyA9ICRpbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnNlbmRfb2ZmbGluZV9yZXBvcnRzKCk7XG4gICAgICB9LCA2MDAwMCk7XG4gICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpIT1udWxsKXtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICB9XG5cbiAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgICRzY29wZS5jcmVhdGVfb25saW5lX21hcCgpO1xuICAgICAgfWVsc2V7XG4gICAgICAgICRzY29wZS5jcmVhdGVfb2ZmbGluZV9tYXAoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS5vcGVuV2Vic2l0ZSA9IGZ1bmN0aW9uKHVybCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246ICdubycsXG4gICAgICAgICAgICAgICAgY2xlYXJjYWNoZTogJ3llcycsXG4gICAgICAgICAgICAgICAgdG9vbGJhcjogJ25vJ1xuICAgICAgICAgICAgfTtcblxuICAgICAkY29yZG92YUluQXBwQnJvd3Nlci5vcGVuKHVybCwgJ19ibGFuaycsIG9wdGlvbnMpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgLy8gZXJyb3JcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNldF9uZXR3b3JrX2V2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYoaW9uaWMuUGxhdGZvcm0uaXNXZWJWaWV3KCkpe1xuICAgICAgICAkc2NvcGUuJG9uKCckY29yZG92YU5ldHdvcms6b25saW5lJywgZnVuY3Rpb24oZXZlbnQsIG5ldHdvcmtTdGF0ZSl7XG4gICAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgJHNjb3BlLnNlbmRfb2ZmbGluZV9yZXBvcnRzKCk7XG4gICAgICAgICAgLy8kc2NvcGUuYWRkUmVwb3J0c0xheWVyKCk7XG4gICAgICAgICAgJHNjb3BlLmNyZWF0ZV9vbmxpbmVfbWFwKCk7XG5cbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS4kb24oJyRjb3Jkb3ZhTmV0d29yazpvZmZsaW5lJywgZnVuY3Rpb24oZXZlbnQsIG5ldHdvcmtTdGF0ZSl7XG4gICAgICAgICAgJHNjb3BlLmNyZWF0ZV9vZmZsaW5lX21hcCgpO1xuICAgICAgICAgICRzY29wZS5zZXRfb2ZmbGluZV91c2VyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25saW5lXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAkc2NvcGUuY2hlY2tfdXNlcl9sb2dnZWQoKTtcbiAgICAgICAgICAkc2NvcGUuc2VuZF9vZmZsaW5lX3JlcG9ydHMoKTtcbiAgICAgICAgICAvLyRzY29wZS5hZGRSZXBvcnRzTGF5ZXIoKTtcbiAgICAgICAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAoKTtcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICRzY29wZS5jcmVhdGVfb2ZmbGluZV9tYXAoKTtcbiAgICAgICAgICAkc2NvcGUuc2V0X29mZmxpbmVfdXNlcigpO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5zZW5kX29mZmxpbmVfcmVwb3J0c19mcm9tX21lbnUgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgICRzY29wZS5zZW5kX29mZmxpbmVfcmVwb3J0cygpO1xuICAgICAgICAkc2NvcGUubGlzdF9vZmZsaW5lX3JlcG9ydHMoKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydCgnRXJyb3IgZGUgY29uZXhpw7NuJywnUGFyYSBwb2RlciBlbnZpYXIgbG9zIHJlcG9ydGVzIHBlbmRpZW50ZXMgZGViZSBlc3RhciBjb25lY3RhZG8gYSBpbnRlcm5ldC4nKTtcbiAgICAgIH1cblxuICAgIH07XG5cbiAgICAkc2NvcGUuc2VuZF9vZmZsaW5lX3JlcG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgIHZhciByZXBvcnRzID0gREJTZXJ2aWNlLmdldEFsbFJlcG9ydHMoKTtcbiAgICAgICAgcmVwb3J0cy50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAvLyBoYW5kbGUgcmVzdWx0XG4gICAgICAgICAgaWYocmVzdWx0IT1udWxsICYmIHJlc3VsdC50b3RhbF9yb3dzPjApe1xuICAgICAgICAgICAgcmVzdWx0LnJvd3MuZm9yRWFjaChmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVwb3J0ID0gcm93LmRvYztcbiAgICAgICAgICAgICAgICB2YXIgcmVwb3J0X3NlbnQgPSBQTUJTZXJ2aWNlLnJlcG9ydChyZXBvcnQpO1xuICAgICAgICAgICAgICAgIGlmKHJlcG9ydC5maWxlPT1udWxsKXtcbiAgICAgICAgICAgICAgICAgIHJlcG9ydF9zZW50LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLGNvbmZpZyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4KGRhdGEpKXtcbiAgICAgICAgICAgICAgICAgICAgICBEQlNlcnZpY2UuZGVsZXRlUmVwb3J0KHJlcG9ydC5faWQpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAvL0VSUk9SIFNFTkRJTkcgVEhFIFJFUE9SVDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZyl7XG4gICAgICAgICAgICAgICAgICAgIC8vRVJST1IgU0VORElORyBUSEUgUkVQT1JUO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgIHJlcG9ydF9zZW50LnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzcC5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4KGRhdGEpKXtcbiAgICAgICAgICAgICAgICAgICAgICBEQlNlcnZpY2UuZGVsZXRlUmVwb3J0KHJlcG9ydC5faWQpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAvL0VSUk9SIFNFTkRJTkcgVEhFIFJFUE9SVDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvL0VSUk9SIFNFTkRJTkcgVEhFIFJFUE9SVDtcbiAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5zZW5kX29mZmxpbmVfcmVwb3J0ID0gZnVuY3Rpb24ocmVwb3J0KSB7XG4gICAgICB2YXIgcmVwb3J0X3NlbnQgPSBQTUJTZXJ2aWNlLnJlcG9ydChyZXBvcnQpO1xuICAgICAgaWYocmVwb3J0LmZpbGU9PW51bGwpe1xuICAgICAgICByZXBvcnRfc2VudC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycyxjb25maWcpe1xuICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4KGRhdGEpKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmVwb3J0X3NlbnQudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2UpO1xuICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4KGRhdGEpKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlX29mZmxpbmVfbWFwID0gZnVuY3Rpb24oKXtcbiAgICAgIGlmKCRzY29wZS5tYXAhPW51bGwpe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAkc2NvcGUubWFwID0ge1xuICAgICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICB0aWxlTGF5ZXI6ICcuL29mZmxpbmVfdGlsZXMve3p9L3t4fS97eX0ucG5nJyxcbiAgICAgICAgICAgIC8vbWluWm9vbTogMTIsXG4gICAgICAgICAgICBtaW5ab29tOiAxNixcbiAgICAgICAgICAgIG1heFpvb206IDE2LFxuICAgICAgICAgICAgem9vbUNvbnRyb2xQb3NpdGlvbjogJ3RvcGxlZnQnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWFya2Vyczoge30sXG4gICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICBtYXA6IHtcbiAgICAgICAgICAgICAgZW5hYmxlOiBbJ2NvbnRleHQnXSxcbiAgICAgICAgICAgICAgbG9naWM6ICdlbWl0J1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmNyZWF0ZV9vbmxpbmVfbWFwID0gZnVuY3Rpb24oKXtcbiAgICAgIGlmKCRzY29wZS5tYXAhPW51bGwgJiYgJHNjb3BlLm1hcC5kZWZhdWx0cy50aWxlTGF5ZXI9PScuL29mZmxpbmVfdGlsZXMve3p9L3t4fS97eX0ucG5nJyl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5tYXAgPSB7XG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgLy90aWxlTGF5ZXI6ICdodHRwOi8ve3N9LnRpbGUub3NtLm9yZy97en0ve3h9L3t5fS5wbmcnLFxuICAgICAgICAgIHRpbGVMYXllcjogJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJyxcbiAgICAgICAgICBtaW5ab29tOiAxMixcbiAgICAgICAgICBtYXhab29tOiAxOCxcbiAgICAgICAgICB6b29tQ29udHJvbFBvc2l0aW9uOiAndG9wbGVmdCcsXG4gICAgICAgIH0sXG4gICAgICAgIG1hcmtlcnM6IHt9LFxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICBtYXA6IHtcbiAgICAgICAgICAgIGVuYWJsZTogWydjb250ZXh0J10sXG4gICAgICAgICAgICBsb2dpYzogJ2VtaXQnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgICRzY29wZS5sb2FkUGluc0xheWVyKCk7XG4gICAgICBpZihMb2NhdGlvbnNTZXJ2aWNlLm5ld19yZXBvcnRfbGF0IT1cIlwiKXtcbiAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIgPSB7XG4gICAgICAgICAgICBsYXQ6IExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sYXQsXG4gICAgICAgICAgICBsbmc6IExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sbmcsXG4gICAgICAgICAgICB6b29tOiAxNlxuICAgICAgICAgIH07XG4gICAgICB9ZWxzZXtcbiAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIgPSB7XG4gICAgICAgICAgICBsYXQ6IC0zNC45MDExMTMsXG4gICAgICAgICAgICBsbmc6IC01Ni4xNjQ1MzEsXG4gICAgICAgICAgICB6b29tOiAxNlxuICAgICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIG1hcC5vbignbW92ZWVuZCcsICRzY29wZS5oaWRlT2ZmU2NyZWVuUGlucyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG5cbiAgICB2YXIgTG9jYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBMb2NhdGlvbikpIHJldHVybiBuZXcgTG9jYXRpb24oKTtcbiAgICAgIHRoaXMubGF0ID0gXCJcIjtcbiAgICAgIHRoaXMubG5nID0gXCJcIjtcbiAgICAgIHRoaXMubmFtZSA9IFwiXCI7XG4gICAgfTtcblxuICAgICRzY29wZS5uZXdfcmVwb3J0X2Zyb21fbGF0bG9uID0gZnVuY3Rpb24obGF0LGxuZykge1xuICAgICAgTG9jYXRpb25zU2VydmljZS5uZXdfcmVwb3J0X2xhdCA9IGxhdDtcbiAgICAgIExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sbmcgPSBsbmc7XG4gICAgICBMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbGF0ID0gIGxhdDtcbiAgICAgIExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sbmcgPSAgbG5nO1xuICAgICAgJHNjb3BlLm5ld19yZXBvcnQoMSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm5ld19yZXBvcnQgPSBmdW5jdGlvbihhbHJlYWR5TG9jYXRlZCkge1xuICAgICAgJHNjb3BlLnNldF9hY3RpdmVfb3B0aW9uKCdidXR0b24tcmVwb3J0Jyk7XG4gICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgIGlmKGFscmVhZHlMb2NhdGVkPT0xKXtcbiAgICAgICAgTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xhdCA9IExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sYXQ7XG4gICAgICAgIExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sbmcgPSBMb2NhdGlvbnNTZXJ2aWNlLm5ld19yZXBvcnRfbGF0O1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgICAkc2NvcGUucmVwb3J0ID0gUmVwb3J0U2VydmljZS5fbmV3KCk7XG4gICAgICAgICAgJHNjb3BlLnJlcG9ydC5sYXQgPSBMb2NhdGlvbnNTZXJ2aWNlLm5ld19yZXBvcnRfbGF0O1xuICAgICAgICAgICRzY29wZS5yZXBvcnQubG9uID0gTG9jYXRpb25zU2VydmljZS5uZXdfcmVwb3J0X2xuZztcbiAgICAgICAgICBDYXRlZ29yaWVzU2VydmljZS5hbGwoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cChyZXNwb25zZSkpe1xuICAgICAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZUNhdGVnb3JpZXMocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICRzY29wZS5zaG93X3JlcG9ydF9mb3JtKHJlc3BvbnNlLmRhdGEuY2F0ZWdvcmllcyk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAvL09GRkxJTkUgUkVQT1JULiBGaXJzdCBuZWVkIHRvIGNoZWNrIGlmIHRoZXJlIGlzIGFueSBjYWNoZWQgY2F0ZWdvcmllcy4gSWYgbm90LCBpdCdzIHRoZSBmaXJzdCB0aW1lXG4gICAgICAgICAgLy9ydW5pbmcgdGhlIGFwcCBzbyBuZWVkIHRvIHNob3cgbWVzc2FnZSBzYXlpbmcgdGhhdCBmaXJzdCB0aW1lIHJlcG9ydCBoYXMgdG8gYmUgb25saW5lLlxuICAgICAgICAgIHZhciBjYXRlZ29yaWVzRG9jID0gQ2F0ZWdvcmllc1NlcnZpY2UuZ2V0Q2FjaGVkQ2F0ZWdvcmllcygpO1xuICAgICAgICAgIGNhdGVnb3JpZXNEb2MudGhlbihmdW5jdGlvbihkb2Mpe1xuICAgICAgICAgICAgaWYoZG9jICYmIGRvYy5jYXRlZ29yaWVzICYmIE9iamVjdC5rZXlzKGRvYy5jYXRlZ29yaWVzKS5sZW5ndGg+MCl7XG4gICAgICAgICAgICAgICRzY29wZS5yZXBvcnQgPSBSZXBvcnRTZXJ2aWNlLl9uZXcoKTtcbiAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydC5sYXQgPSBMb2NhdGlvbnNTZXJ2aWNlLm5ld19yZXBvcnRfbGF0O1xuICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0LmxvbiA9IExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sbmc7XG4gICAgICAgICAgICAgICRzY29wZS5zaG93X3JlcG9ydF9mb3JtKGRvYy5jYXRlZ29yaWVzKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAvL0ZpcnN0IHRpbWUgcmVwb3J0XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KCdQcmltZXIgcmVwb3J0ZScsJ0xhIHByaW1lcmEgdmV6IHF1ZSByZWFsaXphIHVuIHJlcG9ydGUgZGViZSBlbmNvbnRyYXJzZSBjb25lY3RhZG8gYSBpbnRlcm5ldC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgIC8vRmlyc3QgdGltZSByZXBvcnRcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoJ1ByaW1lciByZXBvcnRlJywnTGEgcHJpbWVyYSB2ZXogcXVlIHJlYWxpemEgdW4gcmVwb3J0ZSBkZWJlIGVuY29udHJhcnNlIGNvbmVjdGFkbyBhIGludGVybmV0LicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICAkc2NvcGUuYWRkTWFwQ29udHJvbHMoKTtcbiAgICAgICAgLy9Qb3BVcFNlcnZpY2Uuc2hvd19hbGVydCgnTnVldm8gcmVwb3J0ZScsJ1BhcmEgcmVhbGl6YXIgdW4gbnVldm8gcmVwb3J0ZSwgbWFudMOpbiBwcmVzaW9uYWRvIHNvYnJlIGxhIHViaWNhY2nDs24gZGVzZWFkYS4nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLmVkaXRPZmZsaW5lUmVwb3J0ID0gZnVuY3Rpb24ocmVwb3J0SWQpIHtcbiAgICAgICAgJHNjb3BlLnNldF9hY3RpdmVfb3B0aW9uKCdidXR0b24tcmVwb3J0Jyk7XG4gICAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgLy9PRkZMSU5FIFJFUE9SVC4gRmlyc3QgbmVlZCB0byBjaGVjayBpZiB0aGVyZSBpcyBhbnkgY2FjaGVkIGNhdGVnb3JpZXMuIElmIG5vdCwgaXQncyB0aGUgZmlyc3QgdGltZVxuICAgICAgICAgICAgLy9ydW5pbmcgdGhlIGFwcCBzbyBuZWVkIHRvIHNob3cgbWVzc2FnZSBzYXlpbmcgdGhhdCBmaXJzdCB0aW1lIHJlcG9ydCBoYXMgdG8gYmUgb25saW5lLlxuICAgICAgICAgICAgdmFyIGNhdGVnb3JpZXNEb2MgPSBDYXRlZ29yaWVzU2VydmljZS5nZXRDYWNoZWRDYXRlZ29yaWVzKCk7XG4gICAgICAgICAgICBjYXRlZ29yaWVzRG9jLnRoZW4oZnVuY3Rpb24oZG9jKXtcbiAgICAgICAgICAgICAgaWYoZG9jICYmIGRvYy5jYXRlZ29yaWVzICYmIE9iamVjdC5rZXlzKGRvYy5jYXRlZ29yaWVzKS5sZW5ndGg+MCl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydCA9ICAkc2NvcGUub2ZmbGluZVJlcG9ydHNbcmVwb3J0SWRdO1xuICAgICAgICAgICAgICAgICRzY29wZS5zaG93X29mZmxpbmVfcmVwb3J0X2Zvcm0oZG9jLmNhdGVnb3JpZXMpO1xuICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAvL0ZpcnN0IHRpbWUgcmVwb3J0XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydCgnUHJpbWVyIHJlcG9ydGUnLCdMYSBwcmltZXJhIHZleiBxdWUgcmVhbGl6YSB1biByZXBvcnRlIGRlYmUgZW5jb250cmFyc2UgY29uZWN0YWRvIGEgaW50ZXJuZXQuJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgLy9GaXJzdCB0aW1lIHJlcG9ydFxuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydCgnUHJpbWVyIHJlcG9ydGUnLCdMYSBwcmltZXJhIHZleiBxdWUgcmVhbGl6YSB1biByZXBvcnRlIGRlYmUgZW5jb250cmFyc2UgY29uZWN0YWRvIGEgaW50ZXJuZXQuJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgfTtcblxuICAkc2NvcGUuZGVsZXRlT2ZmbGluZVJlcG9ydCA9IGZ1bmN0aW9uKHJlcG9ydElkKSB7XG4gICAgLy8kc2NvcGUuc2V0X2FjdGl2ZV9vcHRpb24oJ2J1dHRvbi1yZXBvcnQnKTtcbiAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAkc2NvcGUucmVwb3J0ID0gICRzY29wZS5vZmZsaW5lUmVwb3J0c1tyZXBvcnRJZF07XG4gICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2RlbGV0ZS1vZmZsaW5lLXJlcG9ydC5odG1sJywge1xuICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgIC8vaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgTW9kYWxTZXJ2aWNlLnNob3coKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS51cGRhdGVPZmZsaW5lUmVwb3J0ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgZmllbGRzID0gbmV3IEFycmF5KCk7XG4gICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkVtYWlsXCIsXCJlbWFpbFwiLCRzY29wZS5yZXBvcnQuZW1haWwpKTtcbiAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29udHJhc2XDsWFcIixcIm5vdE51bGxcIiwkc2NvcGUucmVwb3J0LnBhc3N3b3JkX3NpZ25faW4pKTtcbiAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiU2VsZWNjaW9uZSB1bmEgc3ViY2F0ZWdvcsOtYVwiLFwibm90TnVsbFwiLCRzY29wZS5yZXBvcnQuY2F0ZWdvcnkpKTtcbiAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiVMOtdHVsb1wiLFwibm90TnVsbFwiLCRzY29wZS5yZXBvcnQudGl0bGUpKTtcbiAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiRGV0YWxsZXNcIixcIm5vdE51bGxcIiwkc2NvcGUucmVwb3J0LmRldGFpbCkpO1xuICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgIERCU2VydmljZS51cGRhdGVSZXBvcnQoJHNjb3BlLnJlcG9ydCkudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuYmFja190b19tYXAodHJ1ZSk7XG4gICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiRW52w61vIHBlbmRpZW50ZVwiLFwiU2UgaGFuIGd1YXJkYWRvIGxvcyBjYW1iaW9zIGFsIHJlcG9ydGUuIFNlIGVudmlhcsOhIGN1YW5kbyB1dGlsaWNlIGVzdGEgYXBsaWNhY2nDs24gY29uZWN0YWRvIGEgaW50ZXJuZXRcIik7XG4gICAgICAgICRzY29wZS5saXN0X3JlcG9ydHMoKTtcbiAgICAgICAgJHNjb3BlLm9mZmxpbmVSZXBvcnRzTWFya2Vyc1skc2NvcGUucmVwb3J0Ll9pZF0ub3BlblBvcHVwKCk7XG4gICAgICB9KTtcbiAgICB9ZWxzZXtcbiAgICAgICRzY29wZS5iYWNrX3RvX21hcChmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgJHNjb3BlLmNsZWFuT2ZmbGluZU1hcmtlcnMgPSBmdW5jdGlvbihtYXApe1xuICAgICAgbWFwLmVhY2hMYXllcihmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgaWYobGF5ZXIuX3VybCE9XCJ1bmRlZmluZWRcIiAmJiBsYXllci5fdXJsIT1udWxsKXtcbiAgICAgICAgICAvL0lUJ3MgVEhFIE1BUCBJVFNFTEZcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgaWYobGF5ZXIub3B0aW9ucy5hbHQgPT0gXCJSZXBvcnRlIHBlbmRpZW50ZSBkZSBlbnbDrW9cIil7XG4gICAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICB9XG5cbiAgJHNjb3BlLmRlbGV0ZU9mZmxpbmVSZXBvcnRPayA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGlkID0gJHNjb3BlLnJlcG9ydC5faWQ7XG4gICAgREJTZXJ2aWNlLmRlbGV0ZUdpdmVuUmVwb3J0KCRzY29wZS5yZXBvcnQpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgIHZhciBtYXJrZXIgPSAkc2NvcGUub2ZmbGluZVJlcG9ydHNNYXJrZXJzW2lkXTtcbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIG1hcC5yZW1vdmVMYXllcihtYXJrZXIpO1xuICAgICAgfSk7XG4gICAgICAvL2NvbnNvbGUubG9nKCRzY29wZS5vZmZsaW5lUmVwb3J0c01hcmtlcnNbcmVwb3J0LmlkXSk7XG4gICAgICAkc2NvcGUuYmFja190b19tYXAodHJ1ZSk7XG4gICAgICAkc2NvcGUubGlzdF9yZXBvcnRzKCk7XG4gICAgfSk7XG4gIH1cblxuICAkc2NvcGUuc2hvd19yZXBvcnRfZm9ybSA9IGZ1bmN0aW9uKGNhdGVnb3JpZXMpe1xuICAgICRzY29wZS5jYXRlZ29yaWVzID0gY2F0ZWdvcmllcztcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICBpZihVc2VyU2VydmljZS5pc0xvZ2dlZCgpKXtcbiAgICAgICRzY29wZS5yZXBvcnQubmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICAkc2NvcGUucmVwb3J0LmVtYWlsID0gVXNlclNlcnZpY2UuZW1haWw7XG4gICAgICAkc2NvcGUucmVwb3J0LnBhc3N3b3JkX3NpZ25faW4gPSBVc2VyU2VydmljZS5wYXNzd29yZDtcbiAgICAgICRzY29wZS5yZXBvcnQucGhvbmUgPSBVc2VyU2VydmljZS5waG9uZTtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL3BtYi13aXphcmQuaHRtbCcsIHtcbiAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZSxcbiAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgfSk7XG4gICAgfWVsc2V7XG4gICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9wbWItd2l6YXJkLXdpdGgtbG9naW4uaHRtbCcsIHtcbiAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgfSk7XG5cbiAgICB9XG4gIH1cblxuICAkc2NvcGUuc2hvd19vZmZsaW5lX3JlcG9ydF9mb3JtID0gZnVuY3Rpb24oY2F0ZWdvcmllcyl7XG4gICAgJHNjb3BlLmNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgdmFyIHRlbXBsYXRlID0gXCJcIjtcbiAgICBpZihVc2VyU2VydmljZS5pc0xvZ2dlZCgpKXtcbiAgICAgICRzY29wZS5yZXBvcnQubmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICAkc2NvcGUucmVwb3J0LmVtYWlsID0gVXNlclNlcnZpY2UuZW1haWw7XG4gICAgICAkc2NvcGUucmVwb3J0LnBhc3N3b3JkX3NpZ25faW4gPSBVc2VyU2VydmljZS5wYXNzd29yZDtcbiAgICAgICRzY29wZS5yZXBvcnQucGhvbmUgPSBVc2VyU2VydmljZS5waG9uZTtcbiAgICAgIHRlbXBsYXRlID0gXCJ0ZW1wbGF0ZXMvcG1iLW9mZmxpbmUtd2l6YXJkLmh0bWxcIjtcbiAgICB9ZWxzZXtcbiAgICAgIC8vdGVtcGxhdGUgPSBcInRlbXBsYXRlcy9wbWItb2ZmbGluZS13aXphcmQtd2l0aC1sb2dpbi5odG1sXCI7XG4gICAgICB0ZW1wbGF0ZSA9IFwidGVtcGxhdGVzL3BtYi1vZmZsaW5lLXdpemFyZC5odG1sXCI7XG4gICAgICAvL1NlIGxsYW1hIHNpZW1wcmUgYWwgZm9ybSBxdWUgbm8gcGlkZSB1c3VhcmlvIHBvcnF1ZSB5YSBzZSBndWFyZMOzIGVsIHVzdWFyaW8gbGEgcHJpbWVyYSB2ZXpcbiAgICB9XG4gICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL3BtYi1vZmZsaW5lLXdpemFyZC5odG1sJywge1xuICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgIC8vaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5Z3JvdXAgPSAkc2NvcGUucmVwb3J0LmNhdGVnb3J5Z3JvdXA7XG4gICAgICAgICAgICAgIHZhciBjYXRlZ29yaWVzX3NlbGVjdCA9IGFuZ3VsYXIuZWxlbWVudCggZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJyNjYXRlZ29yaWVzU2VsZWN0JyApICk7XG4gICAgICAgICAgICAgIGNhdGVnb3JpZXNfc2VsZWN0LnZhbChjYXRlZ29yeWdyb3VwKTtcbiAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZV9zdWJjYXRlZ29yaWVzKCk7XG4gICAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9ICRzY29wZS5yZXBvcnQuY2F0ZWdvcnk7XG4gICAgICAgICAgICAgIHZhciBzdWJfc2VsZWN0X2lkID0gXCIjc3ViY2F0ZWdvcmllc1NlbGVjdF9cIitjYXRlZ29yeWdyb3VwO1xuICAgICAgICAgICAgICB2YXIgc3ViX2NhdGVnb3JpZXNfc2VsZWN0ID0gYW5ndWxhci5lbGVtZW50KCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBzdWJfc2VsZWN0X2lkICkgKTtcbiAgICAgICAgICAgICAgc3ViX2NhdGVnb3JpZXNfc2VsZWN0LnZhbChjYXRlZ29yeSk7XG4gICAgICAgICAgICAgIC8vdmFyIGNvbXBpbGVkID0gJGNvbXBpbGUoZWxlbWVudC5jb250ZW50cygpKSgkc2NvcGUpO1xuICAgICAgICAgICAgfSk7O1xuICAgIH0pO1xuICB9XG5cbiAgJHNjb3BlLnVwZGF0ZV9zdWJjYXRlZ29yaWVzID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgYWxsX3N1YmNhdHNfc2VsZWN0c19hY3RpdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic3ViY2F0ZWdvcnktYWN0aXZlXCIpO1xuICAgIGlmIChhbGxfc3ViY2F0c19zZWxlY3RzX2FjdGl2ZSAhPSAndW5kZWZpbmVkJyAmJiBhbGxfc3ViY2F0c19zZWxlY3RzX2FjdGl2ZS5sZW5ndGg+MCl7XG4gICAgICBhbGxfc3ViY2F0c19zZWxlY3RzX2FjdGl2ZVswXS5jbGFzc05hbWUgPSBcInN1YmNhdGVnb3J5LWhpZGRlblwiO1xuICAgIH1cbiAgICB2YXIgaWRDYXQgPSAkc2NvcGUucmVwb3J0LmNhdGVnb3J5Z3JvdXA7XG4gICAgdmFyIGFjdGl2ZV9zZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ViY2F0ZWdvcmllc1NlbGVjdF8nK2lkQ2F0KTtcbiAgICBhY3RpdmVfc2VsZWN0LmNsYXNzTmFtZSA9IFwic3ViY2F0ZWdvcnktYWN0aXZlXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJjYXRlZ29yaWVzU2VsZWN0Q29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xuICB9O1xuXG4gICRzY29wZS5hYnVzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNvbmZpcm1BYnVzZSA9ICRpb25pY1BvcHVwLnNob3coe1xuICAgICAgdGVtcGxhdGU6ICdOb21icmU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiYWJ1c2VfbmFtZVwiPjxici8+RW1haWw6IDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiYWJ1c2VfZW1haWxcIj48YnIvPkFzdW50bzogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJhYnVzZV9zdWJqZWN0XCI+PGJyLz5NZW5zYWplPHRleHRhcmVhIHJvd3M9XCI2XCIgaWQ9XCJhYnVzZV9tZXNzYWdlXCI+PC90ZXh0YXJlYT48ZGl2IGlkPVwiZXJyb3JfY29udGFpbmVyX2luc2lkZVwiPjwvZGl2PicsXG4gICAgICB0aXRsZTogXCJEZW51bmNpYXIgYWJ1c29cIixcbiAgICAgIHN1YlRpdGxlOiBcIkVzdMOhcyByZXBvcnRhbmRvIHBvciBhYnVzaXZhIGFsIHNpZ3VpZW50ZSByZXBvcnRlLCBxdWUgY29udGllbmUgaW5mb3JtYWNpw7NuIHBlcnNvbmFsLCBvIHNpbWlsYXI6XCIsXG4gICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgYnV0dG9uczogW1xuICAgICAgICB7IHRleHQ6ICdDYW5jZWxhcicgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRleHQ6ICc8Yj5FbnZpYXI8L2I+JyxcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uLXBvc2l0aXZlJyxcbiAgICAgICAgICBvblRhcDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgJHNjb3BlLmFidXNlX2VtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhYnVzZV9lbWFpbFwiKS52YWx1ZTtcbiAgICAgICAgICAgICRzY29wZS5hYnVzZV9uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhYnVzZV9uYW1lXCIpLnZhbHVlO1xuICAgICAgICAgICAgJHNjb3BlLmFidXNlX3N1YmplY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFidXNlX3N1YmplY3RcIikudmFsdWU7XG4gICAgICAgICAgICAkc2NvcGUuYWJ1c2VfbWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWJ1c2VfbWVzc2FnZVwiKS52YWx1ZTtcbiAgICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJOb21icmVcIixcIm5vdE51bGxcIiwkc2NvcGUuYWJ1c2VfbmFtZSkpO1xuICAgICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkVtYWlsXCIsXCJlbWFpbFwiLCRzY29wZS5hYnVzZV9lbWFpbCkpO1xuICAgICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkFzdW50b1wiLFwibm90TnVsbFwiLCRzY29wZS5hYnVzZV9zdWJqZWN0KSk7XG4gICAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiTWVuc2FqZVwiLFwibm90TnVsbFwiLCRzY29wZS5hYnVzZV9tZXNzYWdlKSk7XG4gICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuY2hlY2tfZmllbGRzKGZpZWxkcyxcImVycm9yX2NvbnRhaW5lcl9pbnNpZGVcIikpe1xuICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmFidXNlX2VtYWlsO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KTtcbiAgICBjb25maXJtQWJ1c2UudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgaWYocmVzKSB7XG4gICAgICAgdmFyIGh0dHBfcmVxdWVzdCA9IFBNQlNlcnZpY2UuYWJ1c2UoJHNjb3BlLmFidXNlX2VtYWlsLCRzY29wZS5yZXBvcnRfZGV0YWlsX2lkLCRzY29wZS5hYnVzZV9uYW1lLGFidXNlX3N1YmplY3QsJHNjb3BlLmFidXNlX21lc3NhZ2UpO1xuICAgICAgIGh0dHBfcmVxdWVzdC50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAvL3ZhciBkYXRhID0gSlNPTi5wYXJzZShyZXNwLnJlc3BvbnNlKTtcbiAgICAgICAgICAvL2lmKEVycm9yU2VydmljZS5odHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bChkYXRhLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiRGVudW5jaWEgZW52aWFkYVwiLFwiR3JhY2lhcyBwb3IgdHVzIGNvbWVudGFyaW9zLiDCoU5vcyBwb25kcmVtb3MgZW4gY29udGFjdG8gY29uIHVzdGVkIHRhbiBwcm9udG8gY29tbyBub3Mgc2VhIHBvc2libGUhXCIpO1xuICAgICAgICAgICAgJHNjb3BlLmFidXNlX25hbWUgPSBudWxsO1xuICAgICAgICAgICAgJHNjb3BlLmFidXNlX2VtYWlsID0gbnVsbDtcbiAgICAgICAgICAgICRzY29wZS5hYnVzZV9zdWJqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgICRzY29wZS5hYnVzZV9tZXNzYWdlID0gbnVsbDtcbiAgICAgICAgICAvL31cbiAgICAgICB9KTtcbiAgICB9XG4gICB9KTtcbiAgfTtcblxuICAkc2NvcGUuc2VuZF9jb21tZW50ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgZmllbGRzID0gbmV3IEFycmF5KCk7XG4gICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvbWVudGFyaW9cIixcIm5vdE51bGxcIiwkc2NvcGUuY29tbWVudC51cGRhdGUpKTtcbiAgICBpZihFcnJvclNlcnZpY2UuY2hlY2tfZmllbGRzKGZpZWxkcyxcImVycm9yX2NvbnRhaW5lcl9pbnNpZGVcIikpe1xuICAgICAgY29tbWVudF9zZW50ID0gUE1CU2VydmljZS5jb21tZW50KCRzY29wZS5jb21tZW50KTtcbiAgICAgIGlmKCRzY29wZS5jb21tZW50LnBob3RvPT1udWxsKXtcbiAgICAgICAgICBjb21tZW50X3NlbnQuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsY29uZmlnKXtcbiAgICAgICAgICAgICRzY29wZS5iYWNrX3RvX21hcCh0cnVlKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lcnJvcihmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZyl7XG4gICAgICAgICAgICBFcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlKFwiZXJyb3JfY29udGFpbmVyX2luc2lkZVwiLHN0YXR1cyk7XG4gICAgICAgICAgICAkc2NvcGUuYmFja190b19tYXAoZmFsc2UpO1xuICAgICAgICAgIH0pXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGNvbW1lbnRfc2VudC50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICRzY29wZS5iYWNrX3RvX21hcCh0cnVlKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLnVwbG9hZFByb2dyZXNzID0gKHByb2dyZXNzLmxvYWRlZCAvIHByb2dyZXNzLnRvdGFsKSAqIDEwMDtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZW50X2xhYmVsXCIpLmlubmVySFRNTCA9IFwiRW52aWFkbzogXCIgKyBNYXRoLnJvdW5kKCRzY29wZS51cGxvYWRQcm9ncmVzcykgKyBcIiVcIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgJHNjb3BlLnN1YnNjcmliZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmKFVzZXJTZXJ2aWNlLmlzTG9nZ2VkKCkpe1xuICAgICAgdmFyIGNvbmZpcm1TdWJzY3JpYmUgPSBQb3BVcFNlcnZpY2UuY29uZmlybVBvcHVwKFwiU3Vic2NyaWJpcnNlXCIsXCLCv0VzdMOhIHNlZ3VybyBxdWUgZGVzZWEgcmVjaWJpciB1biBjb3JyZW8gYSBsYSBkaXJlY2Npw7NuIFwiK1VzZXJTZXJ2aWNlLmVtYWlsK1wiIGN1YW5kbyBzZSBkZWplbiBjb21lbnRhcmlvcyBzb2JyZSBlc3RlIHByb2JsZW1hP1wiKTtcbiAgICAgIGNvbmZpcm1TdWJzY3JpYmUudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICBpZihyZXMpIHtcbiAgICAgICAgdmFyIGh0dHBfcmVxdWVzdCA9IFBNQlNlcnZpY2Uuc3Vic2NyaWJlKFVzZXJTZXJ2aWNlLmVtYWlsLCRzY29wZS5yZXBvcnRfZGV0YWlsX2lkKTtcbiAgICAgICAgaHR0cF9yZXF1ZXN0LnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAvL3ZhciBkYXRhID0gSlNPTi5wYXJzZShyZXNwLnJlc3BvbnNlKTtcbiAgICAgICAgICAgLy9pZihFcnJvclNlcnZpY2UuaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwoZGF0YSxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgIC8vfVxuICAgICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIkNvbmZpcm1lIHN1IGNvcnJlb1wiLFwiU2UgaGEgZW52aWFkbyB1biBsaW5rIGEgbGEgZGlyZWNjacOzbiBcIiArIFVzZXJTZXJ2aWNlLmVtYWlsICsgXCIgcGFyYSBjb25maXJtYXIgc3UgY29ycmVvLiBMdWVnbyBkZSBlc3RvIGNvbWVuemFyw6FuIGEgbGxlZ2FybGUgbGFzIGFsZXJ0YXMgc29icmUgbnVldm9zIGNvbWVudGFyaW9zLlwiKVxuICAgICAgICB9KTtcbiAgICAgICB9XG4gICAgIH0pO1xuICAgIH1lbHNle1xuICAgICAgdmFyIGNvbmZpcm1TdWJzY3JpYmUgPSBQb3BVcFNlcnZpY2UuYXNrRm9yT25lVmFsdWVQb3BVcCgkc2NvcGUsXCJTdWJzY3JpYmlyc2VcIixcIlBvciBmYXZvciwgaW5ncmVzZSB1biBjb3JyZW8gYWwgcXVlIGRlc2VhIHJlY2liaXIgbWVuc2FqZXMgY3VhbmRvIHNlIGRlamVuIGNvbWVudGFyaW9zIHNvYnJlIGVzdGUgcHJvYmxlbWEuXCIsIFwiRW1haWxcIiwgXCJlbWFpbFwiKTtcbiAgICAgIGNvbmZpcm1TdWJzY3JpYmUudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICBpZihyZXMpIHtcbiAgICAgICAgICRzY29wZS5vbmVfdmFsdWVfcG9wdXAgPSByZXM7XG4gICAgICAgICB2YXIgaHR0cF9yZXF1ZXN0ID0gUE1CU2VydmljZS5zdWJzY3JpYmUoJHNjb3BlLm9uZV92YWx1ZV9wb3B1cCwkc2NvcGUucmVwb3J0X2RldGFpbF9pZCk7XG4gICAgICAgICBodHRwX3JlcXVlc3QudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAvL3ZhciBkYXRhID0gSlNPTi5wYXJzZShyZXNwLnJlc3BvbnNlKTtcbiAgICAgICAgICAgIC8vaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsKGRhdGEsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIkNvbmZpcm1lIHN1IGNvcnJlb1wiLFwiU2UgaGEgZW52aWFkbyB1biBsaW5rIGEgbGEgZGlyZWNjacOzbiBcIiArICRzY29wZS5vbmVfdmFsdWVfcG9wdXAgKyBcIiBwYXJhIGNvbmZpcm1hciBzdSBjb3JyZW8uIEx1ZWdvIGRlIGVzdG8gY29tZW56YXLDoW4gYSBsbGVnYXJsZSBsYXMgYWxlcnRhcyBzb2JyZSBudWV2b3MgY29tZW50YXJpb3MuXCIpXG4gICAgICAgICAgICAgICRzY29wZS5vbmVfdmFsdWVfcG9wdXAgPSBudWxsO1xuICAgICAgICAgICAgLy99XG4gICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgfSk7XG4gICAgfVxuXG4gIH07XG5cbiAgJHNjb3BlLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgICBpZihVc2VyU2VydmljZS5pc0xvZ2dlZCgpKXtcbiAgICAgIHZhciBjb25maXJtSGlkZSA9IFBvcFVwU2VydmljZS5jb25maXJtUG9wdXAoXCJPY3VsdGFyXCIsXCLCv0VzdMOhIHNlZ3VybyBkZSBxdWUgZGVzZWEgb2N1bHRhciBzdSByZXBvcnRlPyBFc3RlIG5vIGFwYXJlY2Vyw6EgbcOhcyBuaSBlbiBsYSBww6FnaW5hIG5pIGVuIGxhIGFwbGljYWNpw7NuIHNpIGVzIG9jdWx0YWRvLlwiKTtcbiAgICAgIGNvbmZpcm1IaWRlLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgaWYocmVzKSB7XG4gICAgICAgIHZhciBodHRwX3JlcXVlc3QgPSBQTUJTZXJ2aWNlLmhpZGUoJHNjb3BlLnJlcG9ydF9kZXRhaWxfaWQpO1xuICAgICAgICBodHRwX3JlcXVlc3QudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiT2N1bHRhclwiLFwiU2UgaGEgb2N1bHRhZG8gZWwgcmVwb3J0ZS4gTm8gc2Vyw6EgdmlzaWJsZSBlbiBlbCBmdXR1cm8uXCIpO1xuICAgICAgICB9KTtcbiAgICAgICB9XG4gICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuY29uZmlybVJlcG9ydCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICB2YXIgZmllbGRzID0gbmV3IEFycmF5KCk7XG4gICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiU2VsZWNjaW9uZSB1bmEgc3ViY2F0ZWdvcsOtYVwiLFwibm90TnVsbFwiLCRzY29wZS5yZXBvcnQuY2F0ZWdvcnkpKTtcbiAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJUw610dWxvXCIsXCJub3ROdWxsXCIsJHNjb3BlLnJlcG9ydC50aXRsZSkpO1xuICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkRldGFsbGVzXCIsXCJub3ROdWxsXCIsJHNjb3BlLnJlcG9ydC5kZXRhaWwpKTtcbiAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgdmFyIHJlcG9ydF9zZW50ID0gUE1CU2VydmljZS5yZXBvcnQoJHNjb3BlLnJlcG9ydCk7XG4gICAgICAgIHZhciBiYWNrX3RvX21hcCA9IGZhbHNlO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIGlmKCRzY29wZS5yZXBvcnQuZmlsZT09bnVsbCl7XG4gICAgICAgICAgcmVwb3J0X3NlbnQuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsY29uZmlnKXtcbiAgICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bChkYXRhLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgICAgJHNjb3BlLmJhY2tfdG9fbWFwKHRydWUpO1xuICAgICAgICAgICAgICAvLyRzY29wZS5hZGRSZXBvcnRzTGF5ZXIoKTtcbiAgICAgICAgICAgICAgJHNjb3BlLmxvYWRQaW5zTGF5ZXIoKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAkc2NvcGUuYmFja190b19tYXAoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKXtcbiAgICAgICAgICAgIEVycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2UoXCJlcnJvcl9jb250YWluZXJcIixzdGF0dXMpO1xuICAgICAgICAgICAgJHNjb3BlLmJhY2tfdG9fbWFwKGZhbHNlKTtcbiAgICAgICAgICB9KVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICB2YXIgcmVwb3J0ZUVudmlhZG8gPSAkc2NvcGUucmVwb3J0O1xuICAgICAgICAgIHJlcG9ydF9zZW50LnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzcC5yZXNwb25zZSk7XG4gICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwoZGF0YSxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgICRzY29wZS5iYWNrX3RvX21hcCh0cnVlKTtcbiAgICAgICAgICAgICAgLy8kc2NvcGUuYWRkUmVwb3J0c0xheWVyKCk7XG4gICAgICAgICAgICAgICRzY29wZS5sb2FkUGluc0xheWVyKCk7XG4gICAgICAgICAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhdCA9IHJlcG9ydGVFbnZpYWRvLmxhdDtcbiAgICAgICAgICAgICAgICAvL01vdmUgYSBsaXR0bGUgdGhlIG1hcCBjZW50ZXIgYmVjYXVzZSB0aGUgbWFwIHZpZXcgaXMgc21hbGxlciAocmVwb3J0IGxpc3QgaXMgZGlzcGxheWVkKVxuICAgICAgICAgICAgICAgIGxhdCA9IGxhdCAtIDAuMDAwNjtcbiAgICAgICAgICAgICAgICBtYXAuc2V0VmlldyhuZXcgTC5MYXRMbmcobGF0LCByZXBvcnRlRW52aWFkby5sb24pLCAxOCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAkc2NvcGUuYmFja190b19tYXAoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICAkc2NvcGUuYmFja190b19tYXAodHJ1ZSk7XG4gICAgICAgICAgICAvLyRzY29wZS5hZGRSZXBvcnRzTGF5ZXIoKTtcbiAgICAgICAgICAgICRzY29wZS5sb2FkUGluc0xheWVyKCk7XG4gICAgICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICAgICAgICB2YXIgbGF0ID0gcmVwb3J0ZUVudmlhZG8ubGF0O1xuICAgICAgICAgICAgICAvL01vdmUgYSBsaXR0bGUgdGhlIG1hcCBjZW50ZXIgYmVjYXVzZSB0aGUgbWFwIHZpZXcgaXMgc21hbGxlciAocmVwb3J0IGxpc3QgaXMgZGlzcGxheWVkKVxuICAgICAgICAgICAgICBsYXQgPSBsYXQgLSAwLjAwMDY7XG4gICAgICAgICAgICAgIG1hcC5zZXRWaWV3KG5ldyBMLkxhdExuZyhsYXQsIHJlcG9ydGVFbnZpYWRvLmxvbiksIDE4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLyokc2NvcGUuc2F2ZV9vZmZsaW5lX3JlcG9ydCgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgICAgICAkc2NvcGUuYmFja190b19tYXAodHJ1ZSk7XG4gICAgICAgICAgICAgIC8vJHNjb3BlLmxpc3RfcmVwb3J0c19hbmRfZ28ocmVzcG9uc2UuaWQpO1xuICAgICAgICAgICAgICAkc2NvcGUubGlzdF9yZXBvcnRzKCk7XG4gICAgICAgICAgICAgIHZhciBhbGVydCA9IFwiQ8OzZGlnbzogXCIgKyBlcnJvci5jb2RlO1xuICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgT3JpZ2VuOiBcIiArIGVycm9yLnNvdXJjZTtcbiAgICAgICAgICAgICAgYWxlcnQgPSBhbGVydCArIFwiIERlc3Rpbm86IFwiICsgZXJyb3IudGFyZ2V0O1xuICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgaHR0cF9zdGF0dXM6IFwiICsgZXJyb3IuaHR0cF9zdGF0dXM7XG4gICAgICAgICAgICAgIC8vYWxlcnQgPSBhbGVydCArIFwiIEJvZHk6IFwiICsgZXJyb3IuYm9keTtcbiAgICAgICAgICAgIC8vICBhbGVydCA9IGFsZXJ0ICsgXCIgRXhjZXB0aW9uOiBcIiArIGVycm9yLmV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhhbGVydCk7XG4gICAgICAgICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiRXJyb3IgZW4gZWwgZW52w61vXCIsXCJIdWJvIHVuIGVycm9yIGVuIGVsIGVudsOtbzogXCIgKyBhbGVydCArIFwiLiBFbCByZXBvcnRlIHNlIGhhIGd1YXJkYWRvIGVuIHN1IGRpc3Bvc2l0aXZvIHkgc2UgZW52aWFyw6EgY3VhbmRvIHV0aWxpY2UgZXN0YSBhcGxpY2FjacOzbiBjb25lY3RhZG8gYSBpbnRlcm5ldFwiKTtcbiAgICAgICAgICAgIH0pOyovXG4gICAgICAgICAgfSwgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIC8qJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICRzY29wZS51cGxvYWRQcm9ncmVzcyA9IChwcm9ncmVzcy5sb2FkZWQgLyBwcm9ncmVzcy50b3RhbCkgKiAxMDA7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VudF9sYWJlbFwiKS5pbm5lckhUTUwgPSBcIkVudmlhZG86IFwiICsgTWF0aC5yb3VuZCgkc2NvcGUudXBsb2FkUHJvZ3Jlc3MpICsgXCIlXCI7XG4gICAgICAgICAgICB9KTsqL1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgJHNjb3BlLmJhY2tfdG9fbWFwKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgICRzY29wZS5zYXZlX29mZmxpbmVfcmVwb3J0KCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICRzY29wZS5iYWNrX3RvX21hcCh0cnVlKTtcbiAgICAgICAgLy8kc2NvcGUubGlzdF9yZXBvcnRzX2FuZF9nbyhyZXNwb25zZS5pZCk7XG4gICAgICAgICRzY29wZS5saXN0X3JlcG9ydHMoKTtcbiAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoXCJFbnbDrW8gcGVuZGllbnRlXCIsXCJFbCByZXBvcnRlIHNlIGhhIGd1YXJkYWRvIGVuIHN1IGRpc3Bvc2l0aXZvIHkgc2UgZW52aWFyw6EgY3VhbmRvIHV0aWxpY2UgZXN0YSBhcGxpY2FjacOzbiBjb25lY3RhZG8gYSBpbnRlcm5ldFwiKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUubmV4dCgpO1xuICB9O1xuXG4gICRzY29wZS5wcmV2aW91cyA9IGZ1bmN0aW9uKCkge1xuICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUucHJldmlvdXMoKTtcbiAgfTtcblxuICAkc2NvcGUuY29uZmlybVJlcG9ydFdpdGhMb2dpbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJFbWFpbFwiLFwiZW1haWxcIiwkc2NvcGUucmVwb3J0LmVtYWlsKSk7XG4gICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29udHJhc2XDsWFcIixcIm5vdE51bGxcIiwkc2NvcGUucmVwb3J0LnBhc3N3b3JkX3NpZ25faW4pKTtcbiAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJTZWxlY2Npb25lIHVuYSBzdWJjYXRlZ29yw61hXCIsXCJub3ROdWxsXCIsJHNjb3BlLnJlcG9ydC5jYXRlZ29yeSkpO1xuICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIlTDrXR1bG9cIixcIm5vdE51bGxcIiwkc2NvcGUucmVwb3J0LnRpdGxlKSk7XG4gICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiRGV0YWxsZXNcIixcIm5vdE51bGxcIiwkc2NvcGUucmVwb3J0LmRldGFpbCkpO1xuICAgICAgaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkcyhmaWVsZHMsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICBBdXRoU2VydmljZS5zaWduX2luKCRzY29wZS5yZXBvcnQucGFzc3dvcmRfc2lnbl9pbiwgJHNjb3BlLnJlcG9ydC5lbWFpbCkudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bChyZXNwLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKHJlc3AuZGF0YS5uYW1lLCAkc2NvcGUucmVwb3J0LmVtYWlsLCAkc2NvcGUucmVwb3J0LnBhc3N3b3JkX3NpZ25faW4sIHJlc3AuZGF0YS5pZGVudGl0eV9kb2N1bWVudCwgcmVzcC5kYXRhLnBob25lLCByZXNwLmRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgICAgaWYocmVzcC5kYXRhLmZyb21fYm9keSl7XG4gICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLmZyb21fYm9keSA9IHJlc3AuZGF0YS5mcm9tX2JvZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIocmVzcC5kYXRhLm5hbWUsJHNjb3BlLnJlcG9ydC5lbWFpbCwkc2NvcGUucmVwb3J0LnBhc3N3b3JkX3NpZ25faW4scmVzcC5kYXRhLmlkZW50aXR5X2RvY3VtZW50LHJlc3AuZGF0YS5waG9uZSxyZXNwLmRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgICAgICAkc2NvcGUuY29uZmlybVJlcG9ydCgpO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgJHNjb3BlLmJhY2tfdG9fbWFwKGZhbHNlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICBFcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlKFwiZXJyb3JfY29udGFpbmVyXCIscmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAkc2NvcGUuYmFja190b19tYXAoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICAkc2NvcGUuYmFja190b19tYXAoZmFsc2UpO1xuICAgICAgfVxuICAgIH1lbHNle1xuICAgICAgJHNjb3BlLnNhdmVfb2ZmbGluZV9yZXBvcnQoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgJHNjb3BlLmJhY2tfdG9fbWFwKHRydWUpO1xuICAgICAgICAvLyRzY29wZS5saXN0X3JlcG9ydHNfYW5kX2dvKHJlc3BvbnNlLmlkKTtcbiAgICAgICAgJHNjb3BlLmxpc3RfcmVwb3J0cygpO1xuICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIkVudsOtbyBwZW5kaWVudGVcIixcIkVsIHJlcG9ydGUgc2UgaGEgZ3VhcmRhZG8gZW4gc3UgZGlzcG9zaXRpdm8geSBzZSBlbnZpYXLDoSBjdWFuZG8gdXRpbGljZSBlc3RhIGFwbGljYWNpw7NuIGNvbmVjdGFkbyBhIGludGVybmV0XCIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5zYXZlX29mZmxpbmVfcmVwb3J0ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgdmFyIGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgIHZhciBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICBtb250aCA9IG1vbnRoICsgMTtcbiAgICB2YXIgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAkc2NvcGUucmVwb3J0LmRhdGUgPSBkYXkgKyBcIi9cIiArIG1vbnRoICsgXCIvXCIgKyB5ZWFyO1xuICAgIHJldHVybiBEQlNlcnZpY2Uuc2F2ZVJlcG9ydCgkc2NvcGUucmVwb3J0KTtcbiAgfVxuXG4gICRzY29wZS5iYWNrX3RvX21hcCA9IGZ1bmN0aW9uKGJhY2tfdG9fbWFwKXtcbiAgICBpZihiYWNrX3RvX21hcCl7XG4gICAgICAvL0xvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQgPSAkc2NvcGUucmVwb3J0LmxhdDtcbiAgICAgIC8vTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xuZyA9ICRzY29wZS5yZXBvcnQubG9uO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAvLyRzY29wZS5hZGRSZXBvcnRzTGF5ZXIoKTtcbiAgICB9ZWxzZXtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgfVxuXG4gICRzY29wZS5jYW5jZWxSZXBvcnQgPSBmdW5jdGlvbigpe1xuICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIH1cblxuICAkc2NvcGUuaW1hZ2UgPSBudWxsO1xuXG4gICRzY29wZS5hZGRJbWFnZSA9IGZ1bmN0aW9uKGlzRnJvbUFsYnVtLCBpc1VzZXJQaG90bywgaXNDb21tZW50UGhvdG8pIHtcbiAgICBjb25zb2xlLmxvZyhpc0Zyb21BbGJ1bSk7XG4gICAgY29uc29sZS5sb2coaXNVc2VyUGhvdG8pO1xuICAgIGNvbnNvbGUubG9nKGlzQ29tbWVudFBob3RvKTtcbiAgICAvL2FsZXJ0KFwiYWRkSW1hZ2VcIik7XG4gICAgJHNjb3BlLmlzVXNlclBob3RvID0gaXNVc2VyUGhvdG87XG4gICAgJHNjb3BlLmlzQ29tbWVudFBob3RvID0gaXNDb21tZW50UGhvdG87XG5cbiAgICB2YXIgc291cmNlID0gQ2FtZXJhLlBpY3R1cmVTb3VyY2VUeXBlLkNBTUVSQTtcbiAgICB2YXIgZml4X29yaWVudGF0aW9uID0gZmFsc2U7XG4gICAgdmFyIHNhdmVfdG9fZ2FsbGVyeSA9IGZhbHNlO1xuICAgIGlmKGlzRnJvbUFsYnVtPT0xKXtcbiAgICAgIHNvdXJjZSA9IENhbWVyYS5QaWN0dXJlU291cmNlVHlwZS5QSE9UT0xJQlJBUlk7XG4gICAgICBmaXhfb3JpZW50YXRpb24gPSBmYWxzZTtcbiAgICAgIHNhdmVfdG9fZ2FsbGVyeSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgcXVhbGl0eTogNTAsXG4gICAgICBkZXN0aW5hdGlvblR5cGU6IENhbWVyYS5EZXN0aW5hdGlvblR5cGUuRklMRV9VUkksXG4gICAgICBzb3VyY2VUeXBlOiBzb3VyY2UsXG4gICAgICBhbGxvd0VkaXQ6IGZhbHNlLFxuICAgICAgY29ycmVjdE9yaWVudGF0aW9uIDogZml4X29yaWVudGF0aW9uLFxuICAgICAgZW5jb2RpbmdUeXBlOiBDYW1lcmEuRW5jb2RpbmdUeXBlLkpQRUcsXG4gICAgICBwb3BvdmVyT3B0aW9uczogQ2FtZXJhUG9wb3Zlck9wdGlvbnMsXG4gICAgICBzYXZlVG9QaG90b0FsYnVtOiBzYXZlX3RvX2dhbGxlcnksXG4gICAgICBtZWRpYVR5cGU6IENhbWVyYS5NZWRpYVR5cGUuUElDVFVSRSxcbiAgICAgIHRhcmdldFdpZHRoOiAzNjAsXG4gICAgICB0YXJnZXRIZWlnaHQ6IDM2MFxuICAgIH07XG4gICAgY29uc29sZS5sb2cob3B0aW9ucyk7XG5cbiAgICAkY29yZG92YUNhbWVyYS5nZXRQaWN0dXJlKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24oaW1hZ2VEYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZyhpbWFnZURhdGEpO1xuICAgICAgb25JbWFnZVN1Y2Nlc3MoaW1hZ2VEYXRhKTtcblxuICAgICAgZnVuY3Rpb24gb25JbWFnZVN1Y2Nlc3MoZmlsZVVSSSkge1xuICAgICAgICAvL2FsZXJ0KGZpbGVVUkkpO1xuICAgICAgICBjb25zb2xlLmxvZyhmaWxlVVJJKTtcbiAgICAgICAgd2luZG93LnJlc29sdmVMb2NhbEZpbGVTeXN0ZW1VUkwoZmlsZVVSSSwgZnVuY3Rpb24gc3VjY2VzcyhmaWxlRW50cnkpIHtcblxuICAgICAgICAgICAgIC8vIERvIHNvbWV0aGluZyB3aXRoIHRoZSBGaWxlRW50cnkgb2JqZWN0LCBsaWtlIHdyaXRlIHRvIGl0LCB1cGxvYWQgaXQsIGV0Yy5cbiAgICAgICAgICAgICAvLyB3cml0ZUZpbGUoZmlsZUVudHJ5LCBpbWdVcmkpO1xuICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZ290IGZpbGU6IFwiICsgZmlsZUVudHJ5LnRvVVJMKCkpO1xuICAgICAgICAgICAgIHZhciBmdWxsRmlsZVBhdGggPSBmaWxlRW50cnkudG9VUkwoKTtcbiAgICAgICAgICAgICAvLyBkaXNwbGF5RmlsZURhdGEoZmlsZUVudHJ5Lm5hdGl2ZVVSTCwgXCJOYXRpdmUgVVJMXCIpO1xuICAgICAgICAgICAgIGlmKCRzY29wZS5pc1VzZXJQaG90bz09MSl7XG4gICAgICAgICAgICAgICAvL1VzZXJTZXJ2aWNlLmFkZF9waG90byhmaWxlVVJJKTtcbiAgICAgICAgICAgICAgICRzY29wZS5wcm9maWxlLnBpY3R1cmVfdXJsID0gZnVsbEZpbGVQYXRoO1xuICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgaWYoJHNjb3BlLmlzQ29tbWVudFBob3RvPT0xKXtcbiAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbW1lbnQuZmlsZSA9IGZ1bGxGaWxlUGF0aDtcbiAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0LmZpbGUgPSBmdWxsRmlsZVBhdGg7XG4gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5yZXBvcnQpO1xuICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAkc2NvcGUuaW1nVVJJID0gZnVsbEZpbGVQYXRoO1xuXG4gICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgIC8vIElmIGRvbid0IGdldCB0aGUgRmlsZUVudHJ5ICh3aGljaCBtYXkgaGFwcGVuIHdoZW4gdGVzdGluZ1xuICAgICAgICAgICAvLyBvbiBzb21lIGVtdWxhdG9ycyksIGNvcHkgdG8gYSBuZXcgRmlsZUVudHJ5LlxuICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgZW4gZmlsZSBlbnRyeTogXCIgKyBmaWxlVVJJKTtcbiAgICAgICAgICAgICBjcmVhdGVGaWxlRW50cnkoZmlsZVVSSSk7XG4gICAgICAgICB9KTtcblxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjcmVhdGVGaWxlRW50cnkoZmlsZVVSSSkge1xuICAgICAgICB3aW5kb3cucmVzb2x2ZUxvY2FsRmlsZVN5c3RlbVVSTChmaWxlVVJJLCBjb3B5RmlsZSwgZmFpbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIDVcbiAgICAgIGZ1bmN0aW9uIGNvcHlGaWxlKGZpbGVFbnRyeSkge1xuICAgICAgICB2YXIgbmFtZSA9IGZpbGVFbnRyeS5mdWxsUGF0aC5zdWJzdHIoZmlsZUVudHJ5LmZ1bGxQYXRoLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICAgICAgdmFyIG5ld05hbWUgPSBtYWtlaWQoKSArIG5hbWU7XG5cbiAgICAgICAgd2luZG93LnJlc29sdmVMb2NhbEZpbGVTeXN0ZW1VUkwoY29yZG92YS5maWxlLmRhdGFEaXJlY3RvcnksIGZ1bmN0aW9uKGZpbGVTeXN0ZW0yKSB7XG4gICAgICAgICAgICBmaWxlRW50cnkuY29weVRvKFxuICAgICAgICAgICAgICBmaWxlU3lzdGVtMixcbiAgICAgICAgICAgICAgbmV3TmFtZSxcbiAgICAgICAgICAgICAgb25Db3B5U3VjY2VzcyxcbiAgICAgICAgICAgICAgZmFpbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZhaWwpO1xuICAgICAgfVxuXG4gICAgICAvLyA2XG4gICAgICBmdW5jdGlvbiBvbkNvcHlTdWNjZXNzKGVudHJ5KSB7XG4gICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLmltYWdlID0gZW50cnkubmF0aXZlVVJMO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmFpbChlcnJvcikge1xuXG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG1ha2VpZCgpIHtcbiAgICAgICAgdmFyIHRleHQgPSBcIlwiO1xuICAgICAgICB2YXIgcG9zc2libGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCI7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgIH1cblxuICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUudXJsRm9ySW1hZ2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW1hZ2VVUkwgPSBcImh0dHA6Ly9wbGFjZWhvbGQuaXQvMjAweDIwMFwiO1xuICAgIGlmICgkc2NvcGUuaW1hZ2UpIHtcbiAgICAgIHZhciBuYW1lID0gJHNjb3BlLmltYWdlLnN1YnN0cigkc2NvcGUuaW1hZ2UubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICAgICAgaW1hZ2VVUkwgPSBjb3Jkb3ZhLmZpbGUuZGF0YURpcmVjdG9yeSArIG5hbWU7XG4gICAgfVxuICAgIC8vY29uc29sZS5sb2coXCJJbWFnZVVSTCA9IFwiICsgaW1hZ2VVUkwpO1xuICAgIHJldHVybiBpbWFnZVVSTDtcbiAgfTtcblxuXG4gICAgJHNjb3BlLmxpc3RfcmVwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAkc2NvcGUuc2V0X2FjdGl2ZV9vcHRpb24oJ2J1dHRvbi1saXN0LXJlcG9ydHMnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgIC8vU0hPVyBPTkxJTkUgUkVQT1JUUyAobG9naWMgaW5zaWRlIHRlbXBsYXRlIG1hcC5odG1sKVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlcG9ydC1saXN0LXNjcm9sbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vU0hPVyBPRkZMSU5FIFJFUE9SVFNcbiAgICAgICAgJHNjb3BlLmxpc3Rfb2ZmbGluZV9yZXBvcnRzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5saXN0X29mZmxpbmVfcmVwb3J0c19tZW51ID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgJHNjb3BlLmxpc3Rfb2ZmbGluZV9yZXBvcnRzKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmxpc3Rfb2ZmbGluZV9yZXBvcnRzID0gZnVuY3Rpb24oKXtcbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgICRzY29wZS5jbGVhbk9mZmxpbmVNYXJrZXJzKG1hcCk7XG4gICAgICAgIHZhciByZXBvcnRzID0gREJTZXJ2aWNlLmdldEFsbFJlcG9ydHMoKTtcbiAgICAgICAgdmFyIGRpdiA9ICc8aW9uLXNjcm9sbCBkaXJlY3Rpb249XCJ5XCIgaWQ9XCJvZmZsaW5lLXJlcG9ydC1saXN0LXNjcm9sbFwiPjxkaXYgY2xhc3M9XCJzY3JvbGxcIj48ZGl2IGlkPVwicmVwb3J0LWxpc3Qtb2ZmbGluZVwiPic7XG4gICAgICAgICRzY29wZS5vZmZsaW5lUmVwb3J0cyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAkc2NvcGUub2ZmbGluZVJlcG9ydHNNYXJrZXJzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHJlcG9ydHMudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgLy8gaGFuZGxlIHJlc3VsdFxuICAgICAgICAgIGRpdiA9IGRpdiArICc8aDM+PGI+UmVwb3J0ZXMgZ3VhcmRhZG9zIGVuIGVsIGRpc3Bvc2l0aXZvIHkgcGVuZGllbnRlcyBkZSBlbnbDrW86PC9iPjwvaDM+JztcbiAgICAgICAgICBpZihyZXN1bHQhPW51bGwgJiYgcmVzdWx0LnJvd3MubGVuZ3RoPjApe1xuICAgICAgICAgICAgcmVzdWx0LnJvd3MuZm9yRWFjaChmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVwb3J0ID0gcm93LmRvYztcbiAgICAgICAgICAgICAgICAkc2NvcGUub2ZmbGluZVJlcG9ydHNbcmVwb3J0Ll9pZF09cmVwb3J0O1xuICAgICAgICAgICAgICAgIGRpdiA9IGRpdiArICRzY29wZS5hZGRfb2ZmbGluZV9yZXBvcnRfZGl2KHJlcG9ydCk7XG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlck9wdGlvbnMgPSB7YWx0OiBcIlJlcG9ydGUgcGVuZGllbnRlIGRlIGVudsOtb1wifTtcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gTC5tYXJrZXIoW3JlcG9ydC5sYXQsIHJlcG9ydC5sb25dLG1hcmtlck9wdGlvbnMpLmFkZFRvKG1hcCk7XG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlckhUTUwgPSAnPGEgY2xhc3M9XCJ0ZXh0IHJlcG9ydC1saW5rXCIgbmctY2xpY2s9XCJlZGl0T2ZmbGluZVJlcG9ydChcXCcnICsgcmVwb3J0Ll9pZCArICdcXCcpXCI+PHA+JyArIHJlcG9ydC50aXRsZSArICc8L3A+PC9hPjxwIGNsYXNzPVwib2ZmbGluZS1wZW5kaW5nXCI+KHBlbmRpZW50ZSBkZSBlbnbDrW8pPC9wPic7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBpbGVkID0gJGNvbXBpbGUobWFya2VySFRNTCkoJHNjb3BlKTtcbiAgICAgICAgICAgICAgICBtYXJrZXIuYmluZFBvcHVwKGNvbXBpbGVkWzBdKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUub2ZmbGluZVJlcG9ydHNNYXJrZXJzW3JlcG9ydC5faWRdPW1hcmtlcjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGl2ID0gZGl2ICsgXCI8YnIvPjxoMz48YSBuZy1jbGljaz0nc2VuZF9vZmZsaW5lX3JlcG9ydHNfZnJvbV9tZW51KCknPi0gRW52aWFyIHRvZG9zIGxvcyByZXBvcnRlcyBwZW5kaWVudGVzPC9hPjwvaDM+XCI7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBkaXYgPSBkaXYgKyAnPGJyLz48aDM+Tm8gaGF5IG5pbmfDum4gcmVwb3J0ZSBwZW5kaWVudGUgZGUgZW52w61vLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGl2ID0gZGl2ICsgJzwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJzY3JvbGwtYmFyIHNjcm9sbC1iYXItdlwiPjxkaXYgY2xhc3M9XCJzY3JvbGwtYmFyLWluZGljYXRvciBzY3JvbGwtYmFyLWZhZGUtb3V0XCI+PC9kaXY+PC9kaXY+PC9pb24tc2Nyb2xsPic7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcjb2ZmbGluZS1yZXBvcnQtbGlzdC1jb250YWluZXInICkgKTtcbiAgICAgICAgICBlbGVtZW50Lmh0bWwoZGl2KTtcbiAgICAgICAgICB2YXIgY29tcGlsZWQgPSAkY29tcGlsZShlbGVtZW50LmNvbnRlbnRzKCkpKCRzY29wZSk7XG4gICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5yZXNpemUnKTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGRpdiA9IGRpdiArICc8YnIvPjxoMz5ObyBoYXkgbmluZ8O6biByZXBvcnRlIHBlbmRpZW50ZSBkZSBlbnbDrW8uPC9oMz4nO1xuICAgICAgICAgIGRpdiA9IGRpdiArICc8L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwic2Nyb2xsLWJhciBzY3JvbGwtYmFyLXZcIj48ZGl2IGNsYXNzPVwic2Nyb2xsLWJhci1pbmRpY2F0b3Igc2Nyb2xsLWJhci1mYWRlLW91dFwiPjwvZGl2PjwvZGl2PjwvaW9uLXNjcm9sbD4nO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvZmZsaW5lLXJlcG9ydC1saXN0LWNvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICAkc2NvcGUubGlzdF9yZXBvcnRzX2FuZF9nbyA9IGZ1bmN0aW9uKHJlcG9ydElkKSB7XG4gICAgICAkc2NvcGUuc2V0X2FjdGl2ZV9vcHRpb24oJ2J1dHRvbi1saXN0LXJlcG9ydHMnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgIC8vU0hPVyBPTkxJTkUgUkVQT1JUUyAobG9naWMgaW5zaWRlIHRlbXBsYXRlIG1hcC5odG1sKVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlcG9ydC1saXN0LXNjcm9sbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vU0hPVyBPRkZMSU5FIFJFUE9SVFNcbiAgICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgICBtYXAuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICAgICAgaWYobGF5ZXIuX3VybCE9XCJ1bmRlZmluZWRcIiAmJiBsYXllci5fdXJsIT1udWxsKXtcbiAgICAgICAgICAgICAgLy9JVCdzIFRIRSBNQVAgSVRTRUxGXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKGxheWVyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIHJlcG9ydHMgPSBEQlNlcnZpY2UuZ2V0QWxsUmVwb3J0cygpO1xuICAgICAgICAgIHZhciBkaXYgPSAnPGRpdiBpZD1cInJlcG9ydC1saXN0LW9mZmxpbmVcIj4nO1xuICAgICAgICAgICRzY29wZS5vZmZsaW5lUmVwb3J0cyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICRzY29wZS5vZmZsaW5lUmVwb3J0c01hcmtlcnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICByZXBvcnRzLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgLy8gaGFuZGxlIHJlc3VsdFxuICAgICAgICAgICAgZGl2ID0gZGl2ICsgJzxoMz48Yj5SZXBvcnRlcyBndWFyZGFkb3MgZW4gZWwgZGlzcG9zaXRpdm8geSBwZW5kaWVudGVzIGRlIGVudsOtbzo8L2I+PC9oMz4nO1xuICAgICAgICAgICAgaWYocmVzdWx0IT1udWxsICYmIHJlc3VsdC5yb3dzLmxlbmd0aD4wKXtcbiAgICAgICAgICAgICAgcmVzdWx0LnJvd3MuZm9yRWFjaChmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgICAgICAgICAgIHZhciByZXBvcnQgPSByb3cuZG9jO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLm9mZmxpbmVSZXBvcnRzW3JlcG9ydC5faWRdPXJlcG9ydDtcbiAgICAgICAgICAgICAgICAgIGRpdiA9IGRpdiArICRzY29wZS5hZGRfb2ZmbGluZV9yZXBvcnRfZGl2KHJlcG9ydCk7XG4gICAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gTC5tYXJrZXIoW3JlcG9ydC5sYXQsIHJlcG9ydC5sb25dKS5hZGRUbyhtYXApO1xuICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlckhUTUwgPSAnPGEgY2xhc3M9XCJ0ZXh0IHJlcG9ydC1saW5rXCIgbmctY2xpY2s9XCJlZGl0T2ZmbGluZVJlcG9ydChcXCcnICsgcmVwb3J0Ll9pZCArICdcXCcpXCI+PHA+JyArIHJlcG9ydC50aXRsZSArICc8L3A+PC9hPjxwIGNsYXNzPVwib2ZmbGluZS1wZW5kaW5nXCI+KHBlbmRpZW50ZSBkZSBlbnbDrW8pPC9wPic7XG4gICAgICAgICAgICAgICAgICB2YXIgY29tcGlsZWQgPSAkY29tcGlsZShtYXJrZXJIVE1MKSgkc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgbWFya2VyLmJpbmRQb3B1cChjb21waWxlZFswXSk7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUub2ZmbGluZVJlcG9ydHNNYXJrZXJzW3JlcG9ydC5faWRdPW1hcmtlcjtcbiAgICAgICAgICAgICAgICAgIGlmKHJlcG9ydC5faWQgPT0gcmVwb3J0SWQpe1xuICAgICAgICAgICAgICAgICAgICBnb1RvT2ZmbGluZVJlcG9ydChyZXBvcnRJZCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIGRpdiA9IGRpdiArICc8YnIvPjxoMz5ObyBoYXkgbmluZ8O6biByZXBvcnRlIHBlbmRpZW50ZSBkZSBlbnbDrW8uPC9oMz4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2ID0gZGl2ICsgJzwvZGl2Pic7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCggZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJyNvZmZsaW5lLXJlcG9ydC1saXN0LWNvbnRhaW5lcicgKSApO1xuICAgICAgICAgICAgZWxlbWVudC5odG1sKGRpdik7XG4gICAgICAgICAgICB2YXIgY29tcGlsZWQgPSAkY29tcGlsZShlbGVtZW50LmNvbnRlbnRzKCkpKCRzY29wZSk7XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgZGl2ID0gZGl2ICsgJzxici8+PGgzPk5vIGhheSBuaW5nw7puIHJlcG9ydGUgcGVuZGllbnRlIGRlIGVudsOtby48L2gzPic7XG4gICAgICAgICAgICBkaXYgPSBkaXYgKyAnPC9kaXY+JztcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9mZmxpbmUtcmVwb3J0LWxpc3QtY29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH0pO1xuXG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5nb1RvT2ZmbGluZVJlcG9ydCA9IGZ1bmN0aW9uKHJlcG9ydElkKXtcbiAgICAgIHZhciByZXBvcnQgPSAkc2NvcGUub2ZmbGluZVJlcG9ydHNbcmVwb3J0SWRdO1xuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgdmFyIGxhdCA9IHJlcG9ydC5sYXQ7XG4gICAgICAgIC8vTW92ZSBhIGxpdHRsZSB0aGUgbWFwIGNlbnRlciBiZWNhdXNlIHRoZSBtYXAgdmlldyBpcyBzbWFsbGVyIChyZXBvcnQgbGlzdCBpcyBkaXNwbGF5ZWQpXG4gICAgICAgIGxhdCA9IGxhdCAtIDAuMDAxO1xuICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sYXQgPSBsYXQ7XG4gICAgICAgICRzY29wZS5tYXAuY2VudGVyLmxuZyA9IHJlcG9ydC5sb247XG4gICAgICAgIG1hcC5zZXRWaWV3KG5ldyBMLkxhdExuZyhsYXQsIHJlcG9ydC5sb24pLCAxNik7XG4gICAgICAgICRzY29wZS5vZmZsaW5lUmVwb3J0c01hcmtlcnNbcmVwb3J0SWRdLm9wZW5Qb3B1cCgpO1xuICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICAkc2NvcGUuYWRkX29mZmxpbmVfcmVwb3J0X2RpdiA9IGZ1bmN0aW9uKHJlcG9ydCl7XG4gICAgICB2YXIgZGl2ID0gJzxkaXYgaWQ9XCJyZXBvcnQtY29udGFpbmVyLScgKyByZXBvcnQuX2lkICsgJ1wiIG5nLWNsaWNrPVwiZ29Ub09mZmxpbmVSZXBvcnQoXFwnJytyZXBvcnQuX2lkKydcXCcpXCIgY2xhc3M9XCJyZXBvcnQtaW5zaWRlLWxpc3Qtb2ZmbGluZVwiPic7XG4gICAgICBkaXYgPSBkaXYgKyAnPGRpdiBjbGFzcz1cInJlcG9ydC1pbi1saXN0LWljb24tb2ZmbGluZVwiPjwvZGl2Pic7XG4gICAgICBkaXYgPSBkaXYgKyAnPGRpdiBjbGFzcz1cInJlcG9ydC1pbi1saXN0LWluZm9cIj4nO1xuICAgICAgZGl2ID0gZGl2ICsgJzxwIGlkPVwicmVwb3J0LXRpdGxlLScrcmVwb3J0Ll9pZCsnXCIgY2xhc3M9XCJyZXBvcnQtaW4tbGlzdC10aXRsZVwiPicrcmVwb3J0LnRpdGxlKyc8L3A+JztcbiAgICAgIGRpdiA9IGRpdiArICc8cCBpZD1cInJlcG9ydC1jYXRlZ29yeS0nK3JlcG9ydC5faWQrJ1wiIGNsYXNzPVwicmVwb3J0LWluLWxpc3QtY2F0ZWdvcnlcIj4nK3JlcG9ydC5jYXRlZ29yeSsnPC9wPic7XG4gICAgICBkaXYgPSBkaXYgKyAnPHAgaWQ9XCJyZXBvcnQtZGF0ZS0nK3JlcG9ydC5faWQrJ1wiIGNsYXNzPVwicmVwb3J0LWluLWxpc3QtZGF0ZVwiPicrcmVwb3J0LmRhdGUrJzwvcD4nO1xuICAgICAgZGl2ID0gZGl2ICsgJzxwIGlkPVwicmVwb3J0LWRhdGUtJytyZXBvcnQuX2lkKydcIiBjbGFzcz1cInJlcG9ydC1pbi1saXN0LWFjdGlvbnNcIj4nKyc8YSBuZy1jbGljaz1cImVkaXRPZmZsaW5lUmVwb3J0KFxcJycrcmVwb3J0Ll9pZCsnXFwnKVwiPkVkaXRhcjwvYT4nKycmbmJzcDsgPGEgbmctY2xpY2s9XCJkZWxldGVPZmZsaW5lUmVwb3J0KFxcJycrcmVwb3J0Ll9pZCsnXFwnKVwiPkVsaW1pbmFyPC9hPjwvcD4nO1xuICAgICAgZGl2ID0gZGl2ICsgJzxkaXYgY2xhc3M9XCJyZXBvcnQtbWluaS1pY29uc1wiPic7XG4gICAgICBpZihyZXBvcnQuZmlsZSAhPSBudWxsICYmIHJlcG9ydC5maWxlICE9IFwidW5kZWZpbmVkXCIpe1xuICAgICAgICBkaXYgPSBkaXYgKyAnPGltZyBjbGFzcz1cInJlcG9ydC1taW5pLWljb25cIiBzcmM9XCIuL2ltZy9pY29uLWNhbWVyYS5wbmdcIiAvPic7XG4gICAgICB9XG4gICAgICBkaXYgPSBkaXYgKyAnPGltZyBjbGFzcz1cInJlcG9ydC1taW5pLWljb25cIiBzcmM9XCIuL2ltZy9pY29uLXRhZ3MucG5nXCIgLz4nO1xuICAgICAgLy9UT0RPOiBBZGQgYWN0aW9ucyBkaXYgd2l0aCBcIkVkaXRcIiwgXCJEZWxldGVcIlxuICAgICAgZGl2ID0gZGl2ICsgJzwvZGl2PjwvZGl2PjwvZGl2Pic7XG4gICAgICByZXR1cm4gZGl2O1xuICAgIH1cblxuICAgICRzY29wZS5oZWxwID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgJHNjb3BlLnNldF9hY3RpdmVfb3B0aW9uKCdidXR0b24tZmFxJyk7XG4gICAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgICBGYXFTZXJ2aWNlLmFsbCgpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAgICRzY29wZS5mYXEgPSAkc2NlLnRydXN0QXNIdG1sKHJlc3BvbnNlKTtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2ZhcS5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcjZmFxLWNvbnRhaW5lci1kaXYnICkgKTtcbiAgICAgICAgICAgICAgICB2YXIgY29tcGlsZWQgPSAkY29tcGlsZShlbGVtZW50LmNvbnRlbnRzKCkpKCRzY29wZSk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgIH1lbHNle1xuICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSB2ZXIgbGEgYXl1ZGEgZGViZSBlc3RhciBjb25lY3RhZG8gYSBpbnRlcm5ldFwiKTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgICRzY29wZS5zY3JvbGxNZSA9IGZ1bmN0aW9uKGFuY2hvcl9pZCl7XG4gICAgICAkbG9jYXRpb24uaGFzaChhbmNob3JfaWQpO1xuICAgICAgdmFyIGhhbmRsZSAgPSAkaW9uaWNTY3JvbGxEZWxlZ2F0ZS4kZ2V0QnlIYW5kbGUoJ2NvbnRlbnQnKTtcbiAgICAgIGhhbmRsZS5hbmNob3JTY3JvbGwoKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuY2xvc2VfZmFxX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2V0X2FjdGl2ZV9vcHRpb24gPSBmdW5jdGlvbihidXR0b25pZCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b24tcmVwb3J0XCIpLmNsYXNzTmFtZSA9IFwib3B0aW9uLWluYWN0aXZlXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbi1saXN0LXJlcG9ydHNcIikuY2xhc3NOYW1lID0gXCJvcHRpb24taW5hY3RpdmVcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uLWZhcVwiKS5jbGFzc05hbWUgPSBcIm9wdGlvbi1pbmFjdGl2ZVwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b24tZmluZC1tZVwiKS5jbGFzc05hbWUgPSBcIm9wdGlvbi1pbmFjdGl2ZVwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYnV0dG9uaWQpLmNsYXNzTmFtZSA9IFwib3B0aW9uLWFjdGl2ZVwiO1xuICAgIH1cblxuICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cyA9IGZ1bmN0aW9uKCl7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlcG9ydC1saXN0LXNjcm9sbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9mZmxpbmUtcmVwb3J0LWxpc3QtY29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXBfY3Jvc3NoYWlyJykuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcF9jcm9zc2hhaXJfYnV0dG9uJykuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgICRzY29wZS52aWV3UmVwb3J0RGV0YWlscyA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgICRzY29wZS5yZXBvcnRfZGV0YWlsX2lkID0gaWQ7XG4gICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgIFJlcG9ydFNlcnZpY2UuZ2V0QnlJZChpZCkudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgJHNjb3BlLnJlcG9ydF9kZXRhaWwgPSAkc2NlLnRydXN0QXNIdG1sKHJlc3AuZGF0YS5yZXBsYWNlKFwib3ZlcmZsb3c6YXV0bztcIixcIlwiKS5yZXBsYWNlKCdzcmM9XCIvJywnc3JjPVwiJytDb25maWdTZXJ2aWNlLmJhc2VVUkwpLnJlcGxhY2UoJ3VybCgvJywndXJsKCcrQ29uZmlnU2VydmljZS5iYXNlVVJMK0NvbmZpZ1NlcnZpY2UuYmFzZUNvYnJhbmQrXCIvXCIpLnJlcGxhY2UoJ3VybCgvJywndXJsKCcrQ29uZmlnU2VydmljZS5iYXNlVVJMK0NvbmZpZ1NlcnZpY2UuYmFzZUNvYnJhbmQrXCIvXCIpKTtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICRzY29wZS5jb21tZW50ID0ge1xuICAgICAgICAgICAgc3VibWl0X3VwZGF0ZTogMSxcbiAgICAgICAgICAgIGlkOiAkc2NvcGUucmVwb3J0X2RldGFpbF9pZCxcbiAgICAgICAgICAgIG1heV9zaG93X25hbWU6IHRydWUsXG4gICAgICAgICAgICBhZGRfYWxlcnQ6IHRydWUsXG4gICAgICAgICAgICBmaXhlZDogZmFsc2UsXG4gICAgICAgICAgICB1cGRhdGU6IFwiXCIsXG4gICAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgICAgZm9ybV9yem52eTogbnVsbCxcbiAgICAgICAgICAgIHBob3RvOiBudWxsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvcmVwb3J0LWRldGFpbC5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIC8vaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnI3JlcG9ydC1kZXRhaWwtY29udGFpbmVyLWRpdicgKSApO1xuICAgICAgICAgICAgICAgICAgdmFyIGNvbXBpbGVkID0gJGNvbXBpbGUoZWxlbWVudC5jb250ZW50cygpKSgkc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgaWYoVXNlclNlcnZpY2UuaXNMb2dnZWQoKSl7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tbWVudF9jb250YWluZXJcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jb21tZW50Lm5hbWUgPSBVc2VyU2VydmljZS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY29tbWVudC5mb3JtX3J6bnZ5ID0gVXNlclNlcnZpY2UuZW1haWw7XG4gICAgICAgICAgICAgICAgICAgIGlmKFVzZXJTZXJ2aWNlLmZyb21fYm9keSE9bnVsbCl7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbiA9ICRzY29wZS5mZWF0dXJlUmVwb3J0c1tpZF0uZmVhdHVyZS5nZW9tZXRyeS5jb29yZGluYXRlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0ID0gJHNjb3BlLmZlYXR1cmVSZXBvcnRzW2lkXS5mZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdO1xuICAgICAgICAgICAgICAgICAgICAgIFBNQlNlcnZpY2UuZ2V0QXJlYXMobG9uLGxhdCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb25PYmplY3QgPSByZXNwLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNCb2R5QWRtaW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4ganNvbk9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJlYUlkID0gcHJvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZWFQcm9wcyA9IGpzb25PYmplY3RbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGFyZWFQcm9wcy50eXBlPT1cIkNJVVwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihVc2VyU2VydmljZS5mcm9tX2JvZHk9PWFyZWFJZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNCb2R5QWRtaW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbW1lbnQubmV3X2NhdGVnb3J5ID0gJHNjb3BlLmZlYXR1cmVSZXBvcnRzW2lkXS5mZWF0dXJlLnByb3BlcnRpZXMuY2F0ZWdvcnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY29tbWVudC5zdGF0ZSA9ICRzY29wZS5mZWF0dXJlUmVwb3J0c1tpZF0uZmVhdHVyZS5wcm9wZXJ0aWVzLnN0YXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2F0ZWdvcmllc1NlcnZpY2UuYWxsRnJvbUJvZHlBcmVhKGFyZWFJZCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFyZWFPYmplY3QgPSByZXNwLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxDYXRlZ29yaWVzRnJvbUJveUFyZWEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggaW4ganNvbkFyZWFPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsQ2F0ZWdvcmllc0Zyb21Cb3lBcmVhLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdfY2F0ZWdvcnlfc2VsZWN0XCIpLnZhbHVlPSRzY29wZS5jb21tZW50Lm5ld19jYXRlZ29yeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzQm9keUFkbWluID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21tZW50X2NvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbW1lbnRfY29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgIEVycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAoXCJFUlJPUiBBTCBDQVJHQVIgREFUT1MgREVMIFJFUE9SVEU6IFwiICsgcmVzcC5zdGF0dXNUZXh0KVxuICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSB2ZXIgbG9zIGRldGFsbGVzIGRlbCByZXBvcnRlLCBkZWJlIGVzdGFyIGNvbmVjdGFkbyBhIGludGVybmV0LlwiKTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgICRzY29wZS5jbG9zZV9yZXBvcnRfZGV0YWlsX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICRzY29wZS5yZXBvcnRfZGV0YWlsX2lkID0gbnVsbDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENlbnRlciBtYXAgb24gdXNlcidzIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgKi9cbiAgICAkc2NvcGUubG9jYXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgLmdldEN1cnJlbnRQb3NpdGlvbigpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubGF0ID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLmxuZyA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG4gICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIuem9vbSA9IDE1O1xuXG4gICAgICAgICAgJHNjb3BlLm1hcC5tYXJrZXJzLm5vdyA9IHtcbiAgICAgICAgICAgIGxhdDogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLFxuICAgICAgICAgICAgbG5nOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJZb3UgQXJlIEhlcmVcIixcbiAgICAgICAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgLy8gZXJyb3JcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiTG9jYXRpb24gZXJyb3IhXCIpO1xuICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG5cbiAgICAvKiRzY29wZS5nZXRSZXBvcnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIHZhciBiYm94ID0gbWFwLmdldEJvdW5kcygpO1xuICAgICAgICAvL0NvbnNvbGUubG9nKGJib3gpO1xuXG4gICAgICAgIFBNQlNlcnZpY2UuYXJvdW5kKGJib3gpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInBpbiBcIiArIGkgKyBcIj1cIiArIGRhdGFbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9OyovXG5cbiAgICAkc2NvcGUuYWRkTWFwQ29udHJvbHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcF9jcm9zc2hhaXInKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcF9jcm9zc2hhaXJfYnV0dG9uJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgIH07XG5cbiAgICAkc2NvcGUuc3RhcnRSZXBvcnRGcm9tQ3Jvc3NoYWlycyA9IGZ1bmN0aW9uKCl7XG4gICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB2YXIgbGF0bG9uID0gbWFwLmdldENlbnRlcigpO1xuICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNhdmVfbmV3X3JlcG9ydF9wb3NpdGlvbihsYXRsb24ubGF0LGxhdGxvbi5sbmcpO1xuICAgICAgICAkc2NvcGUubmV3X3JlcG9ydCgxKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhsYXRsb24pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmdldE9ubHlDYXRlZ29yeUljb25VUkwgPSBmdW5jdGlvbih1cmwpe1xuICAgICAgdmFyIG5ld191cmwgPSB1cmwucmVwbGFjZShcIi1wcm9jZXNvXCIsXCJcIik7XG4gICAgICBuZXdfdXJsID0gbmV3X3VybC5yZXBsYWNlKFwiLXJlc3VlbHRvXCIsXCJcIik7XG4gICAgICByZXR1cm4gbmV3X3VybDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmhpZGVPZmZTY3JlZW5QaW5zID0gZnVuY3Rpb24oKSB7XG4gICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB2YXIgbWFwQm91bmRzID0gbWFwLmdldEJvdW5kcygpO1xuICAgICAgICB2YXIga2V5c0FycmF5ID0gT2JqZWN0LmtleXMoJHNjb3BlLnJlcG9ydHNCeVN0YXRlKTtcbiAgICAgICAgJHNjb3BlLnJlcG9ydHNWaXNpYmxlID0gW107XG4gICAgICAgIGtleXNBcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICRzY29wZS5yZXBvcnRzQnlTdGF0ZVtpdGVtXS5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyLGtleSl7XG4gICAgICAgICAgICB2YXIgc2hvdWxkQmVWaXNpYmxlID0gbWFwQm91bmRzLmNvbnRhaW5zKGxheWVyLmdldExhdExuZygpKTtcbiAgICAgICAgICAgIGlmICghc2hvdWxkQmVWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKGxheWVyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkQmVWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgLyppZigkc2NvcGUuc2VsZWN0ZWRfcmVzaWR1byl7XG4gICAgICAgICAgICAgICAgICB2YXIgcHJvZ3JhbWFzX3N0ciA9ICRzY29wZS5zZWxlY3RlZF9yZXNpZHVvLnByb3BlcnRpZXMuUHJvZ3JhbWFzO1xuICAgICAgICAgICAgICAgICAgdmFyIHByb2dyYW1hc0lkcyA9IHByb2dyYW1hc19zdHIuc3BsaXQoXCIuXCIpO1xuICAgICAgICAgICAgICAgICAgdmFyIGlkID0gbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLlByb2dyYW1hU3ViUHJvZ0lEO1xuICAgICAgICAgICAgICAgICAgaWYocHJvZ3JhbWFzSWRzLmluZGV4T2YoaWQpPDApe1xuICAgICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5hZGRMYXllcihsYXllcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBtYXAuYWRkTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgICAgIG1hcC5hZGRMYXllcihsYXllcik7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydHNWaXNpYmxlLnB1c2gobGF5ZXIuZmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUucmVtb3ZlQWxsUGlucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgdmFyIG1hcEJvdW5kcyA9IG1hcC5nZXRCb3VuZHMoKTtcbiAgICAgICAgdmFyIGtleXNBcnJheSA9IE9iamVjdC5rZXlzKCRzY29wZS5yZXBvcnRzQnlTdGF0ZSk7XG4gICAgICAgICRzY29wZS5yZXBvcnRzVmlzaWJsZSA9IFtdO1xuICAgICAgICBrZXlzQXJyYXkuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgICAkc2NvcGUucmVwb3J0c0J5U3RhdGVbaXRlbV0uZm9yRWFjaChmdW5jdGlvbihsYXllcixrZXkpe1xuICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKGxheWVyKTtcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5sb2FkUGluc0xheWVyID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpKXtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUucmVtb3ZlQWxsUGlucygpO1xuICAgICAgICAkc2NvcGUucmVwb3J0c0J5U3RhdGUgPSB7fTtcbiAgICAgICAgUmVwb3J0U2VydmljZS5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIHZhciBwaW5zQXJyYXkgPSByZXNwb25zZS5kYXRhLmZlYXR1cmVzO1xuICAgICAgICAgICRzY29wZS5yZXBvcnRzID0gcmVzcG9uc2UuZGF0YS5mZWF0dXJlcztcbiAgICAgICAgICBwaW5zQXJyYXkuZm9yRWFjaChmdW5jdGlvbihmZWF0dXJlKXtcbiAgICAgICAgICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgdmFyIGxvbiA9IGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF07XG4gICAgICAgICAgICAgIHZhciBsYXQgPSBmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdO1xuICAgICAgICAgICAgICB2YXIgaWNvbiA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIGZlYXR1cmUucHJvcGVydGllcy5waW5fdXJsO1xuICAgICAgICAgICAgICB2YXIgbWFya2VySWNvbiA9IEwuaWNvbih7XG4gICAgICAgICAgICAgICAgaWNvblVybDogaWNvbixcbiAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzI5LCAzNF0sXG4gICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzE0LCAzNF0sXG4gICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFsxNCwgLThdXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB2YXIgbGF5ZXIgPSBMLm1hcmtlcihbbGF0LCBsb25dLCB7aWNvbjogbWFya2VySWNvbn0pO1xuICAgICAgICAgICAgICBsYXllci5mZWF0dXJlID0gZmVhdHVyZTtcbiAgICAgICAgICAgICAgJHNjb3BlLmZlYXR1cmVSZXBvcnRzW2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5pZF0gPSBsYXllcjtcbiAgICAgICAgICAgICAgaWYoISRzY29wZS5yZXBvcnRzQnlTdGF0ZVtcInN0YXRlLVwiICsgZmVhdHVyZS5wcm9wZXJ0aWVzLnN0YXRlXSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydHNCeVN0YXRlW1wic3RhdGUtXCIgKyBmZWF0dXJlLnByb3BlcnRpZXMuc3RhdGVdPVtdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICRzY29wZS5yZXBvcnRzQnlTdGF0ZVtcInN0YXRlLVwiICsgZmVhdHVyZS5wcm9wZXJ0aWVzLnN0YXRlXS5wdXNoKGxheWVyKTtcbiAgICAgICAgICAgICAgaWYgKGZlYXR1cmUucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIHJlcG9ydElkID0gZmVhdHVyZS5wcm9wZXJ0aWVzLmlkO1xuICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uID0gZmVhdHVyZS5wcm9wZXJ0aWVzLnRpdGxlO1xuICAgICAgICAgICAgICAgIGh0bWwgPSAnPGEgY2xhc3M9XCJ0ZXh0IHJlcG9ydC1saW5rXCIgbmctY2xpY2s9XCJ2aWV3UmVwb3J0RGV0YWlscygnICsgcmVwb3J0SWQgKyAnKVwiPjxwPicgKyBkZXNjcmlwY2lvbiArICc8L3A+PC9hPic7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBpbGVkID0gJGNvbXBpbGUoaHRtbCkoJHNjb3BlKTtcbiAgICAgICAgICAgICAgICBsYXllci5iaW5kUG9wdXAoY29tcGlsZWRbMF0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAkc2NvcGUuaGlkZU9mZlNjcmVlblBpbnMoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAkc2NvcGUuYWRkUmVwb3J0c0xheWVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZigkc2NvcGUuanNvbkxheWVyIT1udWxsKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkw7XG4gICAgICAgIGJ1aWxkUG9wdXAgPSBmdW5jdGlvbihkYXRhLCBtYXJrZXIpIHtcbiAgICAgICAgICB2YXIgcmVwb3J0SWQgPSBkYXRhWzNdLFxuICAgICAgICAgICAgZGVzY3JpcGNpb24gPSBkYXRhWzRdO1xuXG4gICAgICAgICAgdmFyIGh0bWwgPSAnPGEgY2xhc3M9XCJ0ZXh0IHJlcG9ydC1saW5rXCIgbmctY2xpY2s9XCJ2aWV3UmVwb3J0RGV0YWlscygnICsgcmVwb3J0SWQgKyAnKVwiPjxwPicgKyBkZXNjcmlwY2lvbiArICc8L3A+PC9hPic7XG4gICAgICAgICAgcmV0dXJuIGh0bWw7XG5cblxuICAgICAgICB9LFxuXG4gICAgICAgIG9uRWFjaEZlYXR1cmUgPSBmdW5jdGlvbihmZWF0dXJlLCBsYXllcikge1xuICAgICAgICAgIC8vIGRvZXMgdGhpcyBmZWF0dXJlIGhhdmUgYSBwcm9wZXJ0eSBuYW1lZCBwb3B1cENvbnRlbnQ/XG4gICAgICAgICAgdmFyIGh0bWwsIHJlcG9ydElkLCBkZXNjcmlwY2lvbjtcbiAgICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICByZXBvcnRJZCA9IGZlYXR1cmUucHJvcGVydGllcy5pZDtcbiAgICAgICAgICAgIGRlc2NyaXBjaW9uID0gZmVhdHVyZS5wcm9wZXJ0aWVzLnRpdGxlO1xuICAgICAgICAgICAgaHRtbCA9ICc8YSBjbGFzcz1cInRleHQgcmVwb3J0LWxpbmtcIiBuZy1jbGljaz1cInZpZXdSZXBvcnREZXRhaWxzKCcgKyByZXBvcnRJZCArICcpXCI+PHA+JyArIGRlc2NyaXBjaW9uICsgJzwvcD48L2E+JztcbiAgICAgICAgICAgIHZhciBjb21waWxlZCA9ICRjb21waWxlKGh0bWwpKCRzY29wZSk7XG4gICAgICAgICAgICBsYXllci5iaW5kUG9wdXAoY29tcGlsZWRbMF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBsID0gbmV3IEwuTGF5ZXJKU09OKHtcbiAgICAgICAgICB1cmw6IGJhc2VVUkwgKyBcIi9hamF4X2dlbz9iYm94PXtiYm94fVwiIC8qXCJhamF4X2dlbz9iYm94PXtiYm94fVwiKi8gLFxuICAgICAgICAgIGxvY0FzR2VvSlNPTjogdHJ1ZSAvKmxvY0FzQXJyYXk6dHJ1ZSovLFxuICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IG9uRWFjaEZlYXR1cmVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLmpzb25MYXllciA9IGw7XG5cbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIG1hcC5hZGRMYXllcihsKTtcbiAgICAgIH0pO1xuXG5cbiAgICAgIGwub24oJ2RhdGFsb2FkZWQnLCBmdW5jdGlvbihlKSB7IC8vc2hvdyBsb2FkZWQgZGF0YSFcbiAgICAgICAgJHNjb3BlLnJlcG9ydHMgPSBlLmRhdGEuZmVhdHVyZXM7XG4gICAgICB9KTtcblxuXG4gICAgICBsLm9uKCdsYXllcmFkZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5sYXllci5lYWNoTGF5ZXIoZnVuY3Rpb24oX2xheWVyKSB7XG4gICAgICAgICAgdmFyIG1hcmtlckljb24gPSBMLmljb24oe1xuICAgICAgICAgICAgaWNvblVybDogYmFzZVVSTCArIFwiL1wiICsgX2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5waW5fdXJsLFxuICAgICAgICAgICAgaWNvblNpemU6IFsyOSwgMzRdLFxuICAgICAgICAgICAgaWNvbkFuY2hvcjogWzE0LCAzNF0sXG4gICAgICAgICAgICBwb3B1cEFuY2hvcjogWzAsIC04XVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIF9sYXllci5zZXRJY29uKG1hcmtlckljb24pO1xuICAgICAgICAgIGlmICgkc2NvcGUuZmVhdHVyZVJlcG9ydHNbX2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5pZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgJHNjb3BlLmZlYXR1cmVSZXBvcnRzW19sYXllci5mZWF0dXJlLnByb3BlcnRpZXMuaWRdID0gX2xheWVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgICRzY29wZS5nb1RvUmVwb3J0ID0gZnVuY3Rpb24ocmVwb3J0KSB7XG5cbiAgICAgIHZhciByZXBvcnRfZGl2c19hY3RpdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicmVwb3J0LWluc2lkZS1saXN0LWFjdGl2ZVwiKTtcbiAgICAgIGlmKHJlcG9ydF9kaXZzX2FjdGl2ZS5sZW5ndGggPiAwKXtcbiAgICAgICAgcmVwb3J0X2RpdnNfYWN0aXZlWzBdLmNsYXNzTmFtZSA9IFwicmVwb3J0LWluc2lkZS1saXN0XCI7XG4gICAgICB9XG4gICAgICB2YXIgcmVwb3J0X2RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVwb3J0LWNvbnRhaW5lci1cIityZXBvcnQucHJvcGVydGllcy5pZCk7XG4gICAgICByZXBvcnRfZGl2LmNsYXNzTmFtZSA9IFwicmVwb3J0LWluc2lkZS1saXN0LWFjdGl2ZVwiO1xuXG5cbiAgICAgIHZhciBsYXllciA9ICRzY29wZS5mZWF0dXJlUmVwb3J0c1tyZXBvcnQucHJvcGVydGllcy5pZF07XG4gICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB2YXIgY29vcmRzID0gbGF5ZXIuZ2V0TGF0TG5nKCk7XG4gICAgICAgIHZhciBsYXQgPSBjb29yZHMubGF0O1xuICAgICAgICAvL01vdmUgYSBsaXR0bGUgdGhlIG1hcCBjZW50ZXIgYmVjYXVzZSB0aGUgbWFwIHZpZXcgaXMgc21hbGxlciAocmVwb3J0IGxpc3QgaXMgZGlzcGxheWVkKVxuICAgICAgICBsYXQgPSBsYXQgLSAwLjAwMDY7XG4gICAgICAgIG1hcC5zZXRWaWV3KG5ldyBMLkxhdExuZyhsYXQsIGNvb3Jkcy5sbmcpLCAxOCk7XG4gICAgICAgIGxheWVyLm9wZW5Qb3B1cCgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIFN1Z2dlc3Rpb25cbiAgICAkc2NvcGUubW9kZWwgPSBbXTtcbiAgICAkc2NvcGUuZXh0ZXJuYWxNb2RlbCA9IFtdO1xuICAgICRzY29wZS5zZWxlY3RlZEl0ZW1zID0gW107XG4gICAgJHNjb3BlLnByZXNlbGVjdGVkU2VhcmNoSXRlbXMgPSBbXTtcbiAgICAkc2NvcGUuY2xpY2tlZFZhbHVlTW9kZWwgPSBcIlwiO1xuICAgICRzY29wZS5yZW1vdmVkVmFsdWVNb2RlbCA9IFwiXCI7XG5cbiAgICAkc2NvcGUuZ2V0VGVzdEl0ZW1zID0gZnVuY3Rpb24ocXVlcnkpIHtcbiAgICAgIHZhciB0b1JldHVybiA9IFtdLFxuICAgICAgICBvYmo7XG4gICAgICBpZiAocXVlcnkpIHtcbiAgICAgICAgb2JqID0ge1xuICAgICAgICAgIGl0ZW1zOiBbe1xuICAgICAgICAgICAgaWQ6IFwiMVwiLFxuICAgICAgICAgICAgbmFtZTogcXVlcnkgKyBcIjFcIixcbiAgICAgICAgICAgIHZpZXc6IFwidmlldzogXCIgKyBxdWVyeSArIFwiMVwiXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgaWQ6IFwiMlwiLFxuICAgICAgICAgICAgbmFtZTogcXVlcnkgKyBcIjJcIixcbiAgICAgICAgICAgIHZpZXc6IFwidmlldzogXCIgKyBxdWVyeSArIFwiMlwiXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgaWQ6IFwiM1wiLFxuICAgICAgICAgICAgbmFtZTogcXVlcnkgKyBcIjNcIixcbiAgICAgICAgICAgIHZpZXc6IFwidmlldzogXCIgKyBxdWVyeSArIFwiM1wiXG4gICAgICAgICAgfV1cbiAgICAgICAgfTtcbiAgICAgICAgdG9SZXR1cm4gPSBvYmouaXRlbXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9SZXR1cm47XG4gICAgfTtcblxuXG4gICAgJHNjb3BlLml0ZW1zUmVtb3ZlZCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkc2NvcGUucmVtb3ZlZFZhbHVlTW9kZWwgPSBjYWxsYmFjaztcbiAgICB9O1xuXG4gICAgJHNjb3BlLnVzZXJfb3B0aW9ucyA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIik7XG4gICAgICBpZihtZW51LnN0eWxlLmRpc3BsYXk9PVwiYmxvY2tcIil7XG4gICAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBuYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgICAgaWYobmFtZT09bnVsbCl7XG4gICAgICAgICAgLy9ObyBlc3RhIGxvZ3VlYWRvXG4gICAgICAgICAgJHNjb3BlLnNob3dfYW5vbnltb3VzX21lbnUoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy9Fc3TDoSBsb2d1ZWFkb1xuICAgICAgICAgICRzY29wZS5zaG93X3VzZXJfbWVudSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfYW5vbnltb3VzX21lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpO1xuICAgICAgdmFyIGh0bWwgPSBcIjxkaXYgaWQ9J2F1dGhfb3B0aW9ucyc+PGRpdiBjbGFzcz0nbm9uYXV0aC1saW5rJyBuZy1jbGljaz0nc2hvd19sb2dpbl9tb2RhbCgpJz5JbmljaWFyIHNlc2nDs248L2Rpdj5cIjtcbiAgICAgIGh0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSdub25hdXRoLWxpbmsnIG5nLWNsaWNrPSdzaG93X3NpZ25fdXBfbW9kYWwoKSc+UmVnaXN0cmFyc2U8L2Rpdj48L2Rpdj5cIjtcbiAgICAgIG1lbnUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICRjb21waWxlKG1lbnUpKCRzY29wZSk7IC8vPC0tLS0gcmVjb21waWxhdGlvblxuICAgICAgbWVudS5zdHlsZS5oZWlnaHQgPSAnMTIwcHgnO1xuICAgICAgbWVudS5zdHlsZS53aWR0aCA9ICcxNTBweCc7XG4gICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfdXNlcl9tZW51ID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKTtcbiAgICAgIHZhciBodG1sID0gVXNlclNlcnZpY2UubmFtZSArIFwiPGRpdiBpZD0nYXV0aF9vcHRpb25zJz48ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nc2hvd19lZGl0X3Byb2ZpbGVfbW9kYWwoKSc+TWkgcGVyZmlsPC9kaXY+XCI7XG4gICAgICBodG1sID0gaHRtbCArIFwiPGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J2NoYW5nZV9wYXNzd29yZCgpJz5DYW1iaWFyIGNvbnRyYXNlw7FhPC9kaXY+XCI7XG4gICAgICBodG1sID0gaHRtbCArIFwiPGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J2xpc3Rfb2ZmbGluZV9yZXBvcnRzX21lbnUoKSc+UmVwb3J0ZXMgcGVuZGllbnRlczwvZGl2PlwiO1xuICAgICAgaHRtbCA9IGh0bWwgKyBcIjxkaXYgY2xhc3M9J3VzZXItbG9nZ2VkLWxpbmsnIG5nLWNsaWNrPSdzaWduX291dCgpJz5DZXJyYXIgc2VzacOzbjwvZGl2PjwvZGl2PlwiO1xuICAgICAgbWVudS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgJGNvbXBpbGUobWVudSkoJHNjb3BlKTsgLy88LS0tLSByZWNvbXBpbGF0aW9uXG4gICAgICBtZW51LnN0eWxlLmhlaWdodCA9ICcyMjBweCc7XG4gICAgICBtZW51LnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmZvcmdvdF9wYXNzd29yZCA9IGZ1bmN0aW9uKCl7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAkc2NvcGUubm9uYXV0aCA9IG5ldyBBcnJheSgpO1xuICAgICAgJHNjb3BlLm5vbmF1dGguZW1haWwgPSBcIlwiO1xuICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvZm9yZ290X3Bhc3N3b3JkLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuZm9yZ290X3Bhc3N3b3JkX29rID0gZnVuY3Rpb24oKXtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJFbWFpbFwiLFwiZW1haWxcIiwkc2NvcGUubm9uYXV0aC5lbWFpbCkpO1xuICAgICAgaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkcyhmaWVsZHMsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgQXV0aFNlcnZpY2UucGFzc3dvcmRfcmVjb3ZlcnkoJHNjb3BlLm5vbmF1dGguZW1haWwpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgIGlmKHJlc3AuZGF0YS5tZXNzYWdlPT1cIkVtYWlsIHN1Y2Nlc3NmdWx5IHNlbmRlZFwiKXtcbiAgICAgICAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiSW5zdHJ1Y2Npb25lcyBlbnZpYWRhcyBjb24gw6l4aXRvXCIsXCJTZSBoYW4gZW52aWFkbyBpbnRydWNjaW9uZXMgcGFyYSByZXN0YWJsZWNlciB0dSBjb250cmFzZcOxYSBhbCBjb3JyZW8gcHJvcG9yY2lvbmFkbyBhbnRlcmlvcm1lbnRlLlwiKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHJlc3AuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUuY2hhbmdlX3Bhc3N3b3JkID0gZnVuY3Rpb24oKXtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICRzY29wZS5ub25hdXRoID0gbmV3IEFycmF5KCk7XG4gICAgICAkc2NvcGUubm9uYXV0aC5vbGRQYXNzd29yZCA9IFwiXCI7XG4gICAgICAkc2NvcGUubm9uYXV0aC5uZXdQYXNzd29yZCA9IFwiXCI7XG4gICAgICAkc2NvcGUubm9uYXV0aC5jb25maXJtUGFzc3dvcmQgPSBcIlwiO1xuICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvY2hhbmdlX3Bhc3N3b3JkLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuY2hhbmdlX3Bhc3N3b3JkX29rID0gZnVuY3Rpb24oKXtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgIC8vZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkVtYWlsXCIsXCJlbWFpbFwiLCRzY29wZS5ub25hdXRoLmVtYWlsKSk7XG4gICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29udHJhc2XDsWEgYWN0dWFsXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5vbmF1dGgub2xkUGFzc3dvcmQpKTtcbiAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJOdWV2YSBjb250cmFzZcOxYVwiLFwibm90TnVsbFwiLCRzY29wZS5ub25hdXRoLm5ld1Bhc3N3b3JkKSk7XG4gICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29uZmlybWFyIG51ZXZhIGNvbnRyYXNlw7FhXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5vbmF1dGguY29uZmlybVBhc3N3b3JkKSk7XG4gICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5X3dpdGhfdHdvRmllbGRzKFwiTnVldmEgY29udHJhc2XDsWEgeSBDb25maXJtYXIgY29udHJhc2XDsWFcIixcImVxdWFsc1RvXCIsJHNjb3BlLm5vbmF1dGgubmV3UGFzc3dvcmQsJHNjb3BlLm5vbmF1dGguY29uZmlybVBhc3N3b3JkKSk7XG4gICAgICBpZihFcnJvclNlcnZpY2UuY2hlY2tfZmllbGRzKGZpZWxkcyxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgIEF1dGhTZXJ2aWNlLnBhc3N3b3JkX2NoYW5nZShVc2VyU2VydmljZS5lbWFpbCwkc2NvcGUubm9uYXV0aC5vbGRQYXNzd29yZCwkc2NvcGUubm9uYXV0aC5uZXdQYXNzd29yZCwkc2NvcGUubm9uYXV0aC5jb25maXJtUGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgIGlmKHJlc3AuZGF0YS5tZXNzYWdlPT1cIlBhc3N3b3JkIHN1Y2Nlc3NmdWx5IGNoYW5nZWRcIil7XG4gICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShVc2VyU2VydmljZS5uYW1lLCBVc2VyU2VydmljZS5lbWFpbCwgJHNjb3BlLm5vbmF1dGgubmV3UGFzc3dvcmQsIFVzZXJTZXJ2aWNlLmlkZW50aXR5X2RvY3VtZW50LCBVc2VyU2VydmljZS5waG9uZSwgVXNlclNlcnZpY2UucGljdHVyZV91cmwpO1xuICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKFVzZXJTZXJ2aWNlLm5hbWUsVXNlclNlcnZpY2UuZW1haWwsVXNlclNlcnZpY2UucGFzc3dvcmQsVXNlclNlcnZpY2UuaWRlbnRpdHlfZG9jdW1lbnQsVXNlclNlcnZpY2UucGhvbmUsVXNlclNlcnZpY2UucGljdHVyZV91cmwpO1xuICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLFwiU2UgaGEgcHJvZHVjaWRvIHVuIGVycm9yIGFsIGNhbWJpYXIgc3UgY2xhdmUsIHBvciBmYXZvciBpbnRlbnRlIG3DoXMgdGFyZGVcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheSA9IGZ1bmN0aW9uKG5hbWUsdHlwZSx2YWx1ZSl7XG4gICAgICB2YXIgZmllbGQgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZpZWxkLm5hbWUgPSBuYW1lO1xuICAgICAgZmllbGQudHlwZSA9IHR5cGU7XG4gICAgICBmaWVsZC52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5X3dpdGhfdHdvRmllbGRzID0gZnVuY3Rpb24obmFtZSx0eXBlLHZhbHVlLHNlY29uZFZhbHVlKXtcbiAgICAgIHZhciBmaWVsZCA9IG5ldyBBcnJheSgpO1xuICAgICAgZmllbGQubmFtZSA9IG5hbWU7XG4gICAgICBmaWVsZC50eXBlID0gdHlwZTtcbiAgICAgIGZpZWxkLnZhbHVlID0gdmFsdWU7XG4gICAgICBmaWVsZC5zZWNvbmRWYWx1ZSA9IHNlY29uZFZhbHVlO1xuICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH07XG5cbiAgICAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsgPSBmdW5jdGlvbih1cmwpe1xuICAgICAgaWYodXJsLmluZGV4T2YoXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIpID49IDApe1xuICAgICAgICB2YXIgcGFydHMgPSB1cmwuc3BsaXQoXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIpO1xuICAgICAgICB2YXIgbmV3VXJsID0gXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIrcGFydHNbMV07XG4gICAgICAgIHJldHVybiBuZXdVcmw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2lnbl9pbiA9IGZ1bmN0aW9uKGVtYWlsLCBwYXNzd29yZCl7XG4gICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkVtYWlsXCIsXCJlbWFpbFwiLGVtYWlsKSk7XG4gICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb250cmFzZcOxYVwiLFwibm90TnVsbFwiLHBhc3N3b3JkKSk7XG4gICAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICBBdXRoU2VydmljZS5zaWduX2luKHBhc3N3b3JkLCBlbWFpbCkudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsKHJlc3AsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICByZXNwLmRhdGEucGljdHVyZV91cmwgPSAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsocmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEocmVzcC5kYXRhLm5hbWUsIGVtYWlsLCBwYXNzd29yZCwgcmVzcC5kYXRhLmlkZW50aXR5X2RvY3VtZW50LCByZXNwLmRhdGEucGhvbmUsIHJlc3AuZGF0YS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgICAgIERCU2VydmljZS5zYXZlVXNlcihyZXNwLmRhdGEubmFtZSxlbWFpbCxwYXNzd29yZCxyZXNwLmRhdGEuaWRlbnRpdHlfZG9jdW1lbnQscmVzcC5kYXRhLnBob25lLHJlc3AuZGF0YS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgICAgIGlmKHJlc3AuZGF0YS5mcm9tX2JvZHkpe1xuICAgICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLmZyb21fYm9keSA9IHJlc3AuZGF0YS5mcm9tX2JvZHk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8kc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICRzY29wZS5jbG9zZV9sb2dpbl9tb2RhbCgpO1xuICAgICAgICAgICAgICAvLyRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAvL2FsZXJ0KFwiRXJyb3IgZW4gc2lnbl9pblwiKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG5cbiAgICAgIH1lbHNle1xuICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSBpbmljaWFyIHNlc2nDs24gZGViZSBlc3RhciBjb25lY3RhZG8gYSBpbnRlcm5ldFwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2lnbl9pbl9hamF4ID0gZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkKXtcbiAgICAgIEF1dGhTZXJ2aWNlLnNpZ25faW4ocGFzc3dvcmQsIGVtYWlsKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4KHJlc3ApKXtcbiAgICAgICAgICByZXNwLmRhdGEucGljdHVyZV91cmwgPSAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsocmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShyZXNwLmRhdGEubmFtZSwgZW1haWwsIHBhc3N3b3JkLCByZXNwLmRhdGEuaWRlbnRpdHlfZG9jdW1lbnQsIHJlc3AuZGF0YS5waG9uZSwgcmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIocmVzcC5kYXRhLm5hbWUsZW1haWwscGFzc3dvcmQscmVzcC5kYXRhLmlkZW50aXR5X2RvY3VtZW50LHJlc3AuZGF0YS5waG9uZSxyZXNwLmRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgIGlmKHJlc3AuZGF0YS5mcm9tX2JvZHkpe1xuICAgICAgICAgICAgVXNlclNlcnZpY2UuZnJvbV9ib2R5ID0gcmVzcC5kYXRhLmZyb21fYm9keTtcbiAgICAgICAgICB9XG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgIH0sIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAvL0Vycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAocmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2lnbl9vdXQgPSBmdW5jdGlvbigpe1xuICAgICAgVXNlclNlcnZpY2UuZXJhc2VfdXNlcl9kYXRhKCk7XG4gICAgICBEQlNlcnZpY2UuZXJhc2VVc2VyKCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfZWRpdF9wcm9maWxlX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vQ2FyZ2FyIGVsIG1vZGFsIGNvbiBsYSBpbmZvIGRlbCB1c3VhcmlvIGxvZ3VlYWRvIHkgY29uIGVsIHN1Ym1pdCBhIGVkaXRfcHJvZmlsZV9va1xuICAgICAgJHNjb3BlLnByb2ZpbGUgPSBuZXcgQXJyYXkoKTtcbiAgICAgICRzY29wZS5wcm9maWxlLmVtYWlsID0gVXNlclNlcnZpY2UuZW1haWw7XG4gICAgICAkc2NvcGUucHJvZmlsZS5wYXNzd29yZCA9IFwiXCI7XG4gICAgICAkc2NvcGUucHJvZmlsZS5mdWxsbmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICAkc2NvcGUucHJvZmlsZS5uZXdfZW1haWwgPSBVc2VyU2VydmljZS5lbWFpbDtcbiAgICAgICRzY29wZS5wcm9maWxlLmlkX2RvYyA9IFVzZXJTZXJ2aWNlLmlkZW50aXR5X2RvY3VtZW50O1xuICAgICAgJHNjb3BlLnByb2ZpbGUudGVsZXBob25lID0gVXNlclNlcnZpY2UucGhvbmU7XG4gICAgICAkc2NvcGUucHJvZmlsZS5waWN0dXJlX3VybCA9IG51bGw7XG4gICAgICBpZihVc2VyU2VydmljZS5waWN0dXJlX3VybCE9bnVsbCl7XG4gICAgICAgICRzY29wZS5hY3R1YWxfcGhvdG8gPSBVc2VyU2VydmljZS5waWN0dXJlX3VybDtcbiAgICAgICAgaWYoJHNjb3BlLmFjdHVhbF9waG90bz09XCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCIpe1xuICAgICAgICAgICRzY29wZS5hY3R1YWxfcGhvdG8gPSBcIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICAgIH1cbiAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9lZGl0X3Byb2ZpbGVfd2l0aF9waG90by5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICAkc2NvcGUuYWN0dWFsX3Bob3RvID0gbnVsbDtcbiAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9lZGl0X3Byb2ZpbGUuaHRtbCcsIHtcbiAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogZmFsc2UsXG4gICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuY2xvc2VfZWRpdF9wcm9maWxlX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vQ2FyZ2FyIGVsIG1vZGFsIGNvbiBsYSBpbmZvIGRlbCB1c3VhcmlvIGxvZ3VlYWRvIHkgY29uIGVsIHN1Ym1pdCBhIHVwZGF0ZV91c2VyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmVkaXRfcHJvZmlsZV9vayA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuZWRpdF9wcm9maWxlKFVzZXJTZXJ2aWNlLmVtYWlsLFVzZXJTZXJ2aWNlLnBhc3N3b3JkLCRzY29wZS5wcm9maWxlLmZ1bGxuYW1lLCRzY29wZS5wcm9maWxlLm5ld19lbWFpbCwkc2NvcGUucHJvZmlsZS5pZF9kb2MsJHNjb3BlLnByb2ZpbGUudGVsZXBob25lLCRzY29wZS5wcm9maWxlLnBpY3R1cmVfdXJsKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZWRpdF9wcm9maWxlID0gZnVuY3Rpb24oZW1haWwscGFzc3dvcmQsIGZ1bGxuYW1lLCBuZXdfZW1haWwsIGlkX2RvYywgdXNlcl9waG9uZSwgdXNlcl9waWN0dXJlX3VybCl7XG4gICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvcnJlbyBlbGVjdHLDs25pY29cIixcImVtYWlsXCIsbmV3X2VtYWlsKSk7XG4gICAgICAgIC8vZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvbnRyYXNlw7FhXCIsXCJub3ROdWxsXCIscGFzc3dvcmQpKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkPDqWR1bGEgZGUgSWRlbnRpZGFkXCIsXCJpZGRvY191eVwiLGlkX2RvYykpO1xuICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiTm9tYnJlIHkgYXBlbGxpZG9cIixcInR3b193b3Jkc1wiLGZ1bGxuYW1lKSk7XG4gICAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICB2YXIgZWRpdF9yZXF1ZXN0ID0gQXV0aFNlcnZpY2UuZWRpdF91c2VyKGVtYWlsLHBhc3N3b3JkLCBmdWxsbmFtZSwgbmV3X2VtYWlsLCBpZF9kb2MsIHVzZXJfcGhvbmUsIHVzZXJfcGljdHVyZV91cmwpO1xuICAgICAgICAgIGlmKHVzZXJfcGljdHVyZV91cmw9PW51bGwgfHwgdXNlcl9waWN0dXJlX3VybD09XCJcIil7XG4gICAgICAgICAgICBlZGl0X3JlcXVlc3Quc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsY29uZmlnKXtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZW50X2xhYmVsXCIpLmlubmVySFRNTCA9IFwiRW52aWFkbzogMTAwJVwiO1xuICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwoZGF0YSxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoZGF0YS5uYW1lLCBkYXRhLmVtYWlsLCBwYXNzd29yZCwgZGF0YS5pZGVudGl0eV9kb2N1bWVudCwgZGF0YS5waG9uZSwgZGF0YS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsY29uZmlnKXtcbiAgICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHN0YXR1cyk7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGVkaXRfcmVxdWVzdC50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0LnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsKGRhdGEsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKGRhdGEubmFtZSwgZGF0YS5lbWFpbCwgcGFzc3dvcmQsIGRhdGEuaWRlbnRpdHlfZG9jdW1lbnQsIGRhdGEucGhvbmUsIGRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZV9lZGl0X3Byb2ZpbGVfbW9kYWwoKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tfdXNlcl9sb2dnZWQoKTtcbiAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgIHZhciBhbGVydCA9IFwiQ8OzZGlnbzogXCIgKyBlcnJvci5jb2RlO1xuICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgT3JpZ2VuOiBcIiArIGVycm9yLnNvdXJjZTtcbiAgICAgICAgICAgICAgYWxlcnQgPSBhbGVydCArIFwiIERlc3Rpbm86IFwiICsgZXJyb3IudGFyZ2V0O1xuICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgaHR0cF9zdGF0dXM6IFwiICsgZXJyb3IuaHR0cF9zdGF0dXM7XG4gICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBCb2R5OiBcIiArIGVycm9yLmJvZHk7XG4gICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBFeGNlcHRpb246IFwiICsgZXJyb3IuZXhjZXB0aW9uO1xuICAgICAgICAgICAgICBFcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlKFwiZXJyb3JfY29udGFpbmVyXCIsXCJIdWJvIHVuIGVycm9yIGVuIGVsIGVudsOtbzogXCIgKyBhbGVydCk7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS51cGxvYWRQcm9ncmVzcyA9IChwcm9ncmVzcy5sb2FkZWQgLyBwcm9ncmVzcy50b3RhbCkgKiAxMDA7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnRfbGFiZWxcIikuaW5uZXJIVE1MID0gXCJFbnZpYWRvOiBcIiArIE1hdGgucm91bmQoJHNjb3BlLnVwbG9hZFByb2dyZXNzKSArIFwiJVwiO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiU2luIGNvbmV4acOzbiBhIGludGVybmV0XCIsXCJQYXJhIGVkaXRhciBzdSBwZXJmaWwgZGViZSBlc3RhciBjb25lY3RhZG8gYSBpbnRlcm5ldFwiKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgICRzY29wZS5zaG93X2xvZ2luX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vQ2FyZ2FyIGVsIG1vZGFsIGNvbiBlbCBmb3JtIGRlIGxvZ2luIHkgYWhpIGxsYW1hIGFsIHNpZ25faW5cbiAgICAgICRzY29wZS5ub25hdXRoID0gbmV3IEFycmF5KCk7XG4gICAgICAkc2NvcGUubm9uYXV0aC5lbWFpbCA9IFwiXCI7XG4gICAgICAkc2NvcGUubm9uYXV0aC5wYXNzd29yZCA9IFwiXCI7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9sb2dfaW4uaHRtbCcsIHtcbiAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmxvZ2luX29rID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5zaWduX2luKCRzY29wZS5ub25hdXRoLmVtYWlsLCRzY29wZS5ub25hdXRoLnBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuY2xvc2VfbG9naW5fbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIH1cblxuXG5cbiAgICAkc2NvcGUuc2hvd19zaWduX3VwX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vY2FyZ2FyIGVsIG1vZGFsIGNvbiBlbCBmb3JtIGRlIHNpZ25fdXAgeSBkZSBhaGkgbGxhbWFyIGFsIHNpZ25fdXBcbiAgICAgICRzY29wZS5uZXd1c2VyID0gbmV3IEFycmF5KCk7XG4gICAgICAkc2NvcGUubmV3dXNlci5lbWFpbCA9IFwiXCI7XG4gICAgICAkc2NvcGUubmV3dXNlci5wYXNzd29yZCA9IFwiXCI7XG4gICAgICAkc2NvcGUubmV3dXNlci5mdWxsbmFtZSA9IFwiXCI7XG4gICAgICAkc2NvcGUubmV3dXNlci5pZF9kb2MgPSBcIlwiO1xuICAgICAgJHNjb3BlLm5ld3VzZXIudGVsZXBob25lID0gXCJcIjtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL3NpZ25fdXAuaHRtbCcsIHtcbiAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlX3NpZ25fdXBfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIH1cblxuICAgICRzY29wZS5zaWduX3VwID0gZnVuY3Rpb24oZW1haWwsZnVsbG5hbWUscGFzc3dvcmQsIGlkX2RvYywgdXNlcl9waG9uZSl7XG4gICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvcnJlbyBlbGVjdHLDs25pY29cIixcImVtYWlsXCIsZW1haWwpKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvbnRyYXNlw7FhXCIsXCJub3ROdWxsXCIscGFzc3dvcmQpKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkPDqWR1bGEgZGUgSWRlbnRpZGFkXCIsXCJpZGRvY191eVwiLGlkX2RvYykpO1xuICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiTm9tYnJlIHkgYXBlbGxpZG9cIixcInR3b193b3Jkc1wiLGZ1bGxuYW1lKSk7XG4gICAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICBBdXRoU2VydmljZS5jcmVhdGVfdXNlcihlbWFpbCxmdWxsbmFtZSxwYXNzd29yZCwgaWRfZG9jLCB1c2VyX3Bob25lKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwocmVzcCxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKGZ1bGxuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGlkX2RvYywgdXNlcl9waG9uZSxudWxsKTtcbiAgICAgICAgICAgICAgLy8kc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICRzY29wZS5jbG9zZV9zaWduX3VwX21vZGFsKCk7XG4gICAgICAgICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgICAgICAgdGl0bGU6IFwiVXN1YXJpbyBjcmVhZG8gY29uIMOpeGl0b1wiLFxuICAgICAgICAgICAgICAgdGVtcGxhdGU6IHJlc3AuZGF0YS5tZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgLy9yZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAvLyRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoXCJTaW4gY29uZXhpw7NuIGEgaW50ZXJuZXRcIixcIlBhcmEgaW5pY2lhciByZWdpc3RyYXJzZSBkZWJlIGVzdGFyIGNvbmVjdGFkbyBhIGludGVybmV0XCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5zaWduX3VwX29rID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5zaWduX3VwKCRzY29wZS5uZXd1c2VyLmVtYWlsLCRzY29wZS5uZXd1c2VyLmZ1bGxuYW1lLCRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCRzY29wZS5uZXd1c2VyLmlkX2RvYywkc2NvcGUubmV3dXNlci50ZWxlcGhvbmUpO1xuICAgIH1cblxuICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICBpZihuYW1lPT1udWxsKXtcbiAgICAgICAgICAvL1NpIEhheSB1biB1c3VhcmlvIGd1YXJkYWRvXG4gICAgICAgICAgdmFyIHVzZXIgPSBEQlNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgICAgIHVzZXIudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgICBpZihkb2MubmFtZSE9bnVsbCAmJiBkb2MubmFtZSE9XCJcIiAmJiBkb2MubmFtZSE9XCJ1bmRlZmluZWRcIil7XG4gICAgICAgICAgICAgICRzY29wZS5zaWduX2luX2FqYXgoZG9jLmVtYWlsLCBkb2MucGFzc3dvcmQpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vRXN0w6EgbG9ndWVhZG9cbiAgICAgICAgaWYoVXNlclNlcnZpY2UucGljdHVyZV91cmw9PW51bGwgfHwgVXNlclNlcnZpY2UucGljdHVyZV91cmw9PVwiXCIpe1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyBubyB0aWVuZSBmb3RvIGRlZmluaWRhXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyB0aWVuZSBmb3RvXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2V0X29mZmxpbmVfdXNlciA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICBpZihuYW1lPT1udWxsKXtcbiAgICAgICAgICAvL1NpIEhheSB1biB1c3VhcmlvIGd1YXJkYWRvXG4gICAgICAgICAgdmFyIHVzZXIgPSBEQlNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgICAgIHVzZXIudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgICBpZihkb2MubmFtZSE9bnVsbCAmJiBkb2MubmFtZSE9XCJcIiAmJiBkb2MubmFtZSE9XCJ1bmRlZmluZWRcIil7XG4gICAgICAgICAgICAgIC8vJHNjb3BlLnNpZ25faW5fYWpheChkb2MuZW1haWwsIGRvYy5wYXNzd29yZCk7XG4gICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKGRvYy5uYW1lLCBkb2MuZW1haWwsIGRvYy5wYXNzd29yZCwgZG9jLmlkZW50aXR5X2RvY3VtZW50LCBkb2MucGhvbmUsIGRvYy5waWN0dXJlX3VybCk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9Fc3TDoSBsb2d1ZWFkb1xuICAgICAgICBpZihVc2VyU2VydmljZS5waWN0dXJlX3VybD09bnVsbCB8fCBVc2VyU2VydmljZS5waWN0dXJlX3VybD09XCJcIil7XG4gICAgICAgICAgLy9FbCB1c3VhcmlvIG5vIHRpZW5lIGZvdG8gZGVmaW5pZGFcbiAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgwKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy9FbCB1c3VhcmlvIHRpZW5lIGZvdG9cbiAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSA9IGZ1bmN0aW9uKGhhc1Bob3RvKXtcbiAgICAgIHZhciBwaWN0dXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3BpY3R1cmVcIik7XG4gICAgICBpZihoYXNQaG90bz09MCl7XG4gICAgICAgIC8vcGljdHVyZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgICAgICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlPVwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgIH1lbHNle1xuICAgICAgICBpZihVc2VyU2VydmljZS5waWN0dXJlX3VybCE9bnVsbCAmJiBVc2VyU2VydmljZS5waWN0dXJlX3VybCE9XCJcIil7XG4gICAgICAgICAgLy9hbGVydChVc2VyU2VydmljZS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlPVVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsO1xuICAgICAgICAgIC8vcGljdHVyZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsICsgXCIpXCI7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vcGljdHVyZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgICAgICAgICAkc2NvcGUudXNlcl9jYWNoZWRfaW1hZ2U9XCIuL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZ1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICAkc2NvcGUuZmluZF9tZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5zZXRfYWN0aXZlX29wdGlvbihcImJ1dHRvbi1maW5kLW1lXCIpO1xuICAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogMTAwMDAsIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZX07XG4gICAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgICAuZ2V0Q3VycmVudFBvc2l0aW9uKHBvc09wdGlvbnMpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubGF0ICA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sbmcgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICAgICAgICAgICAgICAgIExvY2F0aW9uc1NlcnZpY2Uuc2F2ZV9uZXdfcmVwb3J0X3Bvc2l0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTtcbiAgICAgICAgICAgICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIuem9vbSA9IDE4O1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIuem9vbSA9IDE2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLm1hcmtlcnMubm93ID0ge1xuICAgICAgICAgICAgICAgICAgbGF0OnBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICAgIGxuZzpwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCI8cCBhbGlnbj0nY2VudGVyJz5UZSBlbmN1ZW50cmFzIGFxdcOtIDxici8+IDxhIG5nLWNsaWNrPSduZXdfcmVwb3J0KDEpOyc+SW5pY2lhciByZXBvcnRlIGVuIHR1IHBvc2ljacOzbiBhY3R1YWw8L2E+PC9wPlwiLFxuICAgICAgICAgICAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgZ2V0TWVzc2FnZVNjb3BlOiBmdW5jdGlvbigpIHsgcmV0dXJuICRzY29wZTsgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8kc2NvcGUubWFwLm1hcmtlcnMubm93Lm9wZW5Qb3B1cCgpO1xuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAvLyBlcnJvclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJMb2NhdGlvbiBlcnJvciFcIik7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIC8vRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cChcIk5vIGhlbW9zIHBvZGlkbyBnZW9sb2NhbGl6YXJsby4gwr9UYWwgdmV6IG9sdmlkw7MgaGFiaWxpdGFyIGxvcyBzZXJ2aWNpb3MgZGUgbG9jYWxpemFjacOzbiBlbiBzdSBkaXNwb3NpdGl2bz9cIilcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BlbkNvdW5jaWxTZWxlY3RvcigpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH07XG5cbiAgICAgIHZhciBMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoICEodGhpcyBpbnN0YW5jZW9mIExvY2F0aW9uKSApIHJldHVybiBuZXcgTG9jYXRpb24oKTtcbiAgICAgICAgdGhpcy5sYXQgID0gXCJcIjtcbiAgICAgICAgdGhpcy5sbmcgID0gXCJcIjtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJcIjtcbiAgICAgIH07XG5cblxuXG4gICAgICAvKipcbiAgICAgICAqIERldGVjdCB1c2VyIGxvbmctcHJlc3Npbmcgb24gbWFwIHRvIGFkZCBuZXcgbG9jYXRpb25cbiAgICAgICAqL1xuICAgICAgJHNjb3BlLiRvbignbGVhZmxldERpcmVjdGl2ZU1hcC5jb250ZXh0bWVudScsIGZ1bmN0aW9uKGV2ZW50LCBsb2NhdGlvbkV2ZW50KXtcbiAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGxvY2F0aW9uRXZlbnQubGVhZmxldEV2ZW50LmxhdGxuZy5sYXQpO1xuICAgICAgICBjb25zb2xlLmxvZyhsb2NhdGlvbkV2ZW50LmxlYWZsZXRFdmVudC5sYXRsbmcubG5nKTtcbiAgICAgICAgTG9jYXRpb25zU2VydmljZS5zYXZlX25ld19yZXBvcnRfcG9zaXRpb24obG9jYXRpb25FdmVudC5sZWFmbGV0RXZlbnQubGF0bG5nLmxhdCxsb2NhdGlvbkV2ZW50LmxlYWZsZXRFdmVudC5sYXRsbmcubG5nKTtcbiAgICAgICAgJHNjb3BlLm5ld19yZXBvcnQoMSk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLnNlbGVjdF9pbW0gPSBmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuY2xvc2VfY291bmNpbF9tb2RhbCgpO1xuICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNlbGVjdENvdW5jaWwoXCIyODlcIik7XG4gICAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoLTM0LjkwMTExMywgLTU2LjE2NDUzMSwgMTQpO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUuc2VsZWN0X2lkciA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5jbG9zZV9jb3VuY2lsX21vZGFsKCk7XG4gICAgICAgIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0Q291bmNpbChcIjI1NVwiKTtcbiAgICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcygtMzAuODk5NzQ2OSwgLTU1LjU0MzQ2ODYsIDE0KTtcbiAgICAgIH1cblxuICAgICAgJHNjb3BlLnNlbGVjdF9pcm4gPSBmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuY2xvc2VfY291bmNpbF9tb2RhbCgpO1xuICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNlbGVjdENvdW5jaWwoXCIzNjBcIik7XG4gICAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoLTMzLjEyNDk3MiwgLTU4LjMwMzczNiwgMTQpO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUub3BlbkNvdW5jaWxTZWxlY3RvciA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2NvdW5jaWxfc2VsZWN0b3Jfd2l0aF9iYWNrX2J1dHRvbi5odG1sJywge1xuICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLmNvdW5jaWxfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgIExvY2F0aW9uc1NlcnZpY2UuY291bmNpbF9tb2RhbC5zaG93KCkudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJHNjb3BlLmNsb3NlX2NvdW5jaWxfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLmNvdW5jaWxfbW9kYWwuaGlkZSgpO1xuICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLmNvdW5jaWxfbW9kYWwucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgfVxuXSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignUE1CQ3RybCcsXG5bJyRzY29wZScsXG4nJHN0YXRlJyxcbidsZWFmbGV0RGF0YScsXG4nUE1CU2VydmljZScsXG4nUmVwb3J0U2VydmljZScsXG4nbG9jYXRpb25BUEknLFxuJ01hcFNlcnZpY2UnLFxuJ18nLFxuJ0xvYWRlcicsXG4nTG9jYXRpb25zU2VydmljZScsXG4nJGlvbmljTW9kYWwnLFxuZnVuY3Rpb24oJHNjb3BlLFxuICAkc3RhdGUsXG4gIGxlYWZsZXREYXRhLFxuICBQTUJTZXJ2aWNlLFxuICBSZXBvcnRTZXJ2aWNlLFxuICBsb2NhdGlvbkFQSSxcbiAgTWFwU2VydmljZSxcbiAgXyxcbiAgTG9hZGVyLFxuICBMb2NhdGlvbnNTZXJ2aWNlLFxuICAkaW9uaWNNb2RhbCkge1xuXG5cbiAgJHNjb3BlLnJlcG9ydEJ1dHRvbiA9IHtcbiAgICB0ZXh0OiBcIlJlcG9ydGFyXCIsXG4gICAgc3RhdGU6IFwidW5Db25maXJtZWRcIlxuICB9O1xuXG4gIC8vJHNjb3BlLiRvbignJGlvbmljVmlldy5hZnRlckVudGVyJywgZnVuY3Rpb24oKXsgLy9UaGlzIGlzIGZpcmVkIHR3aWNlIGluIGEgcm93XG4gICRzY29wZS4kb24oXCIkaW9uaWNWaWV3LmFmdGVyRW50ZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHZhciBtYXAgPSBsZWFmbGV0RGF0YS5nZXRNYXAoKTtcbiAgICBpZihMb2NhdGlvbnNTZXJ2aWNlLm5ld19yZXBvcnRfbGF0IT1cIlwiKXtcbiAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoTG9jYXRpb25zU2VydmljZS5uZXdfcmVwb3J0X2xhdCwgTG9jYXRpb25zU2VydmljZS5uZXdfcmVwb3J0X2xuZywgMTYpO1xuICAgIH1lbHNlIGlmKExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQhPVwiXCIpe1xuICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcyhMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbGF0LCBMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbG5nLCAxNik7XG4gICAgfWVsc2V7XG4gICAgICAvL01hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoLTM0LjkwMTExMywgLTU2LjE2NDUzMSwgMTQpO1xuICAgICAgJHNjb3BlLm9wZW5Db3VuY2lsU2VsZWN0b3IoKTtcbiAgICB9XG4gIH0pO1xuXG4gICRzY29wZS5zZWxlY3RfaW1tID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuY2xvc2VfY291bmNpbF9tb2RhbCgpO1xuICAgIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0Q291bmNpbChcIjI4OVwiKTtcbiAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKC0zNC45MDExMTMsIC01Ni4xNjQ1MzEsIDE0KTtcbiAgfVxuXG4gICRzY29wZS5zZWxlY3RfaWRyID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuY2xvc2VfY291bmNpbF9tb2RhbCgpO1xuICAgIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0Q291bmNpbChcIjI1NVwiKTtcbiAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKC0zMC44OTk3NDY5LCAtNTUuNTQzNDY4NiwgMTQpO1xuICB9XG5cbiAgJHNjb3BlLnNlbGVjdF9pcm4gPSBmdW5jdGlvbigpe1xuICAgICRzY29wZS5jbG9zZV9jb3VuY2lsX21vZGFsKCk7XG4gICAgTG9jYXRpb25zU2VydmljZS5zZWxlY3RDb3VuY2lsKFwiMzYwXCIpO1xuICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoLTMzLjEyNDk3MiwgLTU4LjMwMzczNiwgMTQpO1xuICB9XG5cbiAgJHNjb3BlLm9wZW5Db3VuY2lsU2VsZWN0b3IgPSBmdW5jdGlvbigpe1xuICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2NvdW5jaWxfc2VsZWN0b3Jfd2l0aF9iYWNrX2J1dHRvbi5odG1sJywge1xuICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLmNvdW5jaWxfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgTG9jYXRpb25zU2VydmljZS5jb3VuY2lsX21vZGFsLnNob3coKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgfVxuXG4gICRzY29wZS5jbG9zZV9jb3VuY2lsX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICBMb2NhdGlvbnNTZXJ2aWNlLmNvdW5jaWxfbW9kYWwuaGlkZSgpO1xuICAgIExvY2F0aW9uc1NlcnZpY2UuY291bmNpbF9tb2RhbC5yZW1vdmUoKTtcbiAgfVxuXG5cbiAgLyoqL1xuXG4gICRzY29wZS5zZWFyY2hNb2RlID0gXCJjYWxsZS5sdWdhclwiO1xuICAkc2NvcGUubG9jYXRpb24gPXtjYWxsZTpudWxsLGVzcXVpbmE6bnVsbCxsdWdhcjpudWxsfTtcblxuXG4gIC8vQXV0byBjb21wbGV0ZVxuXG5cbiAgdmFyIGxvY2F0aW9uR2VvbVBhcmFtcyA9e3RpcG86bnVsbCxwYXRoUGFyYW1zOltdfTtcbiAgJHNjb3BlLiRvbihcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIiwgZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlvbi1hdXRvY29tcGxldGVcIikpO1xuICAgIC8vY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQpKTtcbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5iaW5kKCd0b3VjaGVuZCBjbGljayBmb2N1cycsICRzY29wZS5vbkNsaWNrKTtcbiAgfSk7XG5cblxuICAkc2NvcGUuaW5pdFJlcG9ydCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIF9waW4sIF9waW5JY29uID0gTC5pY29uKHtcbiAgICAgIGljb25Vcmw6ICdpbWcvcGluQHgyLnBuZycsXG4gICAgICBpY29uU2l6ZTogWzcwLCAxMTBdLCAvLyBzaXplIG9mIHRoZSBpY29uXG4gICAgICBpY29uQW5jaG9yOiBbLTE4LCA1NV0sIC8vIHBvaW50IG9mIHRoZSBpY29uIHdoaWNoIHdpbGwgY29ycmVzcG9uZCB0byBtYXJrZXIncyBsb2NhdGlvblxuICAgIH0pO1xuXG4gICAgaWYgKCRzY29wZS5yZXBvcnRCdXR0b24uc3RhdGUgPT0gXCJ1bkNvbmZpcm1lZFwiKSB7XG5cbiAgICAgICRzY29wZS5yZXBvcnRCdXR0b24udGV4dCA9IFwiQ29uZmlybWFyXCI7XG4gICAgICAkc2NvcGUucmVwb3J0QnV0dG9uLnN0YXRlID0gXCJhYm91dDJDb25maXJtXCI7XG5cblxuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgX3BpbiA9IG5ldyBMLm1hcmtlcihtYXAuZ2V0Q2VudGVyKCksIHtcbiAgICAgICAgICBpY29uOiBfcGluSWNvbixcbiAgICAgICAgICBjbGlja2FibGU6IGZhbHNlXG4gICAgICAgIH0pLmFkZFRvKG1hcCk7XG5cbiAgICAgICAgUmVwb3J0U2VydmljZS5fbmV3KCk7XG4gICAgICAgIFJlcG9ydFNlcnZpY2UuY3VycmVudC5zZXRMYXRMbmcobWFwLmdldENlbnRlcigpKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSgkc2NvcGUuY3VycmVudFJlcG9ydCkpO1xuXG4gICAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpb24tYXV0b2NvbXBsZXRlXCIpKTtcbiAgICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuYmluZCgndG91Y2hlbmQgY2xpY2sgZm9jdXMnLCAkc2NvcGUub25DbGljayk7XG5cblxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vY29uc29sZS5sb2coXCJjdXJyZW50UmVwb3J0ID1cIiArIEpTT04uc3RyaW5naWZ5KCRzY29wZS5jdXJyZW50UmVwb3J0KSk7XG4gICAgfVxuXG4gIH07XG5cbiAgJHNjb3BlLmlzTnVtZXJpYyA9IGZ1bmN0aW9uKG4pIHtcbiAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQobikpICYmIGlzRmluaXRlKG4pO1xuICB9O1xuXG4gICRzY29wZS5zZWFyY2hMb2NhdGlvbiA9IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgdmFyIHByb21pc2VTZWFyY2g7XG4gICAgaWYgKHF1ZXJ5ICYmIHF1ZXJ5Lmxlbmd0aD49Mikge1xuICAgICAgaWYgKCRzY29wZS5zZWFyY2hNb2RlID09IFwiY2FsbGUubHVnYXJcIikge1xuICAgICAgICBwcm9taXNlU2VhcmNoID0gbG9jYXRpb25BUEkuc2VhcmNoTG9jYXRpb25CeVN0cihxdWVyeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiYnVzY2FuZG8gY2FsbGUvXCIrJHNjb3BlLnNlbGVjdGVkSXRlbS5jb2RpZ28rXCJlc3F1aW5hID0gXCIgKyBxdWVyeSk7XG4gICAgICAgIGlmKCRzY29wZS5pc051bWVyaWMocXVlcnkudHJpbSgpKSl7XG4gICAgICAgICAgdmFyIGl0ZW1zID0gW107XG4gICAgICAgICAgdmFyIGl0ZW0gPSB7XCJkZXNjVGlwb1wiOlwiTlVNRVJPXCIsXCJhZGRyZXNzXCI6cXVlcnksXCJsYXRcIjpxdWVyeX07XG4gICAgICAgICAgaXRlbXNbMF0gPSBpdGVtO1xuICAgICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcHJvbWlzZVNlYXJjaCA9IGxvY2F0aW9uQVBJLnNlYXJjaEVzcXVpbmFCeVN0cih7XG4gICAgICAgICAgICBjYWxsZTogJHNjb3BlLnNlbGVjdGVkSXRlbS5sYXQsXG4gICAgICAgICAgICBlc3F1aW5hOiBxdWVyeVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvbWlzZVNlYXJjaDtcbiAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5vbkNsaWNrID0gZnVuY3Rpb24oKSB7XG5cbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5jb250cm9sbGVyKCdpb25BdXRvY29tcGxldGUnKS5zaG93TW9kYWwoKTtcblxuICB9O1xuXG4gICRzY29wZS5pdGVtc0NsaWNrZWQgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXG4gICAgJHNjb3BlLmNsaWNrZWRWYWx1ZU1vZGVsID0gY2FsbGJhY2s7XG4gICAgLy8kc2NvcGUuc2VsZWN0ZWRJdGVtID0gY2FsbGJhY2suc2VsZWN0ZWRJdGVtc1swXTtcbiAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gY2FsbGJhY2suaXRlbTtcbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaCA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW9uLWF1dG9jb21wbGV0ZS1zZWFyY2hcIikpO1xuICAgIGlmICgkc2NvcGUuc2VhcmNoTW9kZSA9PSBcImVzcXVpbmEubnVtZXJvXCIpIHtcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy5wYXRoUGFyYW1zID0gW107XG4gICAgICAkc2NvcGUubG9jYXRpb24uZXNxdWluYT0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy5wYXRoUGFyYW1zLnB1c2goJHNjb3BlLmxvY2F0aW9uLmNhbGxlLmxhdCk7XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMucGF0aFBhcmFtcy5wdXNoKCRzY29wZS5sb2NhdGlvbi5lc3F1aW5hLmxhdCk7XG4gICAgICB2YXIgc3RyX3RpcG8gPSBcIlwiO1xuICAgICAgdmFyIHRpcG8gPSBcIlwiO1xuICAgICAgaWYoJHNjb3BlLmlzTnVtZXJpYygkc2NvcGUuc2VsZWN0ZWRJdGVtLmFkZHJlc3MpKXtcbiAgICAgICAgLy9TZWxlY2Npb27DsyB1biBuw7ptZXJvIGRlIHB1ZXJ0YVxuICAgICAgICBsb2NhdGlvbkdlb21QYXJhbXMudGlwbz1cIkRJUkVDQ0lPTlwiO1xuICAgICAgICB0aXBvID0gXCJkb29yXCI7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9zZWxlY2Npb25vIHVuYSBlc3F1aW5hXG4gICAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy50aXBvPVwiRVNRVUlOQVwiOy8vJHNjb3BlLnNlbGVjdGVkSXRlbS5kZXNjVGlwbztcbiAgICAgICAgc3RyX3RpcG8gPSBcImVzcXVpbmFcIjtcbiAgICAgICAgdGlwbyA9IFwiY29ybmVyXCI7XG4gICAgICB9XG4gICAgICAvL2xvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbShsb2NhdGlvbkdlb21QYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KVxuICAgICAgbG9jYXRpb25BUEkuZ2V0TG9jYXRpb25HZW9tUE1CKCRzY29wZS5sb2NhdGlvbi5jYWxsZS5sYXQsJHNjb3BlLmxvY2F0aW9uLmVzcXVpbmEubGF0LHRpcG8pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KVxuICAgICAge1xuICAgICAgICB2YXIgbmFtZSA9ICRzY29wZS5sb2NhdGlvbi5jYWxsZS5hZGRyZXNzICsgXCIgXCIgKyBzdHJfdGlwbyArIFwiIFwiICsgJHNjb3BlLnNlbGVjdGVkSXRlbS5hZGRyZXNzO1xuICAgICAgICBNYXBTZXJ2aWNlLmdvVG9QbGFjZShuYW1lLCByZXN1bHQuZGF0YS5sYXRpdHVkZSxyZXN1bHQuZGF0YS5sb25naXR1ZGUsJHNjb3BlKTtcbiAgICAgICAgJHNjb3BlLnNlYXJjaE1vZGUgPSBcImNhbGxlLmx1Z2FyXCI7XG4gICAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50U2VhcmNoLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcIkJ1c2NhciBjYWxsZVwiKTtcbiAgICAgICAgJHNjb3BlLmV4dGVybmFsTW9kZWwgPSBbXTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc2NvcGUubG9jYXRpb24uY2FsbGU9ICRzY29wZS5zZWxlY3RlZEl0ZW07XG4gICAgICAkc2NvcGUuc2VhcmNoTW9kZSA9IFwiZXNxdWluYS5udW1lcm9cIjtcbiAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50U2VhcmNoLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcIkVzcXVpbmEgbyBuw7ptZXJvXCIpO1xuICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuY29udHJvbGxlcignaW9uQXV0b2NvbXBsZXRlJykuc2hvd01vZGFsKCk7XG4gICAgICAkc2NvcGUucHJlc2VsZWN0ZWRTZWFyY2hJdGVtcyA9IFtdO1xuICAgICAgLyppZiAoJHNjb3BlLnNlbGVjdGVkSXRlbS5kZXNjVGlwbyA9PT0gXCJWSUFcIikge1xuICAgICAgICAkc2NvcGUubG9jYXRpb24uY2FsbGU9ICRzY29wZS5zZWxlY3RlZEl0ZW07XG4gICAgICAgICRzY29wZS5zZWFyY2hNb2RlID0gXCJlc3F1aW5hLm51bWVyb1wiO1xuICAgICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaC5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCJFc3F1aW5hIG8gbsO6bWVyb1wiKTtcbiAgICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuY29udHJvbGxlcignaW9uQXV0b2NvbXBsZXRlJykuc2hvd01vZGFsKCk7XG5cbiAgICAgIH1lbHNle1xuICAgICAgICAvL2dvdG8gcGxhY2UgZW4gZWwgbWFwYVxuICAgICAgICAkc2NvcGUubG9jYXRpb24ubHVnYXI9ICRzY29wZS5zZWxlY3RlZEl0ZW07XG4gICAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy50aXBvPSRzY29wZS5zZWxlY3RlZEl0ZW0uZGVzY1N1YnRpcG87XG4gICAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy5wYXRoUGFyYW1zLnB1c2goJHNjb3BlLmxvY2F0aW9uLmx1Z2FyLmNvZGlnbyk7XG4gICAgICAgIGxvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbShsb2NhdGlvbkdlb21QYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgTWFwU2VydmljZS5nb1RvUGxhY2UoYW5ndWxhci5leHRlbmQoe25vbWJyZTokc2NvcGUuc2VsZWN0ZWRJdGVtLm5vbWJyZX0scmVzdWx0KSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgIH0qL1xuICAgIH1cblxuICB9O1xuXG4gICRzY29wZS5pdGVtc0NhbmNlbGVkPSBmdW5jdGlvbihfaXRlbSl7XG4gICAgdmFyIG51bVB1ZXJ0YSA9IHBhcnNlSW50KF9pdGVtLnNlYXJjaFF1ZXJ5KTtcbiAgICBpZihOdW1iZXIuaXNJbnRlZ2VyKG51bVB1ZXJ0YSkpe1xuICAgICAgLy9jb25zb2xlLmxvZyhcIklTIG51bWJlclwiKTtcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy50aXBvPVwiRElSRUNDSU9OXCI7Ly8kc2NvcGUuc2VsZWN0ZWRJdGVtLmRlc2NUaXBvO1xuICAgICAgbG9jYXRpb25HZW9tUGFyYW1zLnBhdGhQYXJhbXMucHVzaCgkc2NvcGUubG9jYXRpb24uY2FsbGUuY29kaWdvKTtcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy5wYXRoUGFyYW1zLnB1c2gobnVtUHVlcnRhKTtcbiAgICAgIGxvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbShsb2NhdGlvbkdlb21QYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgIE1hcFNlcnZpY2UuZ29Ub1BsYWNlKGFuZ3VsYXIuZXh0ZW5kKHtub21icmU6JHNjb3BlLnNlbGVjdGVkSXRlbS5ub21icmUgKyBcIiBcIiArIG51bVB1ZXJ0YSB9LHJlc3VsdCksJHNjb3BlKTtcbiAgICAgICRzY29wZS5zZWFyY2hNb2RlID0gXCJjYWxsZS5sdWdhclwiO1xuXG4gICAgfSxmdW5jdGlvbihlcnJvcil7XG4gICAgICAvL2NvbnNvbGUubG9nKFwiRXJyb3Igb2J0ZW5pZW5kbyBsYSBkaXJlY2Npb24gXCIrIEpTT04uc3RyaW5naWZ5KGVycm9yKSk7XG4gICAgICBMb2FkZXIuc2hvd0FsZXJ0KFwiRXJyb3JcIixcIk5vIGV4aXN0ZSBlc2EgZGlyZWNjaW9uXCIpLnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5jb250cm9sbGVyKCdpb25BdXRvY29tcGxldGUnKS5zaG93TW9kYWwoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0F1dGhTZXJ2aWNlJywgWyckaHR0cCcsICckY29yZG92YUZpbGVUcmFuc2ZlcicsICdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hdXRoL2FqYXgvXCI7XG5cbiAgcmV0dXJuIHtcbiAgICBzaWduX2luOiBmdW5jdGlvbiAocGFzc3dvcmQsIGVtYWlsKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcInNpZ25faW5cIiwgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUsIHBhcmFtczogeyBwYXNzd29yZF9zaWduX2luOiBwYXNzd29yZCwgZW1haWw6IGVtYWlsIH0gfSk7XG4gICAgfSxcblxuICAgIHNpZ25fb3V0OiBmdW5jdGlvbiAocGFzc3dvcmQsIGVtYWlsKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcInNpZ25fb3V0XCIsIHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlLCBwYXJhbXM6IHsgcGFzc3dvcmRfc2lnbl9pbjogcGFzc3dvcmQsIGVtYWlsOiBlbWFpbCB9IH0pO1xuICAgIH0sXG5cbiAgICBjcmVhdGVfdXNlcjogZnVuY3Rpb24gKGVtYWlsLGZ1bGxuYW1lLHBhc3N3b3JkLCBpZF9kb2MsIHVzZXJfcGhvbmUpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwiY3JlYXRlX3VzZXJcIiwgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUsIHBhcmFtczogeyBmb3JtX2VtYWlsOiBlbWFpbCwgbmFtZTogZnVsbG5hbWUsIHBhc3N3b3JkX3JlZ2lzdGVyOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5X2RvY3VtZW50OiBpZF9kb2MsIHBob25lOiB1c2VyX3Bob25lIH0gfSk7XG4gICAgfSxcblxuICAgIHBhc3N3b3JkX3JlY292ZXJ5OiBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwiZm9yZ290X3Bhc3N3b3JkXCIsIHsgcGFyYW1zOiB7IGxvZ2luX2VtYWlsOiBlbWFpbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgcGFzc3dvcmRfY2hhbmdlOiBmdW5jdGlvbiAoZW1haWwsb2xkUGFzc3dvcmQsbmV3UGFzc3dvcmQsY29uZmlybVBhc3N3b3JkKSB7XG5cbiAgICAgIHZhciBib2R5ID0gJ2VtYWlsPScrZW1haWwrJyZwYXNzd29yZF9zaWduX2luPScrb2xkUGFzc3dvcmQrJyZuZXdfcGFzc3dvcmQ9JytuZXdQYXNzd29yZCsnJmNvbmZpcm09Jytjb25maXJtUGFzc3dvcmQ7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2NoYW5nZV9wYXNzd29yZCcsIGJvZHkse2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG5cbiAgICB9LFxuXG5cbiAgICBlZGl0X3VzZXI6IGZ1bmN0aW9uIChlbWFpbCxwYXNzd29yZCwgZnVsbG5hbWUsIG5ld19lbWFpbCwgaWRfZG9jLCB1c2VyX3Bob25lLCB1c2VyX3BpY3R1cmVfdXJsKSB7XG4gICAgICBpZiAodXNlcl9waWN0dXJlX3VybCE9bnVsbCAmJiB1c2VyX3BpY3R1cmVfdXJsIT1cIlwiKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgZmlsZUtleTogXCJwaG90b1wiLFxuICAgICAgICAgLy9maWxlTmFtZTogZmlsZW5hbWUsXG4gICAgICAgICAvL2NodW5rZWRNb2RlOiBmYWxzZSxcbiAgICAgICAgIC8vbWltZVR5cGU6IFwiaW1hZ2UvanBnXCIsXG4gICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgICBwYXJhbXMgOiB7ICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBwYXNzd29yZF9zaWduX2luOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZ1bGxuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgbmV3X2VtYWlsOiBuZXdfZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogaWRfZG9jLFxuICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IHVzZXJfcGhvbmVcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cnVzdEFsbEhvc3RzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLnVwbG9hZChiYXNlVVJMICsgXCJlZGl0X3VzZXJcIiwgdXNlcl9waWN0dXJlX3VybCwgb3B0aW9ucywgdHJ1c3RBbGxIb3N0cyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJlZGl0X3VzZXJcIiwgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUsIHBhcmFtczogeyBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZF9zaWduX2luOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZ1bGxuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2VtYWlsOiBuZXdfZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogaWRfZG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IHVzZXJfcGhvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDYXRlZ29yaWVzU2VydmljZScsIFsnJGh0dHAnLCdMb2NhdGlvbnNTZXJ2aWNlJywgJ0NvbmZpZ1NlcnZpY2UnLCAnREJTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsTG9jYXRpb25zU2VydmljZSwgQ29uZmlnU2VydmljZSwgREJTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9yZXBvcnQvbmV3L2FqYXhcIjtcbiAgdmFyIGJhc2VVUkxmcm9tQVBJID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYXBpL2NhdGVnb3JpZXMvXCI7XG5cbiAgcmV0dXJuIHtcbiAgICBhbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCwgeyBwYXJhbXM6IHsgbGF0OiBMb2NhdGlvbnNTZXJ2aWNlLm5ld19yZXBvcnRfbGF0LCBsb246IExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sbmcsIGZvcm1hdDogXCJqc29uXCIgfSB9KVxuICAgIH0sXG5cbiAgICBhbGxGcm9tQm9keUFyZWE6IGZ1bmN0aW9uIChhcmVhSWQpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTGZyb21BUEksIHsgcGFyYW1zOiB7IGFwaV9rZXk6IFwiMTIzNFwiLCBhcmVhOiBhcmVhSWQgfSB9KVxuICAgIH0sXG5cbiAgICBnZXRDYWNoZWRDYXRlZ29yaWVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gREJTZXJ2aWNlLmdldENhdGVnb3JpZXMoKTtcbiAgICB9XG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ29uZmlnU2VydmljZScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuXG4gIHZhciBDb25maWdPYmogPSB7fTtcbiAgLy9Db25maWdPYmouYmFzZVVSTCA9IFwiaHR0cHM6Ly9wbWJkZXYuZGV2ZWxvcG1lbnQuZGF0YXV5Lm9yZ1wiO1xuICBDb25maWdPYmouYmFzZVVSTCA9IFwiL2RhdGFcIjtcbiAgaWYoaW9uaWMuUGxhdGZvcm0uaXNXZWJWaWV3KCkpe1xuICAgIENvbmZpZ09iai5iYXNlVVJMID0gXCJodHRwczovL3Bvcm1pYmFycmlvLmZyZXlqYS5kYXRhdXkub3JnXCI7XG4gIH1cblxuICBDb25maWdPYmouYmFzZUNvYnJhbmQgPSBcIi9jb2JyYW5kcy9wb3JtaWJhcnJpb1wiO1xuXG4gIHJldHVybiBDb25maWdPYmo7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDb25uZWN0aXZpdHlTZXJ2aWNlJywgWyckY29yZG92YU5ldHdvcmsnLCBmdW5jdGlvbigkY29yZG92YU5ldHdvcmspe1xuXG4gIHJldHVybiB7XG4gICAgaXNPbmxpbmU6IGZ1bmN0aW9uKCl7XG4gICAgICBpZihpb25pYy5QbGF0Zm9ybS5pc1dlYlZpZXcoKSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuICRjb3Jkb3ZhTmV0d29yay5pc09ubGluZSgpO1xuICAgICAgICAgfVxuICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmF2aWdhdG9yLm9uTGluZTtcbiAgICAgICAgLy9yZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc09mZmxpbmU6IGZ1bmN0aW9uKCl7XG4gICAgICBpZihpb25pYy5QbGF0Zm9ybS5pc1dlYlZpZXcoKSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuICEkY29yZG92YU5ldHdvcmsuaXNPbmxpbmUoKTtcbiAgICAgICAgIH1cbiAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAhbmF2aWdhdG9yLm9uTGluZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1dKVxuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0RCU2VydmljZScsIFsnJHEnLCBmdW5jdGlvbigkcSkge1xuICAgdmFyIF9kYiA9IFwiZW1wdHlcIjtcblxuICAgcmV0dXJuIHtcbiAgICAgICBpbml0REI6IGluaXREQixcbiAgICAgICBzYXZlVXNlcjogc2F2ZVVzZXIsXG4gICAgICAgZ2V0VXNlcjogZ2V0VXNlcixcbiAgICAgICBlcmFzZVVzZXI6IGVyYXNlVXNlcixcbiAgICAgICBzYXZlUmVwb3J0OiBzYXZlUmVwb3J0LFxuICAgICAgIGdldFJlcG9ydDogZ2V0UmVwb3J0LFxuICAgICAgIGdldEFsbFJlcG9ydHM6IGdldEFsbFJlcG9ydHMsXG4gICAgICAgdXBkYXRlUmVwb3J0OiB1cGRhdGVSZXBvcnQsXG4gICAgICAgZGVsZXRlUmVwb3J0OiBkZWxldGVSZXBvcnQsXG4gICAgICAgZGVsZXRlR2l2ZW5SZXBvcnQ6IGRlbGV0ZUdpdmVuUmVwb3J0LFxuICAgICAgIGdldENhdGVnb3JpZXM6IGdldENhdGVnb3JpZXMsXG4gICAgICAgc2F2ZUNhdGVnb3JpZXM6IHNhdmVDYXRlZ29yaWVzXG4gICB9O1xuXG4gICBmdW5jdGlvbiBzYXZlVXNlcih1c2VyX25hbWUsIHVzZXJfZW1haWwsIHVzZXJfcGFzc3dvcmQsIHVzZXJfaWRfZG9jLCB1c2VyX3Bob25lLCB1c2VyX3BpY3R1cmVfdXJsKSB7XG4gICAgICAgICB2YXIgdXNlciA9IHtcbiAgICAgICAgICAgIF9pZDogJ3VzZXItbG9nZ2VkJyxcbiAgICAgICAgICAgIG5hbWU6IHVzZXJfbmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyX2VtYWlsLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHVzZXJfcGFzc3dvcmQsXG4gICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogdXNlcl9pZF9kb2MsXG4gICAgICAgICAgICBwaG9uZTogdXNlcl9waG9uZSxcbiAgICAgICAgICAgIHBpY3R1cmVfdXJsOiB1c2VyX3BpY3R1cmVfdXJsXG4gICAgICAgICB9O1xuICAgICAgICAgZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgICB1c2VyLl9yZXYgPSBkb2MuX3JldjtcbiAgICAgICAgICAgcmV0dXJuICRxLndoZW4oX2RiLnB1dCh1c2VyKSk7XG4gICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgIHJldHVybiAkcS53aGVuKF9kYi5wdXQodXNlcikpO1xuICAgICAgICAgfSlcbiAgIH07XG5cbiAgZnVuY3Rpb24gZ2V0VXNlcigpIHtcbiAgICAgcmV0dXJuICRxLndoZW4oX2RiLmdldCgndXNlci1sb2dnZWQnKSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZXJhc2VVc2VyKCkge1xuICAgICRxLndoZW4oX2RiLmdldCgndXNlci1sb2dnZWQnKSkudGhlbihmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiAkcS53aGVuKF9kYi5yZW1vdmUoZG9jKSk7XG4gICAgfSk7XG4gIH1cblxuICAgZnVuY3Rpb24gaW5pdERCKCkge1xuICAgICAgIC8vIENyZWF0ZXMgdGhlIGRhdGFiYXNlIG9yIG9wZW5zIGlmIGl0IGFscmVhZHkgZXhpc3RzXG4gICAgICAgLy9Qb3VjaERCLnBsdWdpbihyZXF1aXJlKCdwb3VjaGRiLWFkYXB0ZXItY29yZG92YS1zcWxpdGUnKSk7XG4gICAgICAgaWYoX2RiID09IFwiZW1wdHlcIil7XG4gICAgICAgICBfZGIgPSBuZXcgUG91Y2hEQihcbiAgICAgICAgICAgICdteWRiLmRiJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYWRhcHRlcjogJ2NvcmRvdmEtc3FsaXRlJyxcbiAgICAgICAgICAgICAgaW9zRGF0YWJhc2VMb2NhdGlvbjogJ2RlZmF1bHQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gX2RiO1xuICAgICAgIH1cbiAgICAgICByZXR1cm4gX2RiO1xuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZVJlcG9ydChyZXBvcnQpIHtcbiAgICAgIC8vbmV3X3JlcG9ydF9pZCA9IFwicmVwb3J0X1wiICsgcG91Y2hDb2xsYXRlLnRvSW5kZXhhYmxlU3RyaW5nKFtyZXBvcnRdKTtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIHZhciBuZXdfcmVwb3J0X2lkID0gXCJyZXBvcnRfXCIgKyBkYXRlLmdldEZ1bGxZZWFyKCkgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkgKyBkYXRlLmdldERhdGUoKSArIGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XG4gICAgICByZXBvcnQuX2lkID0gbmV3X3JlcG9ydF9pZDtcbiAgICAgIHJldHVybiAkcS53aGVuKF9kYi5wdXQocmVwb3J0KSk7XG4gICB9O1xuXG4gICBmdW5jdGlvbiB1cGRhdGVSZXBvcnQocmVwb3J0KSB7XG4gICAgIHJldHVybiAkcS53aGVuKF9kYi5wdXQocmVwb3J0KSk7XG4gIH07XG5cbiAgIGZ1bmN0aW9uIGdldENhdGVnb3JpZXMoKSB7XG4gICAgIHJldHVybiAkcS53aGVuKF9kYi5nZXQoJ2NhdGVnb3JpZXMtbGlzdCcpKTtcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVDYXRlZ29yaWVzKGNhdGVnb3JpZXMpIHtcbiAgICAgZ2V0Q2F0ZWdvcmllcygpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgIGNhdGVnb3JpZXMuX3JldiA9IGRvYy5fcmV2O1xuICAgICAgIHJldHVybiAkcS53aGVuKF9kYi5wdXQoY2F0ZWdvcmllcykpO1xuICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgY2F0ZWdvcmllcy5faWQgPSBcImNhdGVnb3JpZXMtbGlzdFwiO1xuICAgICAgIHJldHVybiAkcS53aGVuKF9kYi5wdXQoY2F0ZWdvcmllcykpO1xuICAgICB9KVxuICAgfTtcblxuICBmdW5jdGlvbiBnZXRSZXBvcnQocmVwb3J0SWQpIHtcbiAgICAgcmV0dXJuICRxLndoZW4oX2RiLmdldChyZXBvcnRJZCkpO1xuICB9O1xuXG4gICBmdW5jdGlvbiBnZXRBbGxSZXBvcnRzKCkge1xuICAgICByZXR1cm4gJHEud2hlbihfZGIuYWxsRG9jcyh7XG4gICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICBhdHRhY2htZW50czogZmFsc2UsXG4gICAgICBzdGFydGtleTogJ3JlcG9ydCcsXG4gICAgICBlbmRrZXk6ICdyZXBvcnRfJ1xuICAgICB9KSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZGVsZXRlUmVwb3J0KHJlcG9ydF9pZCkge1xuICAgICRxLndoZW4oZGIuZ2V0KHJlcG9ydF9pZCkpLnRoZW4oZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gJHEud2hlbihfZGIucmVtb3ZlKGRvYykpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGRlbGV0ZUdpdmVuUmVwb3J0KHJlcG9ydCkge1xuICAgIHJldHVybiAkcS53aGVuKF9kYi5yZW1vdmUocmVwb3J0KSk7XG4gIH07XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdFcnJvclNlcnZpY2UnLCBbJyRodHRwJywnJGlvbmljUG9wdXAnLCAnVmFsaWRhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwkaW9uaWNQb3B1cCxWYWxpZGF0aW9uU2VydmljZSkge1xuXG4gIHJldHVybiB7XG4gICAgaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsOiBmdW5jdGlvbiAoanNvblJlc3VsdCwgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsganNvblJlc3VsdC5kYXRhLm1lc3NhZ2UgKyBcIjwvaDM+XCI7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheDogZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cDogZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICB0ZW1wbGF0ZToganNvblJlc3VsdC5kYXRhLm1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsOiBmdW5jdGlvbiAoZGF0YSwgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICBpZihkYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIGRhdGEubWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXg6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZihkYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2hvd19lcnJvcl9tZXNzYWdlOiBmdW5jdGlvbiAoZXJyb3JDb250YWluZXJJZCwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckNvbnRhaW5lcklkKTtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsgbWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBzaG93X2Vycm9yX21lc3NhZ2VfcG9wdXA6IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgIHRlbXBsYXRlOiBtZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBjaGVja19maWVsZHM6IGZ1bmN0aW9uIChmaWVsZHMsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvcnMgPSBcIlwiO1xuICAgICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJub3ROdWxsXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIHB1ZWRlIGVzdGFyIHZhY8Otby48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiZW1haWxcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VtYWlsKGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgZGlyZWNjacOzbiBkZSBjb3JyZW8gdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiaWRkb2NfdXlcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgY8OpZHVsYSB1cnVndWF5YSB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJ0d29fd29yZHNcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX3R3b193b3JkcyhmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgZGViZSBjb250ZW5lciBhbCBtZW5vcyBkb3MgcGFsYWJyYXMuPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cImVxdWFsc1RvXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9lcXVhbHNUbyhmaWVsZC52YWx1ZSwgZmllbGQuc2Vjb25kVmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBMb3MgY2FtcG9zIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gY29pbmNpZGVuLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYoZXJyb3JzID09XCJcIil7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9IGVycm9ycztcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnRmFxU2VydmljZScsIFsnJGh0dHAnLCAnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9mYXFcIjtcblxuICByZXR1cm4ge1xuICAgIGFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMLCB7IHBhcmFtczogeyBhamF4OiBcIjFcIiB9IH0pO1xuICAgIH1cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdMb2FkZXInLCBbJyRpb25pY0xvYWRpbmcnLCAnJHRpbWVvdXQnLCckaW9uaWNQb3B1cCcsZnVuY3Rpb24oJGlvbmljTG9hZGluZywkdGltZW91dCwkaW9uaWNQb3B1cCkge1xuXG4gIHZhciBMT0FERVJBUEkgPSB7XG5cbiAgICBzaG93TG9hZGluZzogZnVuY3Rpb24odGV4dCkge1xuICAgICAgdGV4dCA9IHRleHQgfHwgJ0xvYWRpbmcuLi4nO1xuICAgICAgJGlvbmljTG9hZGluZy5zaG93KHtcbiAgICAgICAgdGVtcGxhdGU6IHRleHRcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBoaWRlTG9hZGluZzogZnVuY3Rpb24oKSB7XG4gICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICB9LFxuXG4gICAgdG9nZ2xlTG9hZGluZ1dpdGhNZXNzYWdlOiBmdW5jdGlvbih0ZXh0LCB0aW1lb3V0KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHNlbGYuc2hvd0xvYWRpbmcodGV4dCk7XG5cbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmhpZGVMb2FkaW5nKCk7XG4gICAgICB9LCB0aW1lb3V0IHx8IDMwMDApO1xuICAgIH0sXG5cbiAgICBjb25maXJtUG9wdXA6ZnVuY3Rpb24odGl0bGUsdGV4dCl7XG4gICAgICB2YXIgY29uZmlybVBvcHVwID0gJGlvbmljUG9wdXAuY29uZmlybSh7XG4gICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgdGVtcGxhdGU6IHRleHRcbiAgIH0pO1xuICAgcmV0dXJuIGNvbmZpcm1Qb3B1cDtcbiB9LFxuXG5cbiAgICBzaG93QWxlcnQ6ZnVuY3Rpb24oX3RpdGxlLF90ZW1wbGF0ZSkge1xuICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgIHRpdGxlOiBfdGl0bGUsXG4gICAgICAgIHRlbXBsYXRlOiBfdGVtcGxhdGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFsZXJ0UG9wdXA7XG4gfVxuXG4gIH07XG4gIHJldHVybiBMT0FERVJBUEk7XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTG9jYXRpb25zU2VydmljZScsIFsgZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGxvY2F0aW9uc09iaiA9IHt9O1xuICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sYXQgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sbmcgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmoubmV3X3JlcG9ydF9sYXQgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmoubmV3X3JlcG9ydF9sbmcgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmouY291bmNpbF9tb2RhbCA9IG51bGw7XG4gIGxvY2F0aW9uc09iai5zZWxlY3RlZF9jb3VuY2lsID0gbnVsbDtcblxuICBsb2NhdGlvbnNPYmouc2VsZWN0Q291bmNpbCA9IGZ1bmN0aW9uKGNvdW5jaWxOYW1lKSB7XG4gICAgbG9jYXRpb25zT2JqLnNlbGVjdGVkX2NvdW5jaWwgPSAgY291bmNpbE5hbWU7XG4gIH1cblxuICBsb2NhdGlvbnNPYmouc2F2ZV9pbml0aWFsX3Bvc2l0aW9uID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sYXQgPSAgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICAgIGxvY2F0aW9uc09iai5pbml0aWFsX2xuZyA9ICBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICB9XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVfbmV3X3JlcG9ydF9wb3NpdGlvbiA9IGZ1bmN0aW9uKGxhdCxsbmcpe1xuICAgIGxvY2F0aW9uc09iai5uZXdfcmVwb3J0X2xhdCA9IGxhdDtcbiAgICBsb2NhdGlvbnNPYmoubmV3X3JlcG9ydF9sbmcgPSBsbmc7XG4gICAgbG9jYXRpb25zT2JqLmluaXRpYWxfbGF0ID0gIGxhdDtcbiAgICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sbmcgPSAgbG5nO1xuICB9XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVkTG9jYXRpb25zID0gW107XG5cbiAgcmV0dXJuIGxvY2F0aW9uc09iajtcblxufV0pO1xuIiwiIC8vcG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01hcFNlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuIHBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNYXBTZXJ2aWNlJywgWydsZWFmbGV0RGF0YScsICckY29tcGlsZScsIGZ1bmN0aW9uKGxlYWZsZXREYXRhLCAkY29tcGlsZSkge1xuXG4gICAvL0RlZmluaWNpb24gZGUgbGEgcHJveWVjY2Npb24gVVRNIDIxIHNcbiAgIHByb2o0LmRlZnMoJ0VQU0c6MzI3MjEnLCAnK3Byb2o9dXRtICt6b25lPTIxICtzb3V0aCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1tICtub19kZWZzJyk7XG5cblxuICAgdmFyIG1hcFNlcnZpY2UgPSB7fTtcblxuICAgbWFwU2VydmljZS5nb1RvUGxhY2UgPSBmdW5jdGlvbihuYW1lLGxhdCxsb24sc2NvcGUpIHtcbiAgICB2YXIgX2dlb0pzb24gPSB7XG4gICAgICAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgICAgICAgICAgIFwiY3JzXCI6IHsgXCJ0eXBlXCI6IFwibmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogJ3VybjpvZ2M6ZGVmOmNyczpFUFNHOjozMjcyMSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXCJmZWF0dXJlc1wiOiBbXG4gICAgICAgICAgICAgICAgeyBcInR5cGVcIjogXCJGZWF0dXJlXCIsXG4gICAgICAgICAgICAgICAgXCJnZW9tZXRyeVwiOntcbiAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6XCJQb2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6W2xhdCxsb25dXG4gICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjp7XG4gICAgICAgICAgICAgICAgICAgICAgXCJub21icmVcIjogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9O1xuICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgdmFyIF9sYXRsbmc7XG4gICAgICAgdmFyIGxheWVyID0gTC5Qcm9qLmdlb0pzb24oX2dlb0pzb24sIHtcbiAgICAgICAgICdwb2ludFRvTGF5ZXInOiBmdW5jdGlvbihmZWF0dXJlLCBsYXRsbmcpIHtcbiAgICAgICAgICAgX2xhdGxuZyA9IGxhdGxuZztcbiAgICAgICAgICAgdmFyIGh0bWxQb3BVcCA9IFwiPHAgYWxpZ249J2NlbnRlcic+XCIrZmVhdHVyZS5wcm9wZXJ0aWVzLm5vbWJyZStcIiA8YnIvPiA8YSBuZy1jbGljaz0nbmV3X3JlcG9ydF9mcm9tX2xhdGxvbihcIitfbGF0bG5nLmxhdCtcIixcIitfbGF0bG5nLmxuZytcIik7Jz5JbmljaWFyIHJlcG9ydGUgYXF1w608L2E+PC9wPlwiO1xuICAgICAgICAgICB2YXIgY29tcGlsZWQgPSAkY29tcGlsZShodG1sUG9wVXApKHNjb3BlKTtcbiAgICAgICAgICAgcmV0dXJuIEwubWFya2VyKGxhdGxuZykuYmluZFBvcHVwKGNvbXBpbGVkWzBdKTtcbiAgICAgICAgIH1cbiAgICAgICB9KTtcblxuICAgICAgIGxheWVyLmFkZFRvKG1hcCk7XG4gICAgICAgbWFwLnNldFZpZXcoX2xhdGxuZywgMTgpO1xuICAgICAgIGxheWVyLm9wZW5Qb3B1cCgpO1xuICAgICB9KTtcbiAgIH07XG5cbiAgbWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcyA9IGZ1bmN0aW9uKGxhdCxsbmcsem9vbSkge1xuICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBtYXAuc2V0VmlldyhuZXcgTC5MYXRMbmcobGF0LCBsbmcpLHpvb20pO1xuICAgICAgIH0pO1xuICAgICB9XG5cbiAgIHJldHVybiBtYXBTZXJ2aWNlO1xuXG4gfV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01vZGFsU2VydmljZScsIFsgZnVuY3Rpb24oKSB7XG5cbiAgdmFyIG1vZGFsT0JKID0ge307XG4gIG1vZGFsT0JKLmFjdGl2ZU1vZGFsID0gbnVsbDtcblxuICBtb2RhbE9CSi5jaGVja05vTW9kYWxJc09wZW4gPSBmdW5jdGlvbigpIHtcbiAgICBpZihtb2RhbE9CSi5hY3RpdmVNb2RhbCl7XG4gICAgICBtb2RhbE9CSi5hY3RpdmVNb2RhbC5oaWRlKCk7XG4gICAgICBtb2RhbE9CSi5hY3RpdmVNb2RhbC5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbW9kYWxPQko7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdQTUJTZXJ2aWNlJywgWyckaHR0cCcsICdsZWFmbGV0RGF0YScsICckY29yZG92YUZpbGVUcmFuc2ZlcicsICdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIGxlYWZsZXREYXRhLCAkY29yZG92YUZpbGVUcmFuc2ZlcixDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2UgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkw7XG5cbiAgdmFyIFBNQlNlcnZpY2UgPSB7XG5cbiAgICByZXBvcnQ6IGZ1bmN0aW9uKGZvcm0pIHtcbiAgICAgIGNvbnNvbGUubG9nKGZvcm0pO1xuICAgICAgaWYgKGZvcm0uZmlsZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIGZpbGVOYW1lOiBcImltYWdlLmpwZWdcIixcbiAgICAgICAgIGNodW5rZWRNb2RlOiBmYWxzZSxcbiAgICAgICAgIG1pbWVUeXBlOiBcImltYWdlL2pwZWdcIixcbiAgICAgICAgIHBhcmFtcyA6IGZvcm0sXG4gICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUgXG4gICAgICAgIH07XG4gICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICBDb25uZWN0aW9uOiBcIkNsb3NlXCJcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRydXN0QWxsSG9zdHMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gJGNvcmRvdmFGaWxlVHJhbnNmZXIudXBsb2FkKGJhc2UgKyAnL3JlcG9ydC9uZXcvbW9iaWxlJywgZm9ybS5maWxlLCBvcHRpb25zLCB0cnVzdEFsbEhvc3RzKTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2UgKyAnL3JlcG9ydC9uZXcvbW9iaWxlJywgeyBwYXJhbXM6IGZvcm0gfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN1YnNjcmliZTogZnVuY3Rpb24gKGVtYWlsLHJlcG9ydF9pZCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlICsgXCIvYWxlcnQvc3Vic2NyaWJlX2FqYXhcIiwgeyBwYXJhbXM6IHsgcnpudnk6IGVtYWlsLCBpZDogcmVwb3J0X2lkLCB0eXBlOiBcInVwZGF0ZXNcIiB9IH0pO1xuICAgIH0sXG5cbiAgICBhYnVzZTogZnVuY3Rpb24gKGVtYWlsLHJlcG9ydF9pZCwgbmFtZSwgc3ViamVjdCwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlICsgXCIvY29udGFjdC9zdWJtaXRfYWpheFwiLCB7IHBhcmFtczogeyBlbTogZW1haWwsIGlkOiByZXBvcnRfaWQsIG5hbWU6IG5hbWUsIHN1YmplY3Q6IHN1YmplY3QsIG1lc3NhZ2U6IG1lc3NhZ2UgfSB9KTtcbiAgICB9LFxuXG4gICAgaGlkZTogZnVuY3Rpb24gKHJlcG9ydF9pZCkge1xuICAgICAgdmFyIGRlbGV0ZVVSTCA9IFwiL3JlcG9ydC9kZWxldGVfYWpheC9cIiArIHJlcG9ydF9pZDtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZSArIGRlbGV0ZVVSTCwgeyBwYXJhbXM6IHt9IH0pO1xuICAgIH0sXG5cbiAgICBjb21tZW50OiBmdW5jdGlvbiAoY29tbWVudCkge1xuICAgICAgaWYoY29tbWVudC5maXhlZD09MCl7XG4gICAgICAgIGRlbGV0ZSBjb21tZW50LmZpeGVkO1xuICAgICAgfVxuICAgICAgaWYoY29tbWVudC5zdGF0ZT09bnVsbCl7XG4gICAgICAgIGRlbGV0ZSBjb21tZW50LnN0YXRlO1xuICAgICAgfVxuICAgICAgaWYoY29tbWVudC5uZXdfY2F0ZWdvcnk9PW51bGwpe1xuICAgICAgICBkZWxldGUgY29tbWVudC5uZXdfY2F0ZWdvcnk7XG4gICAgICB9XG4gICAgICBpZiAoY29tbWVudC5waG90bykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIGZpbGVOYW1lOiBcImltYWdlLmpwZWdcIixcbiAgICAgICAgIGNodW5rZWRNb2RlOiBmYWxzZSxcbiAgICAgICAgIG1pbWVUeXBlOiBcImltYWdlL2pwZWdcIixcbiAgICAgICAgIHBhcmFtcyA6IGNvbW1lbnQsXG4gICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgIENvbm5lY3Rpb246IFwiQ2xvc2VcIlxuICAgICAgICB9O1xuICAgICAgICB2YXIgdHJ1c3RBbGxIb3N0cyA9IHRydWU7XG4gICAgICAgIHJldHVybiAkY29yZG92YUZpbGVUcmFuc2Zlci51cGxvYWQoYmFzZSArICcvcmVwb3J0L3VwZGF0ZScsIGNvbW1lbnQucGhvdG8sIG9wdGlvbnMsIHRydXN0QWxsSG9zdHMpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZSArICcvcmVwb3J0L3VwZGF0ZScsIHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlLCBwYXJhbXM6IGNvbW1lbnQgfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgZ2V0QXJlYXM6IGZ1bmN0aW9uIChsb24sbGF0KSB7XG4gICAgIHZhciBtYXBpdFVSTCA9IFwiaHR0cDovL21hcGl0LnBvcm1pYmFycmlvLnV5L3BvaW50LzQzMjYvXCIrbG9uK1wiLFwiK2xhdCtcIlwiO1xuICAgICByZXR1cm4gJGh0dHAuZ2V0KG1hcGl0VVJMLCB7IHBhcmFtczoge30gfSk7XG4gICB9LFxuXG4gIH07XG4gIHJldHVybiBQTUJTZXJ2aWNlO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnUG9wVXBTZXJ2aWNlJywgWyckaW9uaWNQb3B1cCcsJ1ZhbGlkYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oJGlvbmljUG9wdXAsVmFsaWRhdGlvblNlcnZpY2UpIHtcblxuICByZXR1cm4ge1xuICAgIHNob3dfYWxlcnQ6IGZ1bmN0aW9uIChhbGVydF90aXRsZSxhbGVydF9tZXNzYWdlKSB7XG4gICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgdGl0bGU6IGFsZXJ0X3RpdGxlLFxuICAgICAgICAgdGVtcGxhdGU6IGFsZXJ0X21lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgIGNvbmZpcm1Qb3B1cDogZnVuY3Rpb24odGl0bGUsdGV4dCl7XG4gICAgIHZhciBjb25maXJtUG9wdXAgPSAkaW9uaWNQb3B1cC5jb25maXJtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgIHJldHVybiBjb25maXJtUG9wdXA7XG4gICB9LFxuXG4gICBhc2tGb3JPbmVWYWx1ZVBvcFVwOiBmdW5jdGlvbihzY29wZSx0aXRsZSx0ZXh0LGZpZWxkX25hbWUsdmFsaWRhdGlvblR5cGUpe1xuICAgICAgJHNjb3BlID0gc2NvcGU7XG4gICAgICB2YXIgbXlQb3B1cCA9ICRpb25pY1BvcHVwLnNob3coe1xuICAgICAgdGVtcGxhdGU6IGZpZWxkX25hbWUgKyAnOiA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cIm9uZV92YWx1ZV9wb3B1cFwiPjxkaXYgaWQ9XCJlcnJvcl9jb250YWluZXJfaW5zaWRlXCI+PC9kaXY+JyxcbiAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgIHN1YlRpdGxlOiB0ZXh0LFxuICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgeyB0ZXh0OiAnQ2FuY2VsYXInIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0ZXh0OiAnPGI+RW52aWFyPC9iPicsXG4gICAgICAgICAgdHlwZTogJ2J1dHRvbi1wb3NpdGl2ZScsXG4gICAgICAgICAgb25UYXA6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBlcnJvcnMgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvbmVfdmFsdWVfcG9wdXBcIikudmFsdWU7XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJub3ROdWxsXCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfbm90X2VtcHR5KHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gcHVlZGUgZXN0YXIgdmFjw61vLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwiZW1haWxcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9lbWFpbCh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIG5vIGVzIHVuYSBkaXJlY2Npw7NuIGRlIGNvcnJlbyB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwiaWRkb2NfdXlcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9pZGRvY191eSh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIG5vIGVzIHVuYSBjw6lkdWxhIHVydWd1YXlhIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJ0d29fd29yZHNcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV90d29fd29yZHModmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBkZWJlIGNvbnRlbmVyIGFsIG1lbm9zIGRvcyBwYWxhYnJhcy48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGVycm9ycyE9XCJcIil7XG4gICAgICAgICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JfY29udGFpbmVyX2luc2lkZVwiKTtcbiAgICAgICAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPSBlcnJvcnM7XG4gICAgICAgICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgIC8vZG9uJ3QgYWxsb3cgdGhlIHVzZXIgdG8gY2xvc2UgdW5sZXNzIGhlIGVudGVycyB3aWZpIHBhc3N3b3JkXG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KTtcbiAgICByZXR1cm4gbXlQb3B1cDtcbiAgIH1cblxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnUmVwb3J0U2VydmljZScsIFsnJGh0dHAnLCAnbGVhZmxldERhdGEnLCdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIGxlYWZsZXREYXRhLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9yZXBvcnQvYWpheC9cIjtcblxuICB2YXIgcGluc1VSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FqYXhfZ2VvP2Jib3g9LTY1LjE5OTM4NywtNDAuOTMyMTc4LC01MC4xNjg0ODgsLTI1Ljg4NzA2MVwiO1xuICAvL3ZhciBwaW5zVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYXBpL2dlb19yZXBvcnRzP2FwaV9rZXk9MTIzNFwiO1xuXG5cblxuICAvKipcbiAgICogQ29uc3RydWN0b3IsIHdpdGggY2xhc3MgbmFtZVxuICAgKi9cbiAgZnVuY3Rpb24gUmVwb3J0KF9kYXRhKSB7XG4gICAgYW5ndWxhci5leHRlbmQodGhpcywgX2RhdGEpO1xuICB9XG5cbiAgUmVwb3J0LmdldEJ5SWQgPSBmdW5jdGlvbihpZCl7XG4gICAgdmFyIHVybCA9IGJhc2VVUkwgKyBpZDtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9XG5cbiAgUmVwb3J0LmdldEFsbCA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuICRodHRwLmdldChwaW5zVVJMLCB7IHBhcmFtczoge319KTtcbiAgfVxuXG4gIFJlcG9ydC5fZGVmYXVsdCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIF9kYXRhID0ge1xuICAgICAgbGF0OiAwLFxuICAgICAgbG9uOiAwLFxuICAgICAgdGl0bGU6IG51bGwsXG4gICAgICBkZXRhaWw6IG51bGwsXG4gICAgICBtYXlfc2hvd19uYW1lOiAxLFxuICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICBwaG9uZTogbnVsbCxcbiAgICAgIHBjOiAnJyxcbiAgICAgIGZpbGU6IG51bGwsXG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgZW1haWw6IG51bGwsXG4gICAgICBzdWJtaXRfc2lnbl9pbjogMSxcbiAgICAgIHBhc3N3b3JkX3NpZ25faW46IG51bGwsXG4gICAgICByZW1lbWJlcl9tZToxXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IFJlcG9ydChfZGF0YSk7XG4gIH07XG4gICAgUmVwb3J0Ll9hbGwgPSBbXTtcbiAgICBSZXBvcnQuY3VycmVudCA9IHt9O1xuICAgIFJlcG9ydC5fbmV3ID0gZnVuY3Rpb24oKXtcbiAgICAgIC8qUmVwb3J0LmN1cnJlbnQgPSBSZXBvcnQuX2RlZmF1bHQoKTtcbiAgICAgIHJldHVybiBSZXBvcnQuY3VycmVudDsqL1xuICAgICAgcmV0dXJuIFJlcG9ydC5fZGVmYXVsdCgpO1xuICAgIH07XG5cblxuXG4gICAgLyoqXG4gICAgICogU3RhdGljIG1ldGhvZCwgYXNzaWduZWQgdG8gY2xhc3NcbiAgICAgKiBJbnN0YW5jZSAoJ3RoaXMnKSBpcyBub3QgYXZhaWxhYmxlIGluIHN0YXRpYyBjb250ZXh0XG4gICAgICovXG4gICAgUmVwb3J0LmJ1aWxkID0gZnVuY3Rpb24oX2RhdGEpIHtcblxuICAgICAgcmV0dXJuIG5ldyBSZXBvcnQoXG4gICAgICAgIF9kYXRhXG4gICAgICApO1xuICAgIH07XG5cbiAgICBSZXBvcnQucHJvdG90eXBlLnNldExhdExuZyA9IGZ1bmN0aW9uIChsYXRsbmcpIHtcblxuICAgICAgdGhpcy5sYXQgPSBsYXRsbmcubGF0O1xuICAgICAgdGhpcy5sb24gPSBsYXRsbmcubG5nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG4gICAgICovXG4gICAgcmV0dXJuIFJlcG9ydDtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ2xvY2F0aW9uQVBJJywgWyckaHR0cCcsICckcScsICdBcGlJbUVuZHBvaW50JywgJ0FwaURhdGFFbmRwb2ludCcsICdDb25maWdTZXJ2aWNlJywgJ0xvY2F0aW9uc1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgJHEsIEFwaUltRW5kcG9pbnQsIEFwaURhdGFFbmRwb2ludCwgQ29uZmlnU2VydmljZSwgTG9jYXRpb25zU2VydmljZSkge1xuXG4gIHZhciByZXN0UHJlZmZpeCA9IFwidWJpY2FjaW9uZXNSZXN0UHJvZFwiO1xuXG5cbiAgdmFyIGxvY2F0aW9uQVBJID0ge307XG5cbiAgbG9jYXRpb25BUEkuc2VhcmNoTG9jYXRpb25CeVN0ciA9IGZ1bmN0aW9uKF9sb2NhdGlvbikge1xuICAgIC8qcmV0dXJuICRodHRwLmdldChBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgJy9jYWxsZXMnLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIG5vbWJyZTogX2xvY2F0aW9uXG4gICAgICB9XG4gICAgfSk7Ki9cbiAgICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FqYXgvZ2VvY29kZT90ZXJtPVwiICsgTG9jYXRpb25zU2VydmljZS5zZWxlY3RlZF9jb3VuY2lsICsgXCIsXCIgKyBfbG9jYXRpb247XG4gICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGFyYW1zOiB7fVxuICAgIH0pO1xuICB9O1xuXG5cbiAgbG9jYXRpb25BUEkuc2VhcmNoRXNxdWluYUJ5U3RyID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcInNlYXJjaEVzcXVpbmFCeVN0ciA9IFwiICsgSlNPTi5zdHJpbmdpZnkoX2xvY2F0aW9uKSk7XG4gICAgLy9yZXR1cm4gJGh0dHAuZ2V0KEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyAnL2VzcXVpbmEvJyArIF9sb2NhdGlvbi5jYWxsZSArICcvJyArIF9sb2NhdGlvbi5lc3F1aW5hLCB7XG4gICAgICAvKnJldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvY3J1Y2VzLycgKyBfbG9jYXRpb24uY2FsbGUgKyAnLycsXG4gICAgICB7XG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIG5vbWJyZTogX2xvY2F0aW9uLmVzcXVpbmFcbiAgICAgICAgfVxuICAgICAgfSk7Ki9cblxuICAgICAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hamF4L2dlb2NvZGU/dGVybT1cIiArIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0ZWRfY291bmNpbCArIFwiLFwiXG4gICAgICAgICAgICAgICAgICAgICsgX2xvY2F0aW9uLmNhbGxlICsgXCIsXCIgKyBfbG9jYXRpb24uZXNxdWluYTtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCwge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXJhbXM6IHt9XG4gICAgICB9KTtcbiAgfTtcblxuICBsb2NhdGlvbkFQSS5nZXRMb2NhdGlvbkdlb20gPSBmdW5jdGlvbihfbG9jYXRpb24pIHtcbiAgICB2YXIgdXJsID0gQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArIGxvY2F0aW9uQVBJLmdldFBhcmFtUGF0aEJ5VGlwbyhfbG9jYXRpb24udGlwbyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfbG9jYXRpb24ucGF0aFBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgdXJsICs9ICcvJyArIF9sb2NhdGlvbi5wYXRoUGFyYW1zW2ldO1xuICAgIH1cbiAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSk7XG4gIH07XG5cbiAgbG9jYXRpb25BUEkuZ2V0TG9jYXRpb25HZW9tUE1CID0gZnVuY3Rpb24oY2FsbGUsZXNxdWluYV9udW1lcm8sdGlwbykge1xuICAgIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYWpheC9nZW9jb2RlP3Rlcm09XCIgKyBMb2NhdGlvbnNTZXJ2aWNlLnNlbGVjdGVkX2NvdW5jaWwgKyBcIixcIlxuICAgICAgICAgICAgICArIGNhbGxlICsgXCIsXCIgKyBlc3F1aW5hX251bWVybyArIFwiLFwiICsgdGlwbztcblxuICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCk7XG5cbiAgfTtcblxuICBsb2NhdGlvbkFQSS5nZXRQYXJhbVBhdGhCeVRpcG8gPSBmdW5jdGlvbihfdGlwbykge1xuXG4gICAgdmFyIHJlc3RHZW9EYXRhU2VydmljZVBhdGggPSB7XG4gICAgICAnRVNRVUlOQSc6XCIvZXNxdWluYVwiLFxuICAgICAgJ0RJUkVDQ0lPTic6XCIvZGlyZWNjaW9uXCJcbiAgICB9O1xuXG4gICAgcmV0dXJuIHJlc3RHZW9EYXRhU2VydmljZVBhdGhbX3RpcG9dO1xuXG5cbiAgfTtcblxuICByZXR1cm4gbG9jYXRpb25BUEk7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdfJywgW2Z1bmN0aW9uKCkge1xuICByZXR1cm4gd2luZG93Ll87IC8vVW5kZXJzY29yZSBtdXN0IGFscmVhZHkgYmUgbG9hZGVkIG9uIHRoZSBwYWdlXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnVXNlclNlcnZpY2UnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcblxuICAvL3ZhciBiYXNlVVJMID0gXCJodHRwOi8vcG1idXkuZGV2ZWxvcG1lbnQuZGF0YXV5Lm9yZy9hdXRoL2FqYXgvXCI7XG4gIHZhciBVc2VyT2JqID0ge307XG4gIFVzZXJPYmoubmFtZSA9IG51bGw7XG4gIFVzZXJPYmouZW1haWwgPSBudWxsO1xuICBVc2VyT2JqLnBhc3N3b3JkID0gbnVsbDtcbiAgVXNlck9iai5pZGVudGl0eV9kb2N1bWVudCA9IG51bGw7XG4gIFVzZXJPYmoucGhvbmUgPSAnJztcbiAgVXNlck9iai5waWN0dXJlX3VybCA9IFwidXJsKC4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nKVwiO1xuICBVc2VyT2JqLmZyb21fYm9keSA9IG51bGw7XG5cblxuICBVc2VyT2JqLnNhdmVfdXNlcl9kYXRhID0gZnVuY3Rpb24gKHVzZXJfbmFtZSwgdXNlcl9lbWFpbCwgdXNlcl9wYXNzd29yZCwgdXNlcl9pZF9kb2MsIHVzZXJfcGhvbmUsIHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICAgIFVzZXJPYmoubmFtZSA9IHVzZXJfbmFtZTtcbiAgICAgIFVzZXJPYmouZW1haWwgPSB1c2VyX2VtYWlsO1xuICAgICAgVXNlck9iai5wYXNzd29yZCA9IHVzZXJfcGFzc3dvcmQ7XG4gICAgICBVc2VyT2JqLmlkZW50aXR5X2RvY3VtZW50ID0gdXNlcl9pZF9kb2M7XG4gICAgICBVc2VyT2JqLnBob25lID0gdXNlcl9waG9uZTtcbiAgICAgIFVzZXJPYmoucGljdHVyZV91cmwgPSB1c2VyX3BpY3R1cmVfdXJsO1xuICAgICAgLy9TQVZFIElOIFBPVUNIREJcbiAgfVxuXG4gIFVzZXJPYmouZXJhc2VfdXNlcl9kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIFVzZXJPYmoubmFtZSA9IG51bGw7XG4gICAgVXNlck9iai5lbWFpbCA9IG51bGw7XG4gICAgVXNlck9iai5wYXNzd29yZCA9IG51bGw7XG4gICAgVXNlck9iai5pZGVudGl0eV9kb2N1bWVudCA9IG51bGw7XG4gICAgVXNlck9iai5waG9uZSA9IG51bGw7XG4gICAgVXNlck9iai5waWN0dXJlX3VybCA9IG51bGw7XG4gICAgLy9ERUxFVEUgSU4gUE9VQ0hEQlxuICB9XG5cbiAgVXNlck9iai5nZXRfdXNlcl9kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIC8vTEVWQU5UQSBERSBQT1VDSERCIExPUyBEQVRPUyBERUwgVVNVQVJJTy4gU0kgSEFZIExPUyBQT05FIEVOIExBUyBWQVJJQUJMRVMgREVMIFNFUlZJQ0lPLiBTSSBOTyBIQVkgUE9ORSBUT0RPIE5VTExcbiAgfVxuXG4gIFVzZXJPYmouYWRkX3Bob3RvID0gZnVuY3Rpb24gKHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gdXNlcl9waWN0dXJlX3VybDtcbiAgfVxuXG4gIFVzZXJPYmouaXNMb2dnZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYoVXNlck9iai5uYW1lIT1udWxsICYmIFVzZXJPYmoubmFtZSE9XCJcIil7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuXG4gIHJldHVybiBVc2VyT2JqO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnVmFsaWRhdGlvblNlcnZpY2UnLCBbJyRodHRwJywnJGlvbmljUG9wdXAnLCBmdW5jdGlvbigkaHR0cCwkaW9uaWNQb3B1cCkge1xuXG4gIHJldHVybiB7XG4gICAgdmFsaWRhdGVfbm90X2VtcHR5OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfdHdvX3dvcmRzOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhciB2YWx1ZXMgPSB2YWx1ZS5zcGxpdCgnICcpLmZpbHRlcihmdW5jdGlvbih2KXtyZXR1cm4gdiE9PScnfSk7XG4gICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIC8vdHdvIG9yIG1vcmUgd29yZHNcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy9ub3QgZW5vdWdoIHdvcmRzXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV9lcXVhbHNUbzogZnVuY3Rpb24gKHZhbHVlLHNlY29uZFZhbHVlKSB7XG4gICAgICBpZih2YWx1ZT09c2Vjb25kVmFsdWUpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2VtYWlsOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhciByZSA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICAgICAgICAgIHJldHVybiByZS50ZXN0KHZhbHVlKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2lkZG9jX3V5OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgICAgICAgdmFyIGRpZyA9IHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIHZhciBhID0gMDsgdmFyIGkgPSAwO1xuICAgICAgICAgIGlmKHZhbHVlLmxlbmd0aCA8PSA2KXtcbiAgICAgICAgICAgIGZvcihpID0gdmFsdWUubGVuZ3RoOyBpIDwgNzsgaSsrKXtcbiAgICAgICAgICAgICAgdmFsdWUgPSAnMCcgKyB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yKGkgPSAwOyBpIDwgNzsgaSsrKXtcbiAgICAgICAgICAgIGEgKz0gKHBhcnNlSW50KFwiMjk4NzYzNFwiW2ldKSAqIHBhcnNlSW50KHZhbHVlW2ldKSkgJSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICBpZihhJTEwID09PSAwKXtcbiAgICAgICAgICAgIHJlc3VsdCA9IDA7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXN1bHQgPSAxMCAtIGEgJSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoZGlnID09IHJlc3VsdCl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dKTtcbiJdfQ==
