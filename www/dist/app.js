window.VERSION = "1.0.2";var pmb_im={controllers:angular.module("pmb_im.controllers",[]),services:angular.module("pmb_im.services",[])};pmb_im.app=angular.module("pmb_im",["ionic","ionic.wizard","ion-autocomplete","leaflet-directive","pmb_im.controllers","pmb_im.services","ngCordova"]).constant("ApiImEndpoint",{url:"http://www.montevideo.gub.uy"}).constant("ApiDataEndpoint",{url:"/data"}).run(["$ionicPlatform","$rootScope","$cordovaKeyboard","$cordovaNetwork",function(e,t,n,o){t.VERSION=window.VERSION,e.ready(function(){ionic.Platform.isFullScreen=!0;try{cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0)}catch(e){}try{window.Keyboard.hideKeyboardAccessoryBar(!0)}catch(e){}try{Keyboard.hideKeyboardAccessoryBar(!0)}catch(e){}try{StatusBar.hide()}catch(e){}})}]).config(["$stateProvider","$urlRouterProvider","$compileProvider","$ionicConfigProvider",function(e,t,n,o){n.debugInfoEnabled(!1),e.state("app",{cache:!1,url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"MapController"}).state("app.map",{cache:!1,url:"/map/",views:{menuContent:{templateUrl:"templates/map.html",controller:"PMBCtrl"}}}).state("app.intro",{cache:!1,url:"/intro",views:{menuContent:{templateUrl:"templates/intro.html",controller:"IntroCtrl"}}}),t.otherwise("/app/intro")}]),pmb_im.controllers.controller("AutoCompleteCtrl",["$scope","leafletData","locationAPI",function(e,t,n){e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick),e.onClick=function(){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()},e.searchLocation=function(e){if(e)return n.searchLocationByStr(e)}}]),pmb_im.controllers.controller("IntroCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService",function(e,t,n,o,r,a,i,l){document.addEventListener("deviceready",function(){var e=l.initDB();e.info().then(console.log.bind(console))}),e.geolocate=function(){var e={timeout:3500,enableHighAccuracy:!0};n.getCurrentPosition(e).then(function(e){i.save_initial_position(e),t.go("app.map")},function(e){t.go("app.map")})},e.$on("$ionicView.enter",function(){null!=i.council_modal&&(i.council_modal.hide(),i.council_modal.remove()),e.geolocate()})}]),pmb_im.controllers.controller("MapController",["$scope","$sce","_","$cordovaCamera","$cordovaFileTransfer","$cordovaGeolocation","$compile","$state","$stateParams","$ionicModal","$ionicPopup","leafletData","ConfigService","PMBService","LocationsService","ReportService","FaqService","CategoriesService","AuthService","UserService","DBService","$timeout","$location","ErrorService","$ionicSlideBoxDelegate","$ionicScrollDelegate","$cordovaNetwork","PopUpService","$ionicPlatform","ConnectivityService","$cordovaInAppBrowser","$interval","$cordovaKeyboard","MapService","ModalService",function(e,t,n,o,r,a,i,s,c,u,d,p,m,_,f,g,h,y,v,b,w,E,k,B,I,C,M,S,P,R,O,A,N,x,T){e.featureReports={},e.reportsByState={},e.reportsVisible={},e.baseURL=m.baseURL,e.user_cached_image="",e.report_detail_id=null,e.one_value_popup=null,e.abuse_name=null,e.abuse_email=null,e.abuse_subject=null,e.abuse_message=null,e.allCategoriesFromBoyArea=null,e.user_cached_image="./img/icon-user-anonymous.png",document.addEventListener("deviceready",function(){var t=w.initDB();t.info().then(console.log.bind(console)),R.isOnline()?(e.check_user_logged(),e.send_offline_reports()):e.set_offline_user()}),e.wtk_url_fix=function(e){var t=e.replace("file://","");return t},e.$on("$ionicView.beforeEnter",function(){T.checkNoModalIsOpen(),e.set_network_events();A(function(){e.send_offline_reports()},6e4);null!=document.getElementById("foot_bar")&&(document.getElementById("foot_bar").style.display="block"),R.isOnline()?e.create_online_map():e.create_offline_map()}),e.openWebsite=function(e){var t={location:"no",clearcache:"yes",toolbar:"no"};O.open(e,"_blank",t).then(function(e){})["catch"](function(e){})},e.set_network_events=function(){ionic.Platform.isWebView()?(e.$on("$cordovaNetwork:online",function(t,n){e.check_user_logged(),e.send_offline_reports(),e.create_online_map()}),e.$on("$cordovaNetwork:offline",function(t,n){e.create_offline_map(),e.set_offline_user()})):(window.addEventListener("online",function(t){e.check_user_logged(),e.send_offline_reports(),e.create_online_map()},!1),window.addEventListener("offline",function(t){e.create_offline_map(),e.set_offline_user()},!1))},e.send_offline_reports_from_menu=function(){R.isOnline()?(e.send_offline_reports(),e.list_offline_reports()):S.show_alert("Error de conexión","Para poder enviar los reportes pendientes debe estar conectado a internet.")},e.send_offline_reports=function(){if(R.isOnline()){var e=w.getAllReports();e.then(function(e){null!=e&&e.total_rows>0&&e.rows.forEach(function(e){var t=e.doc,n=_.report(t);null==t.file?n.success(function(e,n,o,r){B.http_data_response_is_successful_ajax(e)&&w.deleteReport(t._id)}).error(function(e,t,n,o){}):n.then(function(e){var n=JSON.parse(e.response);B.http_data_response_is_successful_ajax(n)&&w.deleteReport(t._id)},function(e){},function(e){})})})["catch"](function(e){})}},e.send_offline_report=function(e){var t=_.report(e);null==e.file?t.success(function(e,t,n,o){return!!B.http_data_response_is_successful_ajax(e)}).error(function(e,t,n,o){return!1}):t.then(function(e){var t=JSON.parse(e.response);return!!B.http_data_response_is_successful_ajax(t)},function(e){return!1},function(e){})},e.create_offline_map=function(){return null==e.map&&void(e.map={defaults:{tileLayer:"./offline_tiles/{z}/{x}/{y}.png",minZoom:16,maxZoom:16,zoomControlPosition:"topleft"},markers:{},events:{map:{enable:["context"],logic:"emit"}}})},e.create_online_map=function(){return(null==e.map||"./offline_tiles/{z}/{x}/{y}.png"!=e.map.defaults.tileLayer)&&(e.map={defaults:{tileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:12,maxZoom:18,zoomControlPosition:"topleft"},markers:{},events:{map:{enable:["context"],logic:"emit"}},center:{}},e.loadPinsLayer(),""!=f.new_report_lat?e.map.center={lat:f.new_report_lat,lng:f.new_report_lng,zoom:16}:e.map.center={lat:-34.901113,lng:-56.164531,zoom:16},void p.getMap().then(function(t){t.on("moveend",e.hideOffScreenPins)}))};e.new_report_from_latlon=function(t,n){f.new_report_lat=t,f.new_report_lng=n,f.initial_lat=t,f.initial_lng=n,e.new_report(1)},e.new_report=function(t){if(e.set_active_option("button-report"),e.hide_special_divs(),1==t)if(f.initial_lat=f.new_report_lat,f.initial_lng=f.new_report_lat,document.getElementById("spinner").style.display="block",R.isOnline())e.report=g._new(),e.report.lat=f.new_report_lat,e.report.lon=f.new_report_lng,y.all().then(function(t){B.http_response_is_successful_popup(t)?(w.saveCategories(t.data),e.show_report_form(t.data.categories)):document.getElementById("spinner").style.display="none"});else{var n=y.getCachedCategories();n.then(function(t){t&&t.categories&&Object.keys(t.categories).length>0?(e.report=g._new(),e.report.lat=f.new_report_lat,e.report.lon=f.new_report_lng,e.show_report_form(t.categories)):(document.getElementById("spinner").style.display="none",S.show_alert("Primer reporte","La primera vez que realiza un reporte debe encontrarse conectado a internet."))})["catch"](function(e){document.getElementById("spinner").style.display="none",S.show_alert("Primer reporte","La primera vez que realiza un reporte debe encontrarse conectado a internet.")})}else e.addMapControls()},e.editOfflineReport=function(t){e.set_active_option("button-report"),e.hide_special_divs(),document.getElementById("spinner").style.display="block";var n=y.getCachedCategories();n.then(function(n){n&&n.categories&&Object.keys(n.categories).length>0?(e.report=e.offlineReports[t],e.show_offline_report_form(n.categories)):(document.getElementById("spinner").style.display="none",S.show_alert("Primer reporte","La primera vez que realiza un reporte debe encontrarse conectado a internet."))})["catch"](function(e){document.getElementById("spinner").style.display="none",S.show_alert("Primer reporte","La primera vez que realiza un reporte debe encontrarse conectado a internet.")})},e.deleteOfflineReport=function(t){e.hide_special_divs(),document.getElementById("spinner").style.display="block",e.report=e.offlineReports[t],T.checkNoModalIsOpen(),u.fromTemplateUrl("templates/delete-offline-report.html",{scope:e,animation:"slide-in-up"}).then(function(e){T.activeModal=e,document.getElementById("spinner").style.display="none",document.getElementById("foot_bar").style.display="none",T.show()})},e.updateOfflineReport=function(){var t=new Array;t.push(e.create_field_array("Email","email",e.report.email)),t.push(e.create_field_array("Contraseña","notNull",e.report.password_sign_in)),t.push(e.create_field_array("Seleccione una subcategoría","notNull",e.report.category)),t.push(e.create_field_array("Título","notNull",e.report.title)),t.push(e.create_field_array("Detalles","notNull",e.report.detail)),B.check_fields(t,"error_container")?w.updateReport(e.report).then(function(){e.back_to_map(!0),S.show_alert("Envío pendiente","Se han guardado los cambios al reporte. Se enviará cuando utilice esta aplicación conectado a internet"),e.list_reports(),e.offlineReportsMarkers[e.report._id].openPopup()}):e.back_to_map(!1)},e.cleanOfflineMarkers=function(e){e.eachLayer(function(t){"undefined"!=t._url&&null!=t._url||"Reporte pendiente de envío"==t.options.alt&&e.removeLayer(t)})},e.deleteOfflineReportOk=function(){var t=e.report._id;w.deleteGivenReport(e.report).then(function(){var n=e.offlineReportsMarkers[t];p.getMap().then(function(e){e.removeLayer(n)}),e.back_to_map(!0),e.list_reports()})},e.show_report_form=function(t){e.categories=t,document.getElementById("spinner").style.display="none",document.getElementById("foot_bar").style.display="none",T.checkNoModalIsOpen(),b.isLogged()?(e.report.name=b.name,e.report.email=b.email,e.report.password_sign_in=b.password,e.report.phone=b.phone,u.fromTemplateUrl("templates/pmb-wizard.html",{scope:e,animation:"slide-in-up",hardwareBackButtonClose:!1}).then(function(e){T.activeModal=e,T.activeModal.show()})):u.fromTemplateUrl("templates/pmb-wizard-with-login.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){T.activeModal=e,T.activeModal.show()})},e.show_offline_report_form=function(t){e.categories=t,document.getElementById("spinner").style.display="none",document.getElementById("foot_bar").style.display="none";var n="";b.isLogged()?(e.report.name=b.name,e.report.email=b.email,e.report.password_sign_in=b.password,e.report.phone=b.phone,n="templates/pmb-offline-wizard.html"):n="templates/pmb-offline-wizard.html",T.checkNoModalIsOpen(),u.fromTemplateUrl("templates/pmb-offline-wizard.html",{scope:e,animation:"slide-in-up"}).then(function(t){T.activeModal=t,T.activeModal.show().then(function(){var t=e.report.categorygroup,n=angular.element(document.querySelector("#categoriesSelect"));n.val(t),e.update_subcategories();var o=e.report.category,r="#subcategoriesSelect_"+t,a=angular.element(document.querySelector(r));a.val(o)})})},e.update_subcategories=function(){var t=document.getElementsByClassName("subcategory-active");"undefined"!=t&&t.length>0&&(t[0].className="subcategory-hidden");var n=e.report.categorygroup,o=document.getElementById("subcategoriesSelect_"+n);o.className="subcategory-active",document.getElementById("subcategoriesSelectContainer").style.display="block"},e.abuse=function(){var t=d.show({template:'Nombre: <input type="text" id="abuse_name"><br/>Email: <input type="text" id="abuse_email"><br/>Asunto: <input type="text" id="abuse_subject"><br/>Mensaje<textarea rows="6" id="abuse_message"></textarea><div id="error_container_inside"></div>',title:"Denunciar abuso",subTitle:"Estás reportando por abusiva al siguiente reporte, que contiene información personal, o similar:",scope:e,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(t){var n=new Array;return e.abuse_email=document.getElementById("abuse_email").value,e.abuse_name=document.getElementById("abuse_name").value,e.abuse_subject=document.getElementById("abuse_subject").value,e.abuse_message=document.getElementById("abuse_message").value,n.push(e.create_field_array("Nombre","notNull",e.abuse_name)),n.push(e.create_field_array("Email","email",e.abuse_email)),n.push(e.create_field_array("Asunto","notNull",e.abuse_subject)),n.push(e.create_field_array("Mensaje","notNull",e.abuse_message)),B.check_fields(n,"error_container_inside")?e.abuse_email:void t.preventDefault()}}]});t.then(function(t){if(t){var n=_.abuse(e.abuse_email,e.report_detail_id,e.abuse_name,abuse_subject,e.abuse_message);n.then(function(t){S.show_alert("Denuncia enviada","Gracias por tus comentarios. ¡Nos pondremos en contacto con usted tan pronto como nos sea posible!"),e.abuse_name=null,e.abuse_email=null,e.abuse_subject=null,e.abuse_message=null})}})},e.send_comment=function(){var t=new Array;t.push(e.create_field_array("Comentario","notNull",e.comment.update)),B.check_fields(t,"error_container_inside")&&(comment_sent=_.comment(e.comment),null==e.comment.photo?comment_sent.success(function(t,n,o,r){e.back_to_map(!0)}).error(function(t,n,o,r){B.show_error_message("error_container_inside",n),e.back_to_map(!1)}):comment_sent.then(function(t){e.back_to_map(!0)},function(e){},function(t){E(function(){e.uploadProgress=t.loaded/t.total*100,document.getElementById("sent_label").innerHTML="Enviado: "+Math.round(e.uploadProgress)+"%"})}))},e.subscribe=function(){if(b.isLogged()){var t=S.confirmPopup("Subscribirse","¿Está seguro que desea recibir un correo a la dirección "+b.email+" cuando se dejen comentarios sobre este problema?");t.then(function(t){if(t){var n=_.subscribe(b.email,e.report_detail_id);n.then(function(e){S.show_alert("Confirme su correo","Se ha enviado un link a la dirección "+b.email+" para confirmar su correo. Luego de esto comenzarán a llegarle las alertas sobre nuevos comentarios.")})}})}else{var t=S.askForOneValuePopUp(e,"Subscribirse","Por favor, ingrese un correo al que desea recibir mensajes cuando se dejen comentarios sobre este problema.","Email","email");t.then(function(t){if(t){e.one_value_popup=t;var n=_.subscribe(e.one_value_popup,e.report_detail_id);n.then(function(t){S.show_alert("Confirme su correo","Se ha enviado un link a la dirección "+e.one_value_popup+" para confirmar su correo. Luego de esto comenzarán a llegarle las alertas sobre nuevos comentarios."),e.one_value_popup=null})}})}},e.hide=function(){if(b.isLogged()){var t=S.confirmPopup("Ocultar","¿Está seguro de que desea ocultar su reporte? Este no aparecerá más ni en la página ni en la aplicación si es ocultado.");t.then(function(t){if(t){var n=_.hide(e.report_detail_id);n.then(function(e){S.show_alert("Ocultar","Se ha ocultado el reporte. No será visible en el futuro.")})}})}},e.confirmReport=function(){if(R.isOnline()){var t=new Array;if(t.push(e.create_field_array("Seleccione una subcategoría","notNull",e.report.category)),t.push(e.create_field_array("Título","notNull",e.report.title)),t.push(e.create_field_array("Detalles","notNull",e.report.detail)),B.check_fields(t,"error_container")){var n=_.report(e.report);if(document.getElementById("spinner-inside-modal").style.display="block",null==e.report.file)n.success(function(t,n,o,r){B.http_data_response_is_successful(t,"error_container")?(e.back_to_map(!0),e.loadPinsLayer()):e.back_to_map(!1)}).error(function(t,n,o,r){B.show_error_message("error_container",n),e.back_to_map(!1)});else{var o=e.report;n.then(function(t){console.log(t);var n=JSON.parse(t.response);B.http_data_response_is_successful(n,"error_container")?(e.back_to_map(!0),e.loadPinsLayer(),p.getMap().then(function(e){var t=o.lat;t-=6e-4,e.setView(new L.LatLng(t,o.lon),18)})):(console.log(n),e.back_to_map(!1))},function(t){console.log(t),e.back_to_map(!0),e.loadPinsLayer(),p.getMap().then(function(e){var t=o.lat;t-=6e-4,e.setView(new L.LatLng(t,o.lon),18)})},function(e){})}}else e.back_to_map(!1)}else e.save_offline_report().then(function(t){e.back_to_map(!0),e.list_reports(),S.show_alert("Envío pendiente","El reporte se ha guardado en su dispositivo y se enviará cuando utilice esta aplicación conectado a internet")})},e.next=function(){I.next()},e.previous=function(){I.previous()},e.confirmReportWithLogin=function(){if(R.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var t=new Array;t.push(e.create_field_array("Email","email",e.report.email)),t.push(e.create_field_array("Contraseña","notNull",e.report.password_sign_in)),t.push(e.create_field_array("Seleccione una subcategoría","notNull",e.report.category)),t.push(e.create_field_array("Título","notNull",e.report.title)),t.push(e.create_field_array("Detalles","notNull",e.report.detail)),B.check_fields(t,"error_container")?v.sign_in(e.report.password_sign_in,e.report.email).then(function(t){B.http_response_is_successful(t,"error_container")?(b.save_user_data(t.data.name,e.report.email,e.report.password_sign_in,t.data.identity_document,t.data.phone,t.data.picture_url),t.data.from_body&&(b.from_body=t.data.from_body),w.saveUser(t.data.name,e.report.email,e.report.password_sign_in,t.data.identity_document,t.data.phone,t.data.picture_url),e.set_user_picture(1),e.confirmReport()):e.back_to_map(!1)},function(t){B.show_error_message("error_container",t.statusText),e.back_to_map(!1)}):e.back_to_map(!1)}else e.save_offline_report().then(function(t){e.back_to_map(!0),e.list_reports(),S.show_alert("Envío pendiente","El reporte se ha guardado en su dispositivo y se enviará cuando utilice esta aplicación conectado a internet")})},e.save_offline_report=function(){var t=new Date,n=t.getDate(),o=t.getMonth();o+=1;var r=t.getFullYear();return e.report.date=n+"/"+o+"/"+r,w.saveReport(e.report)},e.back_to_map=function(e){e?(T.checkNoModalIsOpen(),document.getElementById("foot_bar").style.display="block",document.getElementById("spinner-inside-modal").style.display="none"):document.getElementById("spinner-inside-modal").style.display="none"},e.cancelReport=function(){T.checkNoModalIsOpen(),document.getElementById("foot_bar").style.display="block"},e.image=null,e.addImage=function(t,n,r){console.log(t),console.log(n),console.log(r),e.isUserPhoto=n,e.isCommentPhoto=r;var a=Camera.PictureSourceType.CAMERA,i=!1,l=!1;1==t&&(a=Camera.PictureSourceType.PHOTOLIBRARY,i=!1,l=!1);var s={quality:50,destinationType:Camera.DestinationType.FILE_URI,sourceType:a,allowEdit:!1,correctOrientation:i,encodingType:Camera.EncodingType.JPEG,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:l,mediaType:Camera.MediaType.PICTURE,targetWidth:360,targetHeight:360};console.log(s),o.getPicture(s).then(function(t){function n(t){console.log(t),window.resolveLocalFileSystemURL(t,function(t){console.log("got file: "+t.toURL());var n=t.toURL();1==e.isUserPhoto?e.profile.picture_url=n:1==e.isCommentPhoto?e.comment.file=n:(e.report.file=n,console.log(e.report)),e.imgURI=n},function(){console.log("Error en file entry: "+t),o(t)})}function o(e){window.resolveLocalFileSystemURL(e,r,i)}function r(e){var t=e.fullPath.substr(e.fullPath.lastIndexOf("/")+1),n=l()+t;window.resolveLocalFileSystemURL(cordova.file.dataDirectory,function(t){e.copyTo(t,n,a,i)},i)}function a(t){e.$apply(function(){e.image=t.nativeURL})}function i(e){}function l(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}console.log(t),n(t)},function(e){console.log(e)})},e.urlForImage=function(){var t="http://placehold.it/200x200";if(e.image){var n=e.image.substr(e.image.lastIndexOf("/")+1);t=cordova.file.dataDirectory+n}return t},e.list_reports=function(){e.hide_special_divs(),e.set_active_option("button-list-reports"),document.getElementById("user-options-menu").style.display="none",R.isOnline()?document.getElementById("report-list-scroll").style.display="block":e.list_offline_reports()},e.list_offline_reports_menu=function(){e.hide_special_divs(),e.list_offline_reports()},e.list_offline_reports=function(){p.getMap().then(function(t){e.cleanOfflineMarkers(t);var n=w.getAllReports(),o='<ion-scroll direction="y" id="offline-report-list-scroll"><div class="scroll"><div id="report-list-offline">';e.offlineReports=new Array,e.offlineReportsMarkers=new Array,n.then(function(n){o+="<h3><b>Reportes guardados en el dispositivo y pendientes de envío:</b></h3>",null!=n&&n.rows.length>0?(n.rows.forEach(function(n){var r=n.doc;e.offlineReports[r._id]=r,o+=e.add_offline_report_div(r);var a={alt:"Reporte pendiente de envío"},l=L.marker([r.lat,r.lon],a).addTo(t),s='<a class="text report-link" ng-click="editOfflineReport(\''+r._id+"')\"><p>"+r.title+'</p></a><p class="offline-pending">(pendiente de envío)</p>',c=i(s)(e);l.bindPopup(c[0]),e.offlineReportsMarkers[r._id]=l}),o+="<br/><h3><a ng-click='send_offline_reports_from_menu()'>- Enviar todos los reportes pendientes</a></h3>"):o+="<br/><h3>No hay ningún reporte pendiente de envío.</h3>",o+='</div></div><div class="scroll-bar scroll-bar-v"><div class="scroll-bar-indicator scroll-bar-fade-out"></div></div></ion-scroll>';var r=angular.element(document.querySelector("#offline-report-list-container"));r.html(o);i(r.contents())(e);e.$broadcast("scroll.resize")})["catch"](function(e){o+="<br/><h3>No hay ningún reporte pendiente de envío.</h3>",o+='</div></div><div class="scroll-bar scroll-bar-v"><div class="scroll-bar-indicator scroll-bar-fade-out"></div></div></ion-scroll>'}),document.getElementById("offline-report-list-container").style.display="block"})},e.list_reports_and_go=function(t){e.set_active_option("button-list-reports"),document.getElementById("user-options-menu").style.display="none",R.isOnline()?document.getElementById("report-list-scroll").style.display="block":p.getMap().then(function(n){n.eachLayer(function(e){"undefined"!=e._url&&null!=e._url||n.removeLayer(e)});var o=w.getAllReports(),r='<div id="report-list-offline">';e.offlineReports=new Array,e.offlineReportsMarkers=new Array,o.then(function(o){r+="<h3><b>Reportes guardados en el dispositivo y pendientes de envío:</b></h3>",null!=o&&o.rows.length>0?o.rows.forEach(function(o){var a=o.doc;e.offlineReports[a._id]=a,r+=e.add_offline_report_div(a);var l=L.marker([a.lat,a.lon]).addTo(n),s='<a class="text report-link" ng-click="editOfflineReport(\''+a._id+"')\"><p>"+a.title+'</p></a><p class="offline-pending">(pendiente de envío)</p>',c=i(s)(e);l.bindPopup(c[0]),e.offlineReportsMarkers[a._id]=l,a._id==t&&goToOfflineReport(t)}):r+="<br/><h3>No hay ningún reporte pendiente de envío.</h3>",r+="</div>";var a=angular.element(document.querySelector("#offline-report-list-container"));a.html(r);i(a.contents())(e)})["catch"](function(e){r+="<br/><h3>No hay ningún reporte pendiente de envío.</h3>",r+="</div>"}),document.getElementById("offline-report-list-container").style.display="block"})},e.goToOfflineReport=function(t){var n=e.offlineReports[t];p.getMap().then(function(o){var r=n.lat;r-=.001,e.map.center.lat=r,e.map.center.lng=n.lon,o.setView(new L.LatLng(r,n.lon),16),e.offlineReportsMarkers[t].openPopup()})},e.add_offline_report_div=function(e){var t='<div id="report-container-'+e._id+'" ng-click="goToOfflineReport(\''+e._id+'\')" class="report-inside-list-offline">';return t+='<div class="report-in-list-icon-offline"></div>',t+='<div class="report-in-list-info">',t=t+'<p id="report-title-'+e._id+'" class="report-in-list-title">'+e.title+"</p>",t=t+'<p id="report-category-'+e._id+'" class="report-in-list-category">'+e.category+"</p>",t=t+'<p id="report-date-'+e._id+'" class="report-in-list-date">'+e.date+"</p>",t=t+'<p id="report-date-'+e._id+'" class="report-in-list-actions"><a ng-click="editOfflineReport(\''+e._id+"')\">Editar</a>&nbsp; <a ng-click=\"deleteOfflineReport('"+e._id+"')\">Eliminar</a></p>",t+='<div class="report-mini-icons">',null!=e.file&&"undefined"!=e.file&&(t+='<img class="report-mini-icon" src="./img/icon-camera.png" />'),t+='<img class="report-mini-icon" src="./img/icon-tags.png" />',t+="</div></div></div>"},e.help=function(){R.isOnline()?(document.getElementById("spinner").style.display="block",e.set_active_option("button-faq"),e.hide_special_divs(),h.all().success(function(n){T.checkNoModalIsOpen(),e.faq=t.trustAsHtml(n),document.getElementById("spinner").style.display="none",u.fromTemplateUrl("templates/faq.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){T.activeModal=t,T.activeModal.show().then(function(){var t=angular.element(document.querySelector("#faq-container-div"));i(t.contents())(e)})})})):S.show_alert("Sin conexión a internet","Para ver la ayuda debe estar conectado a internet")},e.scrollMe=function(e){k.hash(e);var t=C.$getByHandle("content");t.anchorScroll()},e.close_faq_modal=function(){T.checkNoModalIsOpen()},e.set_active_option=function(e){document.getElementById("button-report").className="option-inactive",document.getElementById("button-list-reports").className="option-inactive",document.getElementById("button-faq").className="option-inactive",document.getElementById("button-find-me").className="option-inactive",document.getElementById(e).className="option-active"},e.hide_special_divs=function(){document.getElementById("report-list-scroll").style.display="none",document.getElementById("offline-report-list-container").style.display="none",document.getElementById("user-options-menu").style.display="none",document.getElementById("map_crosshair").style.display="none",document.getElementById("map_crosshair_button").style.display="none"},e.viewReportDetails=function(n){e.report_detail_id=n,R.isOnline()?(document.getElementById("spinner").style.display="block",e.hide_special_divs(),g.getById(n).then(function(o){e.report_detail=t.trustAsHtml(o.data.replace("overflow:auto;","").replace('src="/','src="'+m.baseURL).replace("url(/","url("+m.baseURL+m.baseCobrand+"/").replace("url(/","url("+m.baseURL+m.baseCobrand+"/")),document.getElementById("spinner").style.display="none",e.comment={submit_update:1,id:e.report_detail_id,may_show_name:!0,add_alert:!0,fixed:!1,update:"",name:null,form_rznvy:null,photo:null},T.checkNoModalIsOpen(),u.fromTemplateUrl("templates/report-detail.html",{scope:e,animation:"slide-in-up"}).then(function(t){T.activeModal=t,T.activeModal.show().then(function(){var t=angular.element(document.querySelector("#report-detail-container-div"));i(t.contents())(e);if(b.isLogged()){if(document.getElementById("comment_container").style.display="block",e.comment.name=b.name,e.comment.form_rznvy=b.email,null!=b.from_body){var o=e.featureReports[n].feature.geometry.coordinates[0],r=e.featureReports[n].feature.geometry.coordinates[1];_.getAreas(o,r).then(function(t){jsonObject=t.data,e.isBodyAdmin=!1;for(var o in jsonObject){var r=o,a=jsonObject[o];"CIU"==a.type&&b.from_body==r&&(e.isBodyAdmin=!0,e.comment.new_category=e.featureReports[n].feature.properties.category,e.comment.state=e.featureReports[n].feature.properties.state,y.allFromBodyArea(r).then(function(t){jsonAreaObject=t.data,e.allCategoriesFromBoyArea=[];for(var n in jsonAreaObject)e.allCategoriesFromBoyArea.push(n);E(function(){document.getElementById("new_category_select").value=e.comment.new_category},500)}))}})}else e.isBodyAdmin=!1;document.getElementById("comment_container").style.display="block"}else document.getElementById("comment_container").style.display="none"})})},function(e){document.getElementById("spinner").style.display="none",B.show_error_message_popup("ERROR AL CARGAR DATOS DEL REPORTE: "+e.statusText)})):S.show_alert("Sin conexión a internet","Para ver los detalles del reporte, debe estar conectado a internet.")},e.close_report_detail_modal=function(){T.checkNoModalIsOpen(),e.report_detail_id=null},e.locate=function(){a.getCurrentPosition().then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,e.map.center.zoom=15,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"You Are Here",focus:!0,draggable:!1}},function(e){})},e.addMapControls=function(){document.getElementById("map_crosshair").style.display="block",document.getElementById("map_crosshair_button").style.display="block"},e.startReportFromCrosshairs=function(){p.getMap().then(function(t){var n=t.getCenter();f.save_new_report_position(n.lat,n.lng),e.new_report(1)})},e.getOnlyCategoryIconURL=function(t){var n=t.replace("-proceso","");return n=n.replace("-resuelto",""),n=e.wtk_url_fix(n)},e.hideOffScreenPins=function(){p.getMap().then(function(t){var n=t.getBounds(),o=Object.keys(e.reportsByState);e.reportsVisible=[],o.forEach(function(o){e.reportsByState[o].forEach(function(o,r){var a=n.contains(o.getLatLng());a?a&&(t.addLayer(o),e.reportsVisible.push(o.feature)):t.removeLayer(o)})})})},e.removeAllPins=function(){p.getMap().then(function(t){var n=(t.getBounds(),Object.keys(e.reportsByState));e.reportsVisible=[],n.forEach(function(n){e.reportsByState[n].forEach(function(e,n){t.removeLayer(e)})})})},e.loadPinsLayer=function(){document.getElementById("spinner")&&(document.getElementById("spinner").style.display="block"),e.removeAllPins(),e.reportsByState={},g.getAll().then(function(t){var n=t.data.features;e.reports=t.data.features,n.forEach(function(t){if(t.properties){var n=t.geometry.coordinates[0],o=t.geometry.coordinates[1],r=m.baseURL+t.properties.pin_url,a=L.icon({iconUrl:r,iconSize:[29,34],iconAnchor:[14,34],popupAnchor:[14,-8]}),l=L.marker([o,n],{icon:a});if(l.feature=t,e.featureReports[l.feature.properties.id]=l,e.reportsByState["state-"+t.properties.state]||(e.reportsByState["state-"+t.properties.state]=[]),e.reportsByState["state-"+t.properties.state].push(l),t.properties){reportId=t.properties.id,descripcion=t.properties.title,html='<a class="text report-link" ng-click="viewReportDetails('+reportId+')"><p>'+descripcion+"</p></a>";var s=i(html)(e);l.bindPopup(s[0])}}}),document.getElementById("spinner").style.display="none",e.hideOffScreenPins()})},e.addReportsLayer=function(){if(null!=e.jsonLayer)return!1;var t=m.baseURL;buildPopup=function(e,t){var n=e[3],o=e[4],r='<a class="text report-link" ng-click="viewReportDetails('+n+')"><p>'+o+"</p></a>";return r},onEachFeature=function(t,n){var o,r,a;if(t.properties){r=t.properties.id,a=t.properties.title,o='<a class="text report-link" ng-click="viewReportDetails('+r+')"><p>'+a+"</p></a>";var l=i(o)(e);n.bindPopup(l[0])}},l=new L.LayerJSON({url:t+"/ajax_geo?bbox={bbox}",locAsGeoJSON:!0,onEachFeature:onEachFeature}),e.jsonLayer=l,p.getMap().then(function(e){e.addLayer(l)}),l.on("dataloaded",function(t){e.reports=t.data.features}),l.on("layeradd",function(n){n.layer.eachLayer(function(n){var o=L.icon({iconUrl:t+"/"+n.feature.properties.pin_url,iconSize:[29,34],iconAnchor:[14,34],popupAnchor:[0,-8]});n.setIcon(o),void 0===e.featureReports[n.feature.properties.id]&&(e.featureReports[n.feature.properties.id]=n)})})},e.goToReport=function(t){var n=document.getElementsByClassName("report-inside-list-active");n.length>0&&(n[0].className="report-inside-list");var o=document.getElementById("report-container-"+t.properties.id);o.className="report-inside-list-active";var r=e.featureReports[t.properties.id];p.getMap().then(function(e){var t=r.getLatLng(),n=t.lat;n-=6e-4,e.setView(new L.LatLng(n,t.lng),18),r.openPopup()})},e.model=[],e.externalModel=[],e.selectedItems=[],e.preselectedSearchItems=[],e.clickedValueModel="",e.removedValueModel="",e.getTestItems=function(e){var t,n=[];return e&&(t={items:[{id:"1",name:e+"1",view:"view: "+e+"1"},{id:"2",name:e+"2",view:"view: "+e+"2"},{id:"3",name:e+"3",view:"view: "+e+"3"}]},n=t.items),n},e.itemsRemoved=function(t){e.removedValueModel=t},e.user_options=function(){var t=document.getElementById("user-options-menu");if("block"==t.style.display)t.style.display="none";else{var n=b.name;null==n?e.show_anonymous_menu():e.show_user_menu()}},e.show_anonymous_menu=function(){var t=document.getElementById("user-options-menu"),n="<div id='auth_options'><div class='nonauth-link' ng-click='show_login_modal()'>Iniciar sesión</div>";
n+="<div class='nonauth-link' ng-click='show_sign_up_modal()'>Registrarse</div></div>",t.innerHTML=n,i(t)(e),t.style.height="120px",t.style.width="150px",t.style.display="block"},e.show_user_menu=function(){var t=document.getElementById("user-options-menu"),n=b.name+"<div id='auth_options'><div class='user-logged-link' ng-click='show_edit_profile_modal()'>Mi perfil</div>";n+="<div class='user-logged-link' ng-click='change_password()'>Cambiar contraseña</div>",n+="<div class='user-logged-link' ng-click='list_offline_reports_menu()'>Reportes pendientes</div>",n+="<div class='user-logged-link' ng-click='sign_out()'>Cerrar sesión</div></div>",t.innerHTML=n,i(t)(e),t.style.height="220px",t.style.width="200px",t.style.display="block"},e.forgot_password=function(){T.checkNoModalIsOpen(),e.nonauth=new Array,e.nonauth.email="",u.fromTemplateUrl("templates/forgot_password.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("user-options-menu").style.display="none",T.activeModal=e,document.getElementById("foot_bar").style.display="none",T.activeModal.show()})},e.forgot_password_ok=function(){document.getElementById("spinner-inside-modal").style.display="block";var t=new Array;t.push(e.create_field_array("Email","email",e.nonauth.email)),B.check_fields(t,"error_container")?(document.getElementById("spinner-inside-modal").style.display="none",v.password_recovery(e.nonauth.email).then(function(e){"Email successfuly sended"==e.data.message?(T.checkNoModalIsOpen(),document.getElementById("foot_bar").style.display="block",E(function(){S.show_alert("Instrucciones enviadas con éxito","Se han enviado intrucciones para restablecer tu contraseña al correo proporcionado anteriormente.")},1e3)):B.show_error_message("error_container",e.data.message)})):document.getElementById("spinner-inside-modal").style.display="none"},e.change_password=function(){T.checkNoModalIsOpen(),e.nonauth=new Array,e.nonauth.oldPassword="",e.nonauth.newPassword="",e.nonauth.confirmPassword="",u.fromTemplateUrl("templates/change_password.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("user-options-menu").style.display="none",T.activeModal=e,document.getElementById("foot_bar").style.display="none",T.activeModal.show()})},e.change_password_ok=function(){document.getElementById("spinner-inside-modal").style.display="block";var t=new Array;t.push(e.create_field_array("Contraseña actual","notNull",e.nonauth.oldPassword)),t.push(e.create_field_array("Nueva contraseña","notNull",e.nonauth.newPassword)),t.push(e.create_field_array("Confirmar nueva contraseña","notNull",e.nonauth.confirmPassword)),t.push(e.create_field_array_with_twoFields("Nueva contraseña y Confirmar contraseña","equalsTo",e.nonauth.newPassword,e.nonauth.confirmPassword)),B.check_fields(t,"error_container")?v.password_change(b.email,e.nonauth.oldPassword,e.nonauth.newPassword,e.nonauth.confirmPassword).then(function(t){document.getElementById("spinner-inside-modal").style.display="none","Password successfuly changed"==t.data.message?(b.save_user_data(b.name,b.email,e.nonauth.newPassword,b.identity_document,b.phone,b.picture_url),w.saveUser(b.name,b.email,b.password,b.identity_document,b.phone,b.picture_url),T.checkNoModalIsOpen(),document.getElementById("foot_bar").style.display="block"):B.show_error_message("error_container","Se ha producido un error al cambiar su clave, por favor intente más tarde")}):document.getElementById("spinner-inside-modal").style.display="none"},e.create_field_array=function(e,t,n){var o=new Array;return o.name=e,o.type=t,o.value=n,o},e.create_field_array_with_twoFields=function(e,t,n,o){var r=new Array;return r.name=e,r.type=t,r.value=n,r.secondValue=o,r},e.fix_fb_image_link=function(e){if(e.indexOf("http://graph.facebook.com")>=0){var t=e.split("http://graph.facebook.com"),n="http://graph.facebook.com"+t[1];return n}return e},e.sign_in=function(t,n){if(R.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var o=new Array;o.push(e.create_field_array("Email","email",t)),o.push(e.create_field_array("Contraseña","notNull",n)),B.check_fields(o,"error_container")?v.sign_in(n,t).then(function(o){B.http_response_is_successful(o,"error_container")?(o.data.picture_url=e.fix_fb_image_link(o.data.picture_url),b.save_user_data(o.data.name,t,n,o.data.identity_document,o.data.phone,o.data.picture_url),w.saveUser(o.data.name,t,n,o.data.identity_document,o.data.phone,o.data.picture_url),o.data.from_body&&(b.from_body=o.data.from_body),document.getElementById("spinner-inside-modal").style.display="none",e.close_login_modal(),e.set_user_picture(1)):document.getElementById("spinner-inside-modal").style.display="none"},function(e){document.getElementById("spinner-inside-modal").style.display="none",B.show_error_message("error_container",e.statusText)}):document.getElementById("spinner-inside-modal").style.display="none"}else S.show_alert("Sin conexión a internet","Para iniciar sesión debe estar conectado a internet")},e.sign_in_ajax=function(t,n){v.sign_in(n,t).then(function(o){return B.http_response_is_successful_ajax(o)?(o.data.picture_url=e.fix_fb_image_link(o.data.picture_url),b.save_user_data(o.data.name,t,n,o.data.identity_document,o.data.phone,o.data.picture_url),w.saveUser(o.data.name,t,n,o.data.identity_document,o.data.phone,o.data.picture_url),o.data.from_body&&(b.from_body=o.data.from_body),e.set_user_picture(1),1):0},function(e){return 0})},e.sign_out=function(){b.erase_user_data(),w.eraseUser(),document.getElementById("spinner").style.display="none",e.set_user_picture(0),document.getElementById("user-options-menu").style.display="none"},e.show_edit_profile_modal=function(){e.profile=new Array,e.profile.email=b.email,e.profile.password="",e.profile.fullname=b.name,e.profile.new_email=b.email,e.profile.id_doc=b.identity_document,e.profile.telephone=b.phone,e.profile.picture_url=null,null!=b.picture_url?(e.actual_photo=b.picture_url,"url(./img/icon-user-anonymous.png)"==e.actual_photo&&(e.actual_photo="./img/icon-user-anonymous.png"),T.checkNoModalIsOpen(),u.fromTemplateUrl("templates/edit_profile_with_photo.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("user-options-menu").style.display="none",T.activeModal=e,document.getElementById("foot_bar").style.display="none",T.activeModal.show()})):(e.actual_photo=null,T.checkNoModalIsOpen(),u.fromTemplateUrl("templates/edit_profile.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),T.activeModal=t,document.getElementById("foot_bar").style.display="none",T.activeModal.show()}))},e.close_edit_profile_modal=function(){document.getElementById("foot_bar").style.display="block",T.checkNoModalIsOpen()},e.edit_profile_ok=function(){e.edit_profile(b.email,b.password,e.profile.fullname,e.profile.new_email,e.profile.id_doc,e.profile.telephone,e.profile.picture_url)},e.edit_profile=function(t,n,o,r,a,i,l){if(R.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var s=new Array;if(s.push(e.create_field_array("Correo electrónico","email",r)),s.push(e.create_field_array("Cédula de Identidad","iddoc_uy",a)),s.push(e.create_field_array("Nombre y apellido","two_words",o)),B.check_fields(s,"error_container")){var c=v.edit_user(t,n,o,r,a,i,l);null==l||""==l?c.success(function(t,o,r,a){document.getElementById("sent_label").innerHTML="Enviado: 100%",B.http_data_response_is_successful(t,"error_container")?(b.save_user_data(t.name,t.email,n,t.identity_document,t.phone,t.picture_url),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):document.getElementById("spinner-inside-modal").style.display="none"}).error(function(e,t,n,o){B.show_error_message("error_container",t),document.getElementById("spinner-inside-modal").style.display="none"}):c.then(function(t){var o=JSON.parse(t.response);B.http_data_response_is_successful(o,"error_container")?(b.save_user_data(o.name,o.email,n,o.identity_document,o.phone,o.picture_url),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):document.getElementById("spinner-inside-modal").style.display="none"},function(e){var t="Código: "+e.code;t=t+" Origen: "+e.source,t=t+" Destino: "+e.target,t=t+" http_status: "+e.http_status,t=t+" Body: "+e.body,t=t+" Exception: "+e.exception,B.show_error_message("error_container","Hubo un error en el envío: "+t),document.getElementById("spinner-inside-modal").style.display="none"},function(t){E(function(){e.uploadProgress=t.loaded/t.total*100,document.getElementById("sent_label").innerHTML="Enviado: "+Math.round(e.uploadProgress)+"%"})})}else document.getElementById("spinner-inside-modal").style.display="none"}else S.show_alert("Sin conexión a internet","Para editar su perfil debe estar conectado a internet")},e.show_login_modal=function(){e.nonauth=new Array,e.nonauth.email="",e.nonauth.password="",T.checkNoModalIsOpen(),u.fromTemplateUrl("templates/log_in.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),T.activeModal=t,document.getElementById("foot_bar").style.display="none",T.activeModal.show()})},e.login_ok=function(){e.sign_in(e.nonauth.email,e.nonauth.password)},e.close_login_modal=function(){document.getElementById("foot_bar").style.display="block",T.checkNoModalIsOpen()},e.show_sign_up_modal=function(){e.newuser=new Array,e.newuser.email="",e.newuser.password="",e.newuser.fullname="",e.newuser.id_doc="",e.newuser.telephone="",T.checkNoModalIsOpen(),u.fromTemplateUrl("templates/sign_up.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),T.activeModal=t,document.getElementById("foot_bar").style.display="none",T.activeModal.show()})},e.close_sign_up_modal=function(){document.getElementById("foot_bar").style.display="block",T.checkNoModalIsOpen()},e.sign_up=function(t,n,o,r,a){if(R.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var i=new Array;i.push(e.create_field_array("Correo electrónico","email",t)),i.push(e.create_field_array("Contraseña","notNull",o)),i.push(e.create_field_array("Cédula de Identidad","iddoc_uy",r)),i.push(e.create_field_array("Nombre y apellido","two_words",n)),B.check_fields(i,"error_container")?v.create_user(t,n,o,r,a).then(function(i){if(B.http_response_is_successful(i,"error_container")){b.save_user_data(n,t,o,r,a,null),document.getElementById("spinner-inside-modal").style.display="none",e.close_sign_up_modal();var l=d.alert({title:"Usuario creado con éxito",template:i.data.message});l.then(function(e){})}else document.getElementById("spinner-inside-modal").style.display="none"},function(e){document.getElementById("spinner-inside-modal").style.display="none",B.show_error_message("error_container",e.statusText)}):document.getElementById("spinner-inside-modal").style.display="none"}else S.show_alert("Sin conexión a internet","Para iniciar registrarse debe estar conectado a internet")},e.sign_up_ok=function(){e.sign_up(e.newuser.email,e.newuser.fullname,e.newuser.password,e.newuser.id_doc,e.newuser.telephone)},e.check_user_logged=function(){var t=b.name;if(null==t){var n=w.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?e.sign_in_ajax(t.email,t.password):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==b.picture_url||""==b.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_offline_user=function(){var t=b.name;if(null==t){var n=w.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?b.save_user_data(t.name,t.email,t.password,t.identity_document,t.phone,t.picture_url):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==b.picture_url||""==b.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_user_picture=function(t){document.getElementById("user_picture");0==t?e.user_cached_image="./img/icon-user-anonymous.png":null!=b.picture_url&&""!=b.picture_url?e.user_cached_image=e.wtk_url_fix(b.picture_url):e.user_cached_image="./img/icon-user-anonymous.png"},e.find_me=function(){e.set_active_option("button-find-me"),e.hide_special_divs();var t={timeout:1e4,enableHighAccuracy:!0};a.getCurrentPosition(t).then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,f.save_new_report_position(t.coords.latitude,t.coords.longitude),R.isOnline()?e.map.center.zoom=18:e.map.center.zoom=16,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"<p align='center'>Te encuentras aquí <br/> <a ng-click='new_report(1);'>Iniciar reporte en tu posición actual</a></p>",focus:!0,draggable:!1,getMessageScope:function(){return e}}},function(t){e.openCouncilSelector()})};e.$on("leafletDirectiveMap.contextmenu",function(t,n){e.hide_special_divs(),console.log(n.leafletEvent.latlng.lat),console.log(n.leafletEvent.latlng.lng),f.save_new_report_position(n.leafletEvent.latlng.lat,n.leafletEvent.latlng.lng),e.new_report(1)}),e.select_imm=function(){e.close_council_modal(),f.selectCouncil("289"),x.centerMapOnCoords(-34.901113,-56.164531,14)},e.select_idr=function(){e.close_council_modal(),f.selectCouncil("255"),x.centerMapOnCoords(-30.8997469,-55.5434686,14)},e.select_irn=function(){e.close_council_modal(),f.selectCouncil("360"),x.centerMapOnCoords(-33.124972,-58.303736,14)},e.openCouncilSelector=function(){u.fromTemplateUrl("templates/council_selector_with_back_button.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){f.council_modal=e,f.council_modal.show().then(function(){})})},e.close_council_modal=function(){f.council_modal.hide(),f.council_modal.remove()}}]),pmb_im.controllers.controller("PMBCtrl",["$scope","$state","leafletData","PMBService","ReportService","locationAPI","MapService","_","Loader","LocationsService","$ionicModal",function(e,t,n,o,r,a,i,l,s,c,u){e.reportButton={text:"Reportar",state:"unConfirmed"},e.$on("$ionicView.afterEnter",function(){n.getMap();""!=c.new_report_lat?i.centerMapOnCoords(c.new_report_lat,c.new_report_lng,16):""!=c.initial_lat?i.centerMapOnCoords(c.initial_lat,c.initial_lng,16):e.openCouncilSelector()}),e.select_imm=function(){e.close_council_modal(),c.selectCouncil("289"),i.centerMapOnCoords(-34.901113,-56.164531,14)},e.select_idr=function(){e.close_council_modal(),c.selectCouncil("255"),i.centerMapOnCoords(-30.8997469,-55.5434686,14)},e.select_irn=function(){e.close_council_modal(),c.selectCouncil("360"),i.centerMapOnCoords(-33.124972,-58.303736,14)},e.openCouncilSelector=function(){u.fromTemplateUrl("templates/council_selector_with_back_button.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){c.council_modal=e,c.council_modal.show().then(function(){})})},e.close_council_modal=function(){c.council_modal.hide(),c.council_modal.remove()},e.searchMode="calle.lugar",e.location={calle:null,esquina:null,lugar:null};var d={tipo:null,pathParams:[]};e.$on("$stateChangeSuccess",function(){e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick)}),e.initReport=function(){var t,o=L.icon({iconUrl:"img/pin@x2.png",iconSize:[70,110],iconAnchor:[-18,55]});"unConfirmed"==e.reportButton.state&&(e.reportButton.text="Confirmar",e.reportButton.state="about2Confirm",n.getMap().then(function(n){t=new L.marker(n.getCenter(),{icon:o,clickable:!1}).addTo(n),r._new(),r.current.setLatLng(n.getCenter()),e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick)}))},e.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e.searchLocation=function(t){var n;if(t&&t.length>=2){if("calle.lugar"==e.searchMode)n=a.searchLocationByStr(t);else{if(e.isNumeric(t.trim())){var o=[],r={descTipo:"NUMERO",address:t,lat:t};return o[0]=r,o}n=a.searchEsquinaByStr({calle:e.selectedItem.lat,esquina:t})}return n}return[]},e.onClick=function(){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()},e.itemsClicked=function(t){if(e.clickedValueModel=t,e.selectedItem=t.item,e.ionAutocompleteElementSearch=angular.element(document.getElementsByClassName("ion-autocomplete-search")),"esquina.numero"==e.searchMode){d.pathParams=[],e.location.esquina=e.selectedItem,d.pathParams.push(e.location.calle.lat),d.pathParams.push(e.location.esquina.lat);var n="",o="";e.isNumeric(e.selectedItem.address)?(d.tipo="DIRECCION",o="door"):(d.tipo="ESQUINA",n="esquina",o="corner"),a.getLocationGeomPMB(e.location.calle.lat,e.location.esquina.lat,o).then(function(t){var o=e.location.calle.address+" "+n+" "+e.selectedItem.address;i.goToPlace(o,t.data.latitude,t.data.longitude,e),e.searchMode="calle.lugar",e.ionAutocompleteElementSearch.attr("placeholder","Buscar calle"),e.externalModel=[]})}else e.location.calle=e.selectedItem,e.searchMode="esquina.numero",e.ionAutocompleteElementSearch.attr("placeholder","Esquina o número"),e.ionAutocompleteElement.controller("ionAutocomplete").showModal(),e.preselectedSearchItems=[]},e.itemsCanceled=function(t){var n=parseInt(t.searchQuery);Number.isInteger(n)&&(d.tipo="DIRECCION",d.pathParams.push(e.location.calle.codigo),d.pathParams.push(n),a.getLocationGeom(d).then(function(t){i.goToPlace(angular.extend({nombre:e.selectedItem.nombre+" "+n},t),e),e.searchMode="calle.lugar"},function(t){s.showAlert("Error","No existe esa direccion").then(function(t){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()})}))}}]),pmb_im.services.factory("AuthService",["$http","$cordovaFileTransfer","ConfigService",function(e,t,n){var o=n.baseURL+"/auth/ajax/";return{sign_in:function(t,n){return e.get(o+"sign_in",{withCredentials:!0,params:{password_sign_in:t,email:n}})},sign_out:function(t,n){return e.get(o+"sign_out",{withCredentials:!0,params:{password_sign_in:t,email:n}})},create_user:function(t,n,r,a,i){return e.get(o+"create_user",{withCredentials:!0,params:{form_email:t,name:n,password_register:r,identity_document:a,phone:i}})},password_recovery:function(t){return e.get(o+"forgot_password",{params:{login_email:t}})},password_change:function(t,n,r,a){var i="email="+t+"&password_sign_in="+n+"&new_password="+r+"&confirm="+a;return e.post(o+"change_password",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},edit_user:function(n,r,a,i,l,s,c){if(null!=c&&""!=c){var u={fileKey:"photo",withCredentials:!0,params:{email:n,password_sign_in:r,name:a,new_email:i,identity_document:l,phone:s}},d=!0;return t.upload(o+"edit_user",c,u,d)}return e.get(o+"edit_user",{withCredentials:!0,params:{email:n,password_sign_in:r,name:a,new_email:i,identity_document:l,phone:s}})}}}]),pmb_im.services.factory("CategoriesService",["$http","LocationsService","ConfigService","DBService",function(e,t,n,o){var r=n.baseURL+"/report/new/ajax",a=n.baseURL+"/api/categories/";return{all:function(){return e.get(r,{params:{lat:t.new_report_lat,lon:t.new_report_lng,format:"json"}})},allFromBodyArea:function(t){return e.get(a,{params:{api_key:"1234",area:t}})},getCachedCategories:function(){return o.getCategories()}}}]),pmb_im.services.factory("ConfigService",["$http",function(e){var t={};return t.baseURL="/data",ionic.Platform.isWebView()&&(t.baseURL="https://pormibarrio.freyja.datauy.org"),t.baseCobrand="/cobrands/pormibarrio",t}]),pmb_im.services.factory("ConnectivityService",["$cordovaNetwork",function(e){return{isOnline:function(){if(!ionic.Platform.isWebView())return navigator.onLine;try{return e.isOnline()}catch(t){return!0}},isOffline:function(){if(!ionic.Platform.isWebView())return!navigator.onLine;try{return!e.isOnline()}catch(t){return!1}}}}]),pmb_im.services.factory("DBService",["$q",function(e){function t(t,o,r,a,i,l){var s={_id:"user-logged",name:t,email:o,password:r,identity_document:a,phone:i,picture_url:l};n().then(function(t){return s._rev=t._rev,e.when(m.put(s))})["catch"](function(t){return e.when(m.put(s))})}function n(){return e.when(m.get("user-logged"))}function o(){e.when(m.get("user-logged")).then(function(t){return e.when(m.remove(t))})}function r(){return"empty"==m?m=new PouchDB("mydb.db",{adapter:"cordova-sqlite",iosDatabaseLocation:"default"}):m}function a(t){var n=new Date,o="report_"+n.getFullYear()+(n.getMonth()+1)+n.getDate()+n.getMilliseconds();return t._id=o,e.when(m.put(t))}function i(t){return e.when(m.put(t))}function l(){return e.when(m.get("categories-list"))}function s(t){l().then(function(n){return t._rev=n._rev,e.when(m.put(t))})["catch"](function(n){return t._id="categories-list",e.when(m.put(t))})}function c(t){return e.when(m.get(t))}function u(){return e.when(m.allDocs({include_docs:!0,attachments:!1,startkey:"report",endkey:"report_"}))}function d(t){e.when(db.get(t)).then(function(t){return e.when(m.remove(t))})}function p(t){return e.when(m.remove(t))}var m="empty";return{initDB:r,saveUser:t,getUser:n,eraseUser:o,saveReport:a,getReport:c,getAllReports:u,updateReport:i,deleteReport:d,deleteGivenReport:p,getCategories:l,saveCategories:s}}]),pmb_im.services.factory("ErrorService",["$http","$ionicPopup","ValidationService",function(e,t,n){return{http_response_is_successful:function(e,t){var n=document.getElementById(t);return 0==e.data.result?(n.innerHTML="<h3>"+e.data.message+"</h3>",n.style.display="block",!1):(n.style.display="none",!0)},http_response_is_successful_ajax:function(e){return 0!=e.data.result},http_response_is_successful_popup:function(e){if(0==e.data.result){var n=t.alert({title:"Error",template:e.data.message});return n.then(function(e){return!1}),!1}return!0},http_data_response_is_successful:function(e,t){var n=document.getElementById(t);return 0==e.result?(n.innerHTML="<h3>"+e.message+"</h3>",n.style.display="block",!1):(n.style.display="none",!0)},http_data_response_is_successful_ajax:function(e){return 0!=e.result},show_error_message:function(e,t){var n=document.getElementById(e);return n.innerHTML="<h3>"+t+"</h3>",n.style.display="block",!1},show_error_message_popup:function(e){var n=t.alert({title:"Error",template:e});return n.then(function(e){return!1}),!1},check_fields:function(e,t){var o="";if(e.forEach(function(e){"notNull"==e.type&&(n.validate_not_empty(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no puede estar vacío.</h3>')),"email"==e.type&&(n.validate_email(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==e.type&&(n.validate_iddoc_uy(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una cédula uruguaya válida.</h3>')),"two_words"==e.type&&(n.validate_two_words(e.value)||(o=o+'<h3>- El campo "'+e.name+'" debe contener al menos dos palabras.</h3>')),"equalsTo"==e.type&&(n.validate_equalsTo(e.value,e.secondValue)||(o=o+'<h3>- Los campos "'+e.name+'" no coinciden.</h3>'))}),""==o)return!0;var r=document.getElementById(t);return r.innerHTML=o,r.style.display="block",!1}}}]),pmb_im.services.factory("FaqService",["$http","ConfigService",function(e,t){var n=t.baseURL+"/faq";return{all:function(){return e.get(n,{params:{ajax:"1"}})}}}]),pmb_im.services.factory("Loader",["$ionicLoading","$timeout","$ionicPopup",function(e,t,n){var o={showLoading:function(t){t=t||"Loading...",e.show({template:t})},hideLoading:function(){e.hide()},toggleLoadingWithMessage:function(e,n){var o=this;o.showLoading(e),t(function(){o.hideLoading()},n||3e3)},confirmPopup:function(e,t){var o=n.confirm({title:e,template:t});return o},showAlert:function(e,t){var o=n.alert({title:e,template:t});return o}};return o}]),pmb_im.services.factory("LocationsService",[function(){var e={};return e.initial_lat="",e.initial_lng="",e.new_report_lat="",e.new_report_lng="",e.council_modal=null,e.selected_council=null,e.selectCouncil=function(t){e.selected_council=t},e.save_initial_position=function(t){e.initial_lat=t.coords.latitude,e.initial_lng=t.coords.longitude},e.save_new_report_position=function(t,n){e.new_report_lat=t,e.new_report_lng=n,e.initial_lat=t,e.initial_lng=n},e.savedLocations=[],e}]),pmb_im.services.factory("MapService",["leafletData","$compile",function(e,t){proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs");var n={};return n.goToPlace=function(n,o,r,a){var i={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}},features:[{type:"Feature",geometry:{type:"Point",coordinates:[o,r]},properties:{nombre:n}}]};e.getMap().then(function(e){var n,o=L.Proj.geoJson(i,{pointToLayer:function(e,o){n=o;var r="<p align='center'>"+e.properties.nombre+" <br/> <a ng-click='new_report_from_latlon("+n.lat+","+n.lng+");'>Iniciar reporte aquí</a></p>",i=t(r)(a);return L.marker(o).bindPopup(i[0])}});o.addTo(e),e.setView(n,18),o.openPopup()})},n.centerMapOnCoords=function(t,n,o){e.getMap().then(function(e){e.setView(new L.LatLng(t,n),o)})},n}]),pmb_im.services.factory("ModalService",[function(){var e={};return e.activeModal=null,e.checkNoModalIsOpen=function(){e.activeModal&&(e.activeModal.hide(),e.activeModal.remove())},e}]),pmb_im.services.factory("PMBService",["$http","leafletData","$cordovaFileTransfer","ConfigService",function(e,t,n,o){var r=o.baseURL,a={report:function(t){if(console.log(t),t.file){var o={fileKey:"photo",fileName:"image.jpeg",chunkedMode:!1,mimeType:"image/jpeg",params:t,withCredentials:!0};o.headers={Connection:"Close"};var a=!0;return n.upload(r+"/report/new/mobile",t.file,o,a)}return e.get(r+"/report/new/mobile",{params:t})},subscribe:function(t,n){return e.get(r+"/alert/subscribe_ajax",{params:{rznvy:t,id:n,type:"updates"}})},abuse:function(t,n,o,a,i){return e.get(r+"/contact/submit_ajax",{params:{em:t,id:n,name:o,subject:a,message:i}})},hide:function(t){var n="/report/delete_ajax/"+t;return e.get(r+n,{params:{}})},comment:function(t){if(0==t.fixed&&delete t.fixed,null==t.state&&delete t.state,null==t.new_category&&delete t.new_category,t.photo){var o={fileKey:"photo",fileName:"image.jpeg",chunkedMode:!1,mimeType:"image/jpeg",params:t,withCredentials:!0};o.headers={Connection:"Close"};var a=!0;return n.upload(r+"/report/update",t.photo,o,a)}return e.get(r+"/report/update",{withCredentials:!0,params:t})},getAreas:function(t,n){var o="http://mapit.pormibarrio.uy/point/4326/"+t+","+n;return e.get(o,{params:{}})}};return a}]),pmb_im.services.factory("PopUpService",["$ionicPopup","ValidationService",function(e,t){return{show_alert:function(t,n){var o=e.alert({title:t,template:n});return o.then(function(e){return!0}),!0},confirmPopup:function(t,n){var o=e.confirm({title:t,template:n});return o},askForOneValuePopUp:function(n,o,r,a,i){$scope=n;var l=e.show({template:a+': <input type="text" id="one_value_popup"><div id="error_container_inside"></div>',title:o,subTitle:r,scope:$scope,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(e){var n="",o=document.getElementById("one_value_popup").value;if("notNull"==i&&(t.validate_not_empty(o)||(n=n+'<h3>- El campo "'+a+'" no puede estar vacío.</h3>')),"email"==i&&(t.validate_email(o)||(n=n+'<h3>- El campo "'+a+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==i&&(t.validate_iddoc_uy(o)||(n=n+'<h3>- El campo "'+a+'" no es una cédula uruguaya válida.</h3>')),"two_words"==i&&(t.validate_two_words(o)||(n=n+'<h3>- El campo "'+a+'" debe contener al menos dos palabras.</h3>')),""==n)return o;var r=document.getElementById("error_container_inside");r.innerHTML=n,r.style.display="block",e.preventDefault()}}]});return l}}}]),pmb_im.services.factory("ReportService",["$http","leafletData","ConfigService",function(e,t,n){function o(e){angular.extend(this,e)}var r=n.baseURL+"/report/ajax/",a=n.baseURL+"/ajax_geo?bbox=-65.199387,-40.932178,-50.168488,-25.887061";return o.getById=function(t){var n=r+t;return e.get(n).then(function(e){return e})},o.getAll=function(){return e.get(a,{params:{}})},o._default=function(){var e={lat:0,lon:0,title:null,detail:null,may_show_name:1,category:null,phone:null,pc:"",file:null,name:null,email:null,submit_sign_in:1,password_sign_in:null,remember_me:1};return new o(e)},o._all=[],o.current={},o._new=function(){return o._default()},o.build=function(e){return new o(e)},o.prototype.setLatLng=function(e){this.lat=e.lat,this.lon=e.lng},o}]),pmb_im.services.factory("locationAPI",["$http","$q","ApiImEndpoint","ApiDataEndpoint","ConfigService","LocationsService",function(e,t,n,o,r,a){var i="ubicacionesRestProd",l={};return l.searchLocationByStr=function(t){var n=r.baseURL+"/ajax/geocode?term="+a.selected_council+","+t;return e.get(n,{method:"GET",params:{}})},l.searchEsquinaByStr=function(t){var n=r.baseURL+"/ajax/geocode?term="+a.selected_council+","+t.calle+","+t.esquina;return e.get(n,{method:"GET",params:{}})},l.getLocationGeom=function(t){for(var o=n.url+"/"+i+l.getParamPathByTipo(t.tipo),r=0;r<t.pathParams.length;r++)o+="/"+t.pathParams[r];return e.get(baseURL).then(function(e){return e.data})},l.getLocationGeomPMB=function(t,n,o){var i=r.baseURL+"/ajax/geocode?term="+a.selected_council+","+t+","+n+","+o;return e.get(i)},l.getParamPathByTipo=function(e){var t={ESQUINA:"/esquina",DIRECCION:"/direccion"};return t[e]},l}]),pmb_im.services.factory("_",[function(){return window._}]),pmb_im.services.factory("UserService",["$http",function(e){var t={};return t.name=null,t.email=null,t.password=null,t.identity_document=null,t.phone="",t.picture_url="url(./img/icon-user-anonymous.png)",t.from_body=null,t.save_user_data=function(e,n,o,r,a,i){t.name=e,t.email=n,t.password=o,t.identity_document=r,t.phone=a,t.picture_url=i},t.erase_user_data=function(){t.name=null,t.email=null,t.password=null,t.identity_document=null,t.phone=null,t.picture_url=null},t.get_user_data=function(){},t.add_photo=function(e){t.picture_url=e},t.isLogged=function(){return null!=t.name&&""!=t.name},t}]),pmb_im.services.factory("ValidationService",["$http","$ionicPopup",function(e,t){return{validate_not_empty:function(e){return null!=e&&"undefined"!=e&&""!=e},validate_two_words:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=e.split(" ").filter(function(e){return""!==e});return t.length>1}return!1},validate_equalsTo:function(e,t){return e==t},validate_email:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}return!1},validate_iddoc_uy:function(e){if(null!=e&&"undefined"!=e&&""!=e){e=e.replace(/\D/g,"");var t=e[e.length-1],n=0,o=0;if(e.length<=6)for(o=e.length;o<7;o++)e="0"+e;for(o=0;o<7;o++)n+=parseInt("2987634"[o])*parseInt(e[o])%10;var r;return r=n%10===0?0:10-n%10,t==r}return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2F1dG9jb21wbHRlLmN0cmwuanMiLCJjb250cm9sbGVycy9pbnRyby5jdHJsLmpzIiwiY29udHJvbGxlcnMvbWFwLmN0cmwuanMiLCJjb250cm9sbGVycy9wbWIuY3RybC5qcyIsInNlcnZpY2VzL2F1dGguc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jYXRlZ29yaWVzLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9jb25maWcuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb25uZWN0aXZpdHkuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9kYi5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2Vycm9yLnNlcnZpY2VzLmpzIiwic2VydmljZXMvZmFxLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9sb2FkZXIuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9sb2NhdGlvbnNTZXJ2aWNlLmpzIiwic2VydmljZXMvbWFwLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbW9kYWxTZXJ2aWNlLmpzIiwic2VydmljZXMvcG1iLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9wb3B1cC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3JlcG9ydC5zZXJ2aWNlLmpzIiwic2VydmljZXMvdWJpY2FjaW9uZXMuc2VydmljZXMuanMiLCJzZXJ2aWNlcy91bmRlcnNjb3JlLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy91c2VyLnNlcnZpY2VzLmpzIiwic2VydmljZXMvdmFsaWRhdGlvbi5zZXJ2aWNlcy5qcyJdLCJuYW1lcyI6WyJwbWJfaW0iLCJjb250cm9sbGVycyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlcyIsImFwcCIsImNvbnN0YW50IiwidXJsIiwicnVuIiwiJGlvbmljUGxhdGZvcm0iLCIkcm9vdFNjb3BlIiwiJGNvcmRvdmFLZXlib2FyZCIsIiRjb3Jkb3ZhTmV0d29yayIsIlZFUlNJT04iLCJ3aW5kb3ciLCJyZWFkeSIsImlvbmljIiwiUGxhdGZvcm0iLCJpc0Z1bGxTY3JlZW4iLCJjb3Jkb3ZhIiwicGx1Z2lucyIsIktleWJvYXJkIiwiaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyIiwiZXJyb3IiLCJTdGF0dXNCYXIiLCJoaWRlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkY29tcGlsZVByb3ZpZGVyIiwiJGlvbmljQ29uZmlnUHJvdmlkZXIiLCJkZWJ1Z0luZm9FbmFibGVkIiwic3RhdGUiLCJjYWNoZSIsImFic3RyYWN0IiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwidmlld3MiLCJtZW51Q29udGVudCIsIm90aGVyd2lzZSIsIiRzY29wZSIsImxlYWZsZXREYXRhIiwibG9jYXRpb25BUEkiLCJpb25BdXRvY29tcGxldGVFbGVtZW50IiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImJpbmQiLCJvbkNsaWNrIiwic2hvd01vZGFsIiwic2VhcmNoTG9jYXRpb24iLCJxdWVyeSIsInNlYXJjaExvY2F0aW9uQnlTdHIiLCIkc3RhdGUiLCIkY29yZG92YUdlb2xvY2F0aW9uIiwiJHN0YXRlUGFyYW1zIiwiJGlvbmljUG9wdXAiLCJMb2NhdGlvbnNTZXJ2aWNlIiwiREJTZXJ2aWNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRiIiwiaW5pdERCIiwiaW5mbyIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiZ2VvbG9jYXRlIiwicG9zT3B0aW9ucyIsInRpbWVvdXQiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJnZXRDdXJyZW50UG9zaXRpb24iLCJwb3NpdGlvbiIsInNhdmVfaW5pdGlhbF9wb3NpdGlvbiIsImdvIiwiZXJyIiwiJG9uIiwiY291bmNpbF9tb2RhbCIsInJlbW92ZSIsIiRzY2UiLCJfIiwiJGNvcmRvdmFDYW1lcmEiLCIkY29yZG92YUZpbGVUcmFuc2ZlciIsIiRjb21waWxlIiwiJGlvbmljTW9kYWwiLCJDb25maWdTZXJ2aWNlIiwiUE1CU2VydmljZSIsIlJlcG9ydFNlcnZpY2UiLCJGYXFTZXJ2aWNlIiwiQ2F0ZWdvcmllc1NlcnZpY2UiLCJBdXRoU2VydmljZSIsIlVzZXJTZXJ2aWNlIiwiJHRpbWVvdXQiLCIkbG9jYXRpb24iLCJFcnJvclNlcnZpY2UiLCIkaW9uaWNTbGlkZUJveERlbGVnYXRlIiwiJGlvbmljU2Nyb2xsRGVsZWdhdGUiLCJQb3BVcFNlcnZpY2UiLCJDb25uZWN0aXZpdHlTZXJ2aWNlIiwiJGNvcmRvdmFJbkFwcEJyb3dzZXIiLCIkaW50ZXJ2YWwiLCJNYXBTZXJ2aWNlIiwiTW9kYWxTZXJ2aWNlIiwiZmVhdHVyZVJlcG9ydHMiLCJyZXBvcnRzQnlTdGF0ZSIsInJlcG9ydHNWaXNpYmxlIiwiYmFzZVVSTCIsInVzZXJfY2FjaGVkX2ltYWdlIiwicmVwb3J0X2RldGFpbF9pZCIsIm9uZV92YWx1ZV9wb3B1cCIsImFidXNlX25hbWUiLCJhYnVzZV9lbWFpbCIsImFidXNlX3N1YmplY3QiLCJhYnVzZV9tZXNzYWdlIiwiYWxsQ2F0ZWdvcmllc0Zyb21Cb3lBcmVhIiwiaXNPbmxpbmUiLCJjaGVja191c2VyX2xvZ2dlZCIsInNlbmRfb2ZmbGluZV9yZXBvcnRzIiwic2V0X29mZmxpbmVfdXNlciIsInd0a191cmxfZml4IiwibmV3VVJMIiwicmVwbGFjZSIsImNoZWNrTm9Nb2RhbElzT3BlbiIsInNldF9uZXR3b3JrX2V2ZW50cyIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJkaXNwbGF5IiwiY3JlYXRlX29ubGluZV9tYXAiLCJjcmVhdGVfb2ZmbGluZV9tYXAiLCJvcGVuV2Vic2l0ZSIsIm9wdGlvbnMiLCJsb2NhdGlvbiIsImNsZWFyY2FjaGUiLCJ0b29sYmFyIiwib3BlbiIsImV2ZW50IiwiaXNXZWJWaWV3IiwibmV0d29ya1N0YXRlIiwiZSIsInNlbmRfb2ZmbGluZV9yZXBvcnRzX2Zyb21fbWVudSIsImxpc3Rfb2ZmbGluZV9yZXBvcnRzIiwic2hvd19hbGVydCIsInJlcG9ydHMiLCJnZXRBbGxSZXBvcnRzIiwicmVzdWx0IiwidG90YWxfcm93cyIsInJvd3MiLCJmb3JFYWNoIiwicm93IiwicmVwb3J0IiwiZG9jIiwicmVwb3J0X3NlbnQiLCJmaWxlIiwic3VjY2VzcyIsImRhdGEiLCJzdGF0dXMiLCJoZWFkZXJzIiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsImRlbGV0ZVJlcG9ydCIsIl9pZCIsInJlc3AiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZSIsInByb2dyZXNzIiwic2VuZF9vZmZsaW5lX3JlcG9ydCIsIm1hcCIsImRlZmF1bHRzIiwidGlsZUxheWVyIiwibWluWm9vbSIsIm1heFpvb20iLCJ6b29tQ29udHJvbFBvc2l0aW9uIiwibWFya2VycyIsImV2ZW50cyIsImVuYWJsZSIsImxvZ2ljIiwiY2VudGVyIiwibG9hZFBpbnNMYXllciIsIm5ld19yZXBvcnRfbGF0IiwibGF0IiwibG5nIiwibmV3X3JlcG9ydF9sbmciLCJ6b29tIiwiZ2V0TWFwIiwib24iLCJoaWRlT2ZmU2NyZWVuUGlucyIsIm5ld19yZXBvcnRfZnJvbV9sYXRsb24iLCJpbml0aWFsX2xhdCIsImluaXRpYWxfbG5nIiwibmV3X3JlcG9ydCIsImFscmVhZHlMb2NhdGVkIiwic2V0X2FjdGl2ZV9vcHRpb24iLCJoaWRlX3NwZWNpYWxfZGl2cyIsIl9uZXciLCJsb24iLCJhbGwiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfcG9wdXAiLCJzYXZlQ2F0ZWdvcmllcyIsInNob3dfcmVwb3J0X2Zvcm0iLCJjYXRlZ29yaWVzIiwiY2F0ZWdvcmllc0RvYyIsImdldENhY2hlZENhdGVnb3JpZXMiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiYWRkTWFwQ29udHJvbHMiLCJlZGl0T2ZmbGluZVJlcG9ydCIsInJlcG9ydElkIiwib2ZmbGluZVJlcG9ydHMiLCJzaG93X29mZmxpbmVfcmVwb3J0X2Zvcm0iLCJkZWxldGVPZmZsaW5lUmVwb3J0IiwiZnJvbVRlbXBsYXRlVXJsIiwic2NvcGUiLCJhbmltYXRpb24iLCJtb2RhbCIsImFjdGl2ZU1vZGFsIiwic2hvdyIsInVwZGF0ZU9mZmxpbmVSZXBvcnQiLCJmaWVsZHMiLCJBcnJheSIsInB1c2giLCJjcmVhdGVfZmllbGRfYXJyYXkiLCJlbWFpbCIsInBhc3N3b3JkX3NpZ25faW4iLCJjYXRlZ29yeSIsInRpdGxlIiwiZGV0YWlsIiwiY2hlY2tfZmllbGRzIiwidXBkYXRlUmVwb3J0IiwiYmFja190b19tYXAiLCJsaXN0X3JlcG9ydHMiLCJvZmZsaW5lUmVwb3J0c01hcmtlcnMiLCJvcGVuUG9wdXAiLCJjbGVhbk9mZmxpbmVNYXJrZXJzIiwiZWFjaExheWVyIiwibGF5ZXIiLCJfdXJsIiwiYWx0IiwicmVtb3ZlTGF5ZXIiLCJkZWxldGVPZmZsaW5lUmVwb3J0T2siLCJpZCIsImRlbGV0ZUdpdmVuUmVwb3J0IiwibWFya2VyIiwiaXNMb2dnZWQiLCJuYW1lIiwicGFzc3dvcmQiLCJwaG9uZSIsImhhcmR3YXJlQmFja0J1dHRvbkNsb3NlIiwidGVtcGxhdGUiLCJjYXRlZ29yeWdyb3VwIiwiY2F0ZWdvcmllc19zZWxlY3QiLCJxdWVyeVNlbGVjdG9yIiwidmFsIiwidXBkYXRlX3N1YmNhdGVnb3JpZXMiLCJzdWJfc2VsZWN0X2lkIiwic3ViX2NhdGVnb3JpZXNfc2VsZWN0IiwiYWxsX3N1YmNhdHNfc2VsZWN0c19hY3RpdmUiLCJjbGFzc05hbWUiLCJpZENhdCIsImFjdGl2ZV9zZWxlY3QiLCJhYnVzZSIsImNvbmZpcm1BYnVzZSIsInN1YlRpdGxlIiwiYnV0dG9ucyIsInRleHQiLCJ0eXBlIiwib25UYXAiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwicmVzIiwiaHR0cF9yZXF1ZXN0Iiwic2VuZF9jb21tZW50IiwiY29tbWVudCIsInVwZGF0ZSIsImNvbW1lbnRfc2VudCIsInBob3RvIiwic2hvd19lcnJvcl9tZXNzYWdlIiwidXBsb2FkUHJvZ3Jlc3MiLCJsb2FkZWQiLCJ0b3RhbCIsImlubmVySFRNTCIsIk1hdGgiLCJyb3VuZCIsInN1YnNjcmliZSIsImNvbmZpcm1TdWJzY3JpYmUiLCJjb25maXJtUG9wdXAiLCJhc2tGb3JPbmVWYWx1ZVBvcFVwIiwiY29uZmlybUhpZGUiLCJjb25maXJtUmVwb3J0IiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwiLCJyZXBvcnRlRW52aWFkbyIsInNldFZpZXciLCJMIiwiTGF0TG5nIiwic2F2ZV9vZmZsaW5lX3JlcG9ydCIsIm5leHQiLCJwcmV2aW91cyIsImNvbmZpcm1SZXBvcnRXaXRoTG9naW4iLCJzaWduX2luIiwiaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsIiwic2F2ZV91c2VyX2RhdGEiLCJpZGVudGl0eV9kb2N1bWVudCIsInBpY3R1cmVfdXJsIiwiZnJvbV9ib2R5Iiwic2F2ZVVzZXIiLCJzZXRfdXNlcl9waWN0dXJlIiwic3RhdHVzVGV4dCIsImRhdGUiLCJEYXRlIiwiZGF5IiwiZ2V0RGF0ZSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJzYXZlUmVwb3J0IiwiY2FuY2VsUmVwb3J0IiwiaW1hZ2UiLCJhZGRJbWFnZSIsImlzRnJvbUFsYnVtIiwiaXNVc2VyUGhvdG8iLCJpc0NvbW1lbnRQaG90byIsInNvdXJjZSIsIkNhbWVyYSIsIlBpY3R1cmVTb3VyY2VUeXBlIiwiQ0FNRVJBIiwiZml4X29yaWVudGF0aW9uIiwic2F2ZV90b19nYWxsZXJ5IiwiUEhPVE9MSUJSQVJZIiwicXVhbGl0eSIsImRlc3RpbmF0aW9uVHlwZSIsIkRlc3RpbmF0aW9uVHlwZSIsIkZJTEVfVVJJIiwic291cmNlVHlwZSIsImFsbG93RWRpdCIsImNvcnJlY3RPcmllbnRhdGlvbiIsImVuY29kaW5nVHlwZSIsIkVuY29kaW5nVHlwZSIsIkpQRUciLCJwb3BvdmVyT3B0aW9ucyIsIkNhbWVyYVBvcG92ZXJPcHRpb25zIiwic2F2ZVRvUGhvdG9BbGJ1bSIsIm1lZGlhVHlwZSIsIk1lZGlhVHlwZSIsIlBJQ1RVUkUiLCJ0YXJnZXRXaWR0aCIsInRhcmdldEhlaWdodCIsImdldFBpY3R1cmUiLCJpbWFnZURhdGEiLCJvbkltYWdlU3VjY2VzcyIsImZpbGVVUkkiLCJyZXNvbHZlTG9jYWxGaWxlU3lzdGVtVVJMIiwiZmlsZUVudHJ5IiwidG9VUkwiLCJmdWxsRmlsZVBhdGgiLCJwcm9maWxlIiwiaW1nVVJJIiwiY3JlYXRlRmlsZUVudHJ5IiwiY29weUZpbGUiLCJmYWlsIiwiZnVsbFBhdGgiLCJzdWJzdHIiLCJsYXN0SW5kZXhPZiIsIm5ld05hbWUiLCJtYWtlaWQiLCJkYXRhRGlyZWN0b3J5IiwiZmlsZVN5c3RlbTIiLCJjb3B5VG8iLCJvbkNvcHlTdWNjZXNzIiwiZW50cnkiLCIkYXBwbHkiLCJuYXRpdmVVUkwiLCJwb3NzaWJsZSIsImkiLCJjaGFyQXQiLCJmbG9vciIsInJhbmRvbSIsInVybEZvckltYWdlIiwiaW1hZ2VVUkwiLCJsaXN0X29mZmxpbmVfcmVwb3J0c19tZW51IiwiZGl2IiwiYWRkX29mZmxpbmVfcmVwb3J0X2RpdiIsIm1hcmtlck9wdGlvbnMiLCJhZGRUbyIsIm1hcmtlckhUTUwiLCJjb21waWxlZCIsImJpbmRQb3B1cCIsImh0bWwiLCJjb250ZW50cyIsIiRicm9hZGNhc3QiLCJsaXN0X3JlcG9ydHNfYW5kX2dvIiwiZ29Ub09mZmxpbmVSZXBvcnQiLCJoZWxwIiwiZmFxIiwidHJ1c3RBc0h0bWwiLCJzY3JvbGxNZSIsImFuY2hvcl9pZCIsImhhc2giLCJoYW5kbGUiLCIkZ2V0QnlIYW5kbGUiLCJhbmNob3JTY3JvbGwiLCJjbG9zZV9mYXFfbW9kYWwiLCJidXR0b25pZCIsInZpZXdSZXBvcnREZXRhaWxzIiwiZ2V0QnlJZCIsInJlcG9ydF9kZXRhaWwiLCJiYXNlQ29icmFuZCIsInN1Ym1pdF91cGRhdGUiLCJtYXlfc2hvd19uYW1lIiwiYWRkX2FsZXJ0IiwiZml4ZWQiLCJmb3JtX3J6bnZ5IiwiZmVhdHVyZSIsImdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCJnZXRBcmVhcyIsImpzb25PYmplY3QiLCJpc0JvZHlBZG1pbiIsInByb3AiLCJhcmVhSWQiLCJhcmVhUHJvcHMiLCJuZXdfY2F0ZWdvcnkiLCJwcm9wZXJ0aWVzIiwiYWxsRnJvbUJvZHlBcmVhIiwianNvbkFyZWFPYmplY3QiLCJpbmRleCIsInNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cCIsImNsb3NlX3JlcG9ydF9kZXRhaWxfbW9kYWwiLCJsb2NhdGUiLCJjb29yZHMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsIm5vdyIsIm1lc3NhZ2UiLCJmb2N1cyIsImRyYWdnYWJsZSIsInN0YXJ0UmVwb3J0RnJvbUNyb3NzaGFpcnMiLCJsYXRsb24iLCJnZXRDZW50ZXIiLCJzYXZlX25ld19yZXBvcnRfcG9zaXRpb24iLCJnZXRPbmx5Q2F0ZWdvcnlJY29uVVJMIiwibmV3X3VybCIsIm1hcEJvdW5kcyIsImdldEJvdW5kcyIsImtleXNBcnJheSIsIml0ZW0iLCJrZXkiLCJzaG91bGRCZVZpc2libGUiLCJjb250YWlucyIsImdldExhdExuZyIsImFkZExheWVyIiwicmVtb3ZlQWxsUGlucyIsImdldEFsbCIsInBpbnNBcnJheSIsImZlYXR1cmVzIiwiaWNvbiIsInBpbl91cmwiLCJtYXJrZXJJY29uIiwiaWNvblVybCIsImljb25TaXplIiwiaWNvbkFuY2hvciIsInBvcHVwQW5jaG9yIiwiZGVzY3JpcGNpb24iLCJhZGRSZXBvcnRzTGF5ZXIiLCJqc29uTGF5ZXIiLCJidWlsZFBvcHVwIiwib25FYWNoRmVhdHVyZSIsImwiLCJMYXllckpTT04iLCJsb2NBc0dlb0pTT04iLCJfbGF5ZXIiLCJzZXRJY29uIiwidW5kZWZpbmVkIiwiZ29Ub1JlcG9ydCIsInJlcG9ydF9kaXZzX2FjdGl2ZSIsInJlcG9ydF9kaXYiLCJtb2RlbCIsImV4dGVybmFsTW9kZWwiLCJzZWxlY3RlZEl0ZW1zIiwicHJlc2VsZWN0ZWRTZWFyY2hJdGVtcyIsImNsaWNrZWRWYWx1ZU1vZGVsIiwicmVtb3ZlZFZhbHVlTW9kZWwiLCJnZXRUZXN0SXRlbXMiLCJvYmoiLCJ0b1JldHVybiIsIml0ZW1zIiwidmlldyIsIml0ZW1zUmVtb3ZlZCIsImNhbGxiYWNrIiwidXNlcl9vcHRpb25zIiwibWVudSIsInNob3dfYW5vbnltb3VzX21lbnUiLCJzaG93X3VzZXJfbWVudSIsImhlaWdodCIsIndpZHRoIiwiZm9yZ290X3Bhc3N3b3JkIiwibm9uYXV0aCIsImZvcmdvdF9wYXNzd29yZF9vayIsInBhc3N3b3JkX3JlY292ZXJ5IiwiY2hhbmdlX3Bhc3N3b3JkIiwib2xkUGFzc3dvcmQiLCJuZXdQYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsImNoYW5nZV9wYXNzd29yZF9vayIsImNyZWF0ZV9maWVsZF9hcnJheV93aXRoX3R3b0ZpZWxkcyIsInBhc3N3b3JkX2NoYW5nZSIsImZpZWxkIiwic2Vjb25kVmFsdWUiLCJmaXhfZmJfaW1hZ2VfbGluayIsImluZGV4T2YiLCJwYXJ0cyIsInNwbGl0IiwibmV3VXJsIiwiY2xvc2VfbG9naW5fbW9kYWwiLCJzaWduX2luX2FqYXgiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsInNpZ25fb3V0IiwiZXJhc2VfdXNlcl9kYXRhIiwiZXJhc2VVc2VyIiwic2hvd19lZGl0X3Byb2ZpbGVfbW9kYWwiLCJmdWxsbmFtZSIsIm5ld19lbWFpbCIsImlkX2RvYyIsInRlbGVwaG9uZSIsImFjdHVhbF9waG90byIsImNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCIsImVkaXRfcHJvZmlsZV9vayIsImVkaXRfcHJvZmlsZSIsInVzZXJfcGhvbmUiLCJ1c2VyX3BpY3R1cmVfdXJsIiwiZWRpdF9yZXF1ZXN0IiwiZWRpdF91c2VyIiwiYWxlcnQiLCJjb2RlIiwidGFyZ2V0IiwiaHR0cF9zdGF0dXMiLCJib2R5IiwiZXhjZXB0aW9uIiwic2hvd19sb2dpbl9tb2RhbCIsImxvZ2luX29rIiwic2hvd19zaWduX3VwX21vZGFsIiwibmV3dXNlciIsImNsb3NlX3NpZ25fdXBfbW9kYWwiLCJzaWduX3VwIiwiY3JlYXRlX3VzZXIiLCJhbGVydFBvcHVwIiwic2lnbl91cF9vayIsInVzZXIiLCJnZXRVc2VyIiwiaGFzUGhvdG8iLCJmaW5kX21lIiwiZ2V0TWVzc2FnZVNjb3BlIiwib3BlbkNvdW5jaWxTZWxlY3RvciIsImxvY2F0aW9uRXZlbnQiLCJsZWFmbGV0RXZlbnQiLCJsYXRsbmciLCJzZWxlY3RfaW1tIiwiY2xvc2VfY291bmNpbF9tb2RhbCIsInNlbGVjdENvdW5jaWwiLCJjZW50ZXJNYXBPbkNvb3JkcyIsInNlbGVjdF9pZHIiLCJzZWxlY3RfaXJuIiwiTG9hZGVyIiwicmVwb3J0QnV0dG9uIiwic2VhcmNoTW9kZSIsImNhbGxlIiwiZXNxdWluYSIsImx1Z2FyIiwibG9jYXRpb25HZW9tUGFyYW1zIiwidGlwbyIsInBhdGhQYXJhbXMiLCJpbml0UmVwb3J0IiwiX3BpbiIsIl9waW5JY29uIiwiY2xpY2thYmxlIiwiY3VycmVudCIsInNldExhdExuZyIsImlzTnVtZXJpYyIsIm4iLCJpc05hTiIsInBhcnNlRmxvYXQiLCJpc0Zpbml0ZSIsInByb21pc2VTZWFyY2giLCJ0cmltIiwiZGVzY1RpcG8iLCJhZGRyZXNzIiwic2VhcmNoRXNxdWluYUJ5U3RyIiwic2VsZWN0ZWRJdGVtIiwiaXRlbXNDbGlja2VkIiwiaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaCIsInN0cl90aXBvIiwiZ2V0TG9jYXRpb25HZW9tUE1CIiwiZ29Ub1BsYWNlIiwiYXR0ciIsIml0ZW1zQ2FuY2VsZWQiLCJfaXRlbSIsIm51bVB1ZXJ0YSIsInBhcnNlSW50Iiwic2VhcmNoUXVlcnkiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJjb2RpZ28iLCJnZXRMb2NhdGlvbkdlb20iLCJleHRlbmQiLCJub21icmUiLCJzaG93QWxlcnQiLCJmYWN0b3J5IiwiJGh0dHAiLCJnZXQiLCJ3aXRoQ3JlZGVudGlhbHMiLCJwYXJhbXMiLCJmb3JtX2VtYWlsIiwicGFzc3dvcmRfcmVnaXN0ZXIiLCJsb2dpbl9lbWFpbCIsInBvc3QiLCJDb250ZW50LVR5cGUiLCJmaWxlS2V5IiwidHJ1c3RBbGxIb3N0cyIsInVwbG9hZCIsImJhc2VVUkxmcm9tQVBJIiwiZm9ybWF0IiwiYXBpX2tleSIsImFyZWEiLCJnZXRDYXRlZ29yaWVzIiwiQ29uZmlnT2JqIiwibmF2aWdhdG9yIiwib25MaW5lIiwiaXNPZmZsaW5lIiwiJHEiLCJ1c2VyX25hbWUiLCJ1c2VyX2VtYWlsIiwidXNlcl9wYXNzd29yZCIsInVzZXJfaWRfZG9jIiwiX3JldiIsIndoZW4iLCJfZGIiLCJwdXQiLCJQb3VjaERCIiwiYWRhcHRlciIsImlvc0RhdGFiYXNlTG9jYXRpb24iLCJuZXdfcmVwb3J0X2lkIiwiZ2V0TWlsbGlzZWNvbmRzIiwiZ2V0UmVwb3J0IiwiYWxsRG9jcyIsImluY2x1ZGVfZG9jcyIsImF0dGFjaG1lbnRzIiwic3RhcnRrZXkiLCJlbmRrZXkiLCJyZXBvcnRfaWQiLCJWYWxpZGF0aW9uU2VydmljZSIsImpzb25SZXN1bHQiLCJlcnJvckNvbnRhaW5lcklkIiwiZXJyb3JEaXYiLCJlcnJvcnMiLCJ2YWxpZGF0ZV9ub3RfZW1wdHkiLCJ2YWxpZGF0ZV9lbWFpbCIsInZhbGlkYXRlX2lkZG9jX3V5IiwidmFsaWRhdGVfdHdvX3dvcmRzIiwidmFsaWRhdGVfZXF1YWxzVG8iLCJhamF4IiwiJGlvbmljTG9hZGluZyIsIkxPQURFUkFQSSIsInNob3dMb2FkaW5nIiwiaGlkZUxvYWRpbmciLCJ0b2dnbGVMb2FkaW5nV2l0aE1lc3NhZ2UiLCJzZWxmIiwidGhpcyIsImNvbmZpcm0iLCJfdGl0bGUiLCJfdGVtcGxhdGUiLCJsb2NhdGlvbnNPYmoiLCJzZWxlY3RlZF9jb3VuY2lsIiwiY291bmNpbE5hbWUiLCJzYXZlZExvY2F0aW9ucyIsInByb2o0IiwiZGVmcyIsIm1hcFNlcnZpY2UiLCJfZ2VvSnNvbiIsImNycyIsIl9sYXRsbmciLCJQcm9qIiwiZ2VvSnNvbiIsInBvaW50VG9MYXllciIsImh0bWxQb3BVcCIsIm1vZGFsT0JKIiwiYmFzZSIsImZvcm0iLCJmaWxlTmFtZSIsImNodW5rZWRNb2RlIiwibWltZVR5cGUiLCJDb25uZWN0aW9uIiwicnpudnkiLCJzdWJqZWN0IiwiZW0iLCJkZWxldGVVUkwiLCJtYXBpdFVSTCIsImFsZXJ0X3RpdGxlIiwiYWxlcnRfbWVzc2FnZSIsImZpZWxkX25hbWUiLCJ2YWxpZGF0aW9uVHlwZSIsIm15UG9wdXAiLCJSZXBvcnQiLCJfZGF0YSIsInBpbnNVUkwiLCJfZGVmYXVsdCIsInBjIiwic3VibWl0X3NpZ25faW4iLCJyZW1lbWJlcl9tZSIsIl9hbGwiLCJidWlsZCIsInByb3RvdHlwZSIsIkFwaUltRW5kcG9pbnQiLCJBcGlEYXRhRW5kcG9pbnQiLCJyZXN0UHJlZmZpeCIsIl9sb2NhdGlvbiIsIm1ldGhvZCIsImdldFBhcmFtUGF0aEJ5VGlwbyIsImVzcXVpbmFfbnVtZXJvIiwiX3RpcG8iLCJyZXN0R2VvRGF0YVNlcnZpY2VQYXRoIiwiRVNRVUlOQSIsIkRJUkVDQ0lPTiIsIlVzZXJPYmoiLCJnZXRfdXNlcl9kYXRhIiwiYWRkX3Bob3RvIiwidmFsdWVzIiwiZmlsdGVyIiwidiIsInJlIiwidGVzdCIsImRpZyIsImEiXSwibWFwcGluZ3MiOiJBQU9BLEdBQUlBLFNBQ0ZDLFlBQWFDLFFBQVFDLE9BQU8seUJBQzVCQyxTQUFVRixRQUFRQyxPQUFPLHNCQUczQkgsUUFBT0ssSUFBTUgsUUFBUUMsT0FBTyxVQUFXLFFBQVEsZUFBZSxtQkFBbUIsb0JBQXFCLHFCQUFzQixrQkFBbUIsY0FFOUlHLFNBQVMsaUJBQ1JDLElBQUssaUNBR05ELFNBQVMsbUJBQ1JDLElBQUssVUFJTkMsS0FBQSxpQkFBQSxhQUFBLG1CQUFBLGtCQUFJLFNBQVNDLEVBQWdCQyxFQUFZQyxFQUFpQkMsR0FDekRGLEVBQVdHLFFBQVVDLE9BQU9ELFFBQzVCSixFQUFlTSxNQUFNLFdBQ25CQyxNQUFNQyxTQUFTQyxjQUFlLENBSTVCLEtBQ0VDLFFBQVFDLFFBQVFDLFNBQVNDLDBCQUF5QixHQUVuRCxNQUFPQyxJQUdSLElBQ0VULE9BQU9PLFNBQVNDLDBCQUF5QixHQUUxQyxNQUFPQyxJQUlSLElBQ0VGLFNBQVNDLDBCQUF5QixHQUVuQyxNQUFPQyxJQUdSLElBQ0VDLFVBQVVDLE9BRVgsTUFBT0YsVUFVYkcsUUFBQSxpQkFB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SSxFQUFPdFcsRUFBSSxDQUNuQixJQUFHMUcsRUFBTS9ELFFBQVUsRUFDakIsSUFBSXlLLEVBQUkxRyxFQUFNL0QsT0FBUXlLLEVBQUksRUFBR0EsSUFDM0IxRyxFQUFRLElBQU1BLENBR2xCLEtBQUkwRyxFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFDaEJzVyxHQUFNdEksU0FBUyxVQUFVaE8sSUFBTWdPLFNBQVMxVSxFQUFNMEcsSUFBTyxFQUV2RCxJQUFJck8sRUFNSixPQUpFQSxHQURDMmtCLEVBQUUsS0FBTyxFQUNELEVBRUEsR0FBS0EsRUFBSSxHQUVqQkQsR0FBTzFrQixFQU1aLE9BQU8iLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW9uaWMgU3RhcnRlciBBcHBcblxuLy8gYW5ndWxhci5tb2R1bGUgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyIG1vZHVsZXNcbi8vICdwbWJfaW0nIGlzIHRoZSBuYW1lIG9mIHRoaXMgYW5ndWxhciBtb2R1bGUgZXhhbXBsZSAoYWxzbyBzZXQgaW4gYSA8Ym9keT4gYXR0cmlidXRlIGluIGluZGV4Lmh0bWwpXG4vLyB0aGUgMm5kIHBhcmFtZXRlciBpcyBhbiBhcnJheSBvZiAncmVxdWlyZXMnXG4vLyAnc3RhcnRlci5zZXJ2aWNlcycgaXMgZm91bmQgaW4gc2VydmljZXMuanNcbi8vICdzdGFydGVyLmNvbnRyb2xsZXJzJyBpcyBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xudmFyIHBtYl9pbSA9IHtcbiAgY29udHJvbGxlcnM6IGFuZ3VsYXIubW9kdWxlKCdwbWJfaW0uY29udHJvbGxlcnMnLCBbXSksXG4gIHNlcnZpY2VzOiBhbmd1bGFyLm1vZHVsZSgncG1iX2ltLnNlcnZpY2VzJywgW10pXG59O1xuXG5wbWJfaW0uYXBwID0gYW5ndWxhci5tb2R1bGUoJ3BtYl9pbScsIFsnaW9uaWMnLCdpb25pYy53aXphcmQnLCdpb24tYXV0b2NvbXBsZXRlJywnbGVhZmxldC1kaXJlY3RpdmUnLCAncG1iX2ltLmNvbnRyb2xsZXJzJywgJ3BtYl9pbS5zZXJ2aWNlcycsICduZ0NvcmRvdmEnXSlcblxuLmNvbnN0YW50KCdBcGlJbUVuZHBvaW50Jywge1xuICB1cmw6ICdodHRwOi8vd3d3Lm1vbnRldmlkZW8uZ3ViLnV5J1xufSlcblxuLmNvbnN0YW50KCdBcGlEYXRhRW5kcG9pbnQnLCB7XG4gIHVybDogJy9kYXRhJ1xufSlcblxuXG4ucnVuKGZ1bmN0aW9uKCRpb25pY1BsYXRmb3JtLCAkcm9vdFNjb3BlLCAkY29yZG92YUtleWJvYXJkLCRjb3Jkb3ZhTmV0d29yaykge1xuICAkcm9vdFNjb3BlLlZFUlNJT04gPSB3aW5kb3cuVkVSU0lPTjtcbiAgJGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgaW9uaWMuUGxhdGZvcm0uaXNGdWxsU2NyZWVuID0gdHJ1ZTtcblxuICAgIC8vIEhpZGUgdGhlIGFjY2Vzc29yeSBiYXIgYnkgZGVmYXVsdCAocmVtb3ZlIHRoaXMgdG8gc2hvdyB0aGUgYWNjZXNzb3J5IGJhciBhYm92ZSB0aGUga2V5Ym9hcmRcbiAgICAvLyBmb3IgZm9ybSBpbnB1dHMpXG4gICAgICB0cnkge1xuICAgICAgICBjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyKHRydWUpO1xuICAgICAgIH1cbiAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICB9XG4gICAgICAvL2NvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5kaXNhYmxlU2Nyb2xsKGZhbHNlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdpbmRvdy5LZXlib2FyZC5oaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIodHJ1ZSk7XG4gICAgICAgfVxuICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgIH1cblxuXG4gICAgICB0cnkge1xuICAgICAgICBLZXlib2FyZC5oaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIodHJ1ZSk7XG4gICAgICAgfVxuICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgU3RhdHVzQmFyLmhpZGUoKTtcbiAgICAgICB9XG4gICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgfVxuXG5cblxuXG5cbiAgfSk7XG59KVxuXG4uY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRjb21waWxlUHJvdmlkZXIsICRpb25pY0NvbmZpZ1Byb3ZpZGVyKSB7XG4gICRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZChmYWxzZSk7XG4gIC8vJGlvbmljQ29uZmlnUHJvdmlkZXIuc2Nyb2xsaW5nLmpzU2Nyb2xsaW5nKHRydWUpO1xuXG4gIC8vIElvbmljIHVzZXMgQW5ndWxhclVJIFJvdXRlciB3aGljaCB1c2VzIHRoZSBjb25jZXB0IG9mIHN0YXRlc1xuICAvLyBMZWFybiBtb3JlIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXVpL3VpLXJvdXRlclxuICAvLyBTZXQgdXAgdGhlIHZhcmlvdXMgc3RhdGVzIHdoaWNoIHRoZSBhcHAgY2FuIGJlIGluLlxuICAvLyBFYWNoIHN0YXRlJ3MgY29udHJvbGxlciBjYW4gYmUgZm91bmQgaW4gY29udHJvbGxlcnMuanNcbiAgJHN0YXRlUHJvdmlkZXJcblxuLnN0YXRlKCdhcHAnLCB7XG4gICAgY2FjaGU6IGZhbHNlLFxuICAgIHVybDogXCIvYXBwXCIsXG4gICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL21lbnUuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6ICdNYXBDb250cm9sbGVyJ1xuICB9KVxuXG4uc3RhdGUoJ2FwcC5tYXAnLCB7XG4gICAgY2FjaGU6IGZhbHNlLFxuICAgIHVybDogXCIvbWFwL1wiLFxuICAgIHZpZXdzOiB7XG4gICAgICAnbWVudUNvbnRlbnQnIDp7XG4gICAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9tYXAuaHRtbFwiLFxuICAgICAgICBjb250cm9sbGVyIDogXCJQTUJDdHJsXCJcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbi5zdGF0ZSgnYXBwLmludHJvJywge1xuICBjYWNoZTogZmFsc2UsXG4gIHVybDogXCIvaW50cm9cIixcbiAgdmlld3M6IHtcbiAgICAnbWVudUNvbnRlbnQnIDp7XG4gICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvaW50cm8uaHRtbFwiLFxuICAgICAgY29udHJvbGxlciA6IFwiSW50cm9DdHJsXCJcbiAgICB9XG4gIH1cbn0pXG5cbi8vIGlmIG5vbmUgb2YgdGhlIGFib3ZlIHN0YXRlcyBhcmUgbWF0Y2hlZCwgdXNlIHRoaXMgYXMgdGhlIGZhbGxiYWNrXG4kdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvYXBwL2ludHJvJyk7XG5cbn0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0F1dG9Db21wbGV0ZUN0cmwnLCBbJyRzY29wZScsICdsZWFmbGV0RGF0YScsICdsb2NhdGlvbkFQSScsIGZ1bmN0aW9uKCRzY29wZSwgbGVhZmxldERhdGEsIGxvY2F0aW9uQVBJKSB7XG5cblxuICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW9uLWF1dG9jb21wbGV0ZVwiKSk7XG4gICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmJpbmQoJ3RvdWNoZW5kIGNsaWNrIGZvY3VzJywgJHNjb3BlLm9uQ2xpY2spO1xuXG4gICRzY29wZS5vbkNsaWNrID0gZnVuY3Rpb24oKSB7XG5cbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5jb250cm9sbGVyKCdpb25BdXRvY29tcGxldGUnKS5zaG93TW9kYWwoKTtcblxuXG4gIH07XG5cblxuXG4gICRzY29wZS5zZWFyY2hMb2NhdGlvbiA9IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgaWYgKHF1ZXJ5KSB7XG4gICAgICAvL2NvbnNvbGUubG9nKFwicXVlcnk9IFwiICsgcXVlcnkpO1xuICAgICAgcmV0dXJuIGxvY2F0aW9uQVBJLnNlYXJjaExvY2F0aW9uQnlTdHIocXVlcnkpO1xuXG4gICAgfVxuICB9O1xuXG5cbn1dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdJbnRyb0N0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLFxuICAnJGNvcmRvdmFHZW9sb2NhdGlvbicsXG4gICckc3RhdGVQYXJhbXMnLFxuICAnJGlvbmljUGxhdGZvcm0nLFxuICAnJGlvbmljUG9wdXAnLFxuICAnTG9jYXRpb25zU2VydmljZScsXG4gICdEQlNlcnZpY2UnLFxuICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGNvcmRvdmFHZW9sb2NhdGlvbiwgJHN0YXRlUGFyYW1zLCAkaW9uaWNQbGF0Zm9ybSwgJGlvbmljUG9wdXAsIExvY2F0aW9uc1NlcnZpY2UsIERCU2VydmljZSkge1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZXJlYWR5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkYiA9IERCU2VydmljZS5pbml0REIoKTtcbiAgICAgIGRiLmluZm8oKS50aGVuKGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSkpO1xuICAgIH0pO1xuXG5cbiAgJHNjb3BlLmdlb2xvY2F0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgcG9zT3B0aW9ucyA9IHt0aW1lb3V0OiAzNTAwLCBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWV9O1xuICAgICAgJGNvcmRvdmFHZW9sb2NhdGlvblxuICAgICAgICAuZ2V0Q3VycmVudFBvc2l0aW9uKHBvc09wdGlvbnMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgTG9jYXRpb25zU2VydmljZS5zYXZlX2luaXRpYWxfcG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICAgICRzdGF0ZS5nbyhcImFwcC5tYXBcIik7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICRzdGF0ZS5nbyhcImFwcC5tYXBcIik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICRzY29wZS4kb24oJyRpb25pY1ZpZXcuZW50ZXInLCBmdW5jdGlvbigpeyAvL1RoaXMgaXMgZmlyZWQgdHdpY2UgaW4gYSByb3dcbiAgICAgIGlmKExvY2F0aW9uc1NlcnZpY2UuY291bmNpbF9tb2RhbCE9bnVsbCl7XG4gICAgICAgIExvY2F0aW9uc1NlcnZpY2UuY291bmNpbF9tb2RhbC5oaWRlKCk7XG4gICAgICAgIExvY2F0aW9uc1NlcnZpY2UuY291bmNpbF9tb2RhbC5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgICAkc2NvcGUuZ2VvbG9jYXRlKCk7XG4gICB9KTtcblxuICB9XG5dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdNYXBDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHNjZScsICdfJyxcbiAgJyRjb3Jkb3ZhQ2FtZXJhJyxcbiAgJyRjb3Jkb3ZhRmlsZVRyYW5zZmVyJyxcbiAgJyRjb3Jkb3ZhR2VvbG9jYXRpb24nLFxuICAnJGNvbXBpbGUnLFxuICAnJHN0YXRlJyxcbiAgJyRzdGF0ZVBhcmFtcycsXG4gICckaW9uaWNNb2RhbCcsXG4gICckaW9uaWNQb3B1cCcsXG4gICdsZWFmbGV0RGF0YScsXG4gICdDb25maWdTZXJ2aWNlJyxcbiAgJ1BNQlNlcnZpY2UnLFxuICAnTG9jYXRpb25zU2VydmljZScsXG4gICdSZXBvcnRTZXJ2aWNlJyxcbiAgJ0ZhcVNlcnZpY2UnLFxuICAnQ2F0ZWdvcmllc1NlcnZpY2UnLFxuICAnQXV0aFNlcnZpY2UnLFxuICAnVXNlclNlcnZpY2UnLFxuICAnREJTZXJ2aWNlJyxcbiAgJyR0aW1lb3V0JyxcbiAgJyRsb2NhdGlvbicsXG4gICdFcnJvclNlcnZpY2UnLFxuICAnJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZScsXG4gICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScsXG4gICckY29yZG92YU5ldHdvcmsnLFxuICAnUG9wVXBTZXJ2aWNlJyxcbiAgJyRpb25pY1BsYXRmb3JtJyxcbiAgJ0Nvbm5lY3Rpdml0eVNlcnZpY2UnLFxuICAnJGNvcmRvdmFJbkFwcEJyb3dzZXInLFxuICAnJGludGVydmFsJyxcbiAgJyRjb3Jkb3ZhS2V5Ym9hcmQnLFxuICAnTWFwU2VydmljZScsXG4gICdNb2RhbFNlcnZpY2UnLFxuICBmdW5jdGlvbihcbiAgICAkc2NvcGUsXG4gICAgJHNjZSxcbiAgICBfLFxuICAgICRjb3Jkb3ZhQ2FtZXJhLFxuICAgICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLFxuICAgICRjb3Jkb3ZhR2VvbG9jYXRpb24sXG4gICAgJGNvbXBpbGUsXG4gICAgJHN0YXRlLFxuICAgICRzdGF0ZVBhcmFtcyxcbiAgICAkaW9uaWNNb2RhbCxcbiAgICAkaW9uaWNQb3B1cCxcbiAgICBsZWFmbGV0RGF0YSxcbiAgICBDb25maWdTZXJ2aWNlLFxuICAgIFBNQlNlcnZpY2UsXG4gICAgTG9jYXRpb25zU2VydmljZSxcbiAgICBSZXBvcnRTZXJ2aWNlLFxuICAgIEZhcVNlcnZpY2UsXG4gICAgQ2F0ZWdvcmllc1NlcnZpY2UsXG4gICAgQXV0aFNlcnZpY2UsXG4gICAgVXNlclNlcnZpY2UsXG4gICAgREJTZXJ2aWNlLFxuICAgICR0aW1lb3V0LFxuICAgICRsb2NhdGlvbixcbiAgICBFcnJvclNlcnZpY2UsXG4gICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSxcbiAgICAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSxcbiAgICAkY29yZG92YU5ldHdvcmssXG4gICAgUG9wVXBTZXJ2aWNlLFxuICAgICRpb25pY1BsYXRmb3JtLFxuICAgIENvbm5lY3Rpdml0eVNlcnZpY2UsXG4gICAgJGNvcmRvdmFJbkFwcEJyb3dzZXIsXG4gICAgJGludGVydmFsLFxuICAgICRjb3Jkb3ZhS2V5Ym9hcmQsXG4gICAgTWFwU2VydmljZSxcbiAgICBNb2RhbFNlcnZpY2VcbiAgKSB7XG5cbiAgICAvKipcbiAgICAgKiBPbmNlIHN0YXRlIGxvYWRlZCwgZ2V0IHB1dCBtYXAgb24gc2NvcGUuXG4gICAgICovXG4gICAgJHNjb3BlLmZlYXR1cmVSZXBvcnRzID0ge307XG4gICAgJHNjb3BlLnJlcG9ydHNCeVN0YXRlID0ge307XG4gICAgJHNjb3BlLnJlcG9ydHNWaXNpYmxlID0ge307XG4gICAgJHNjb3BlLmJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkw7XG4gICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlID0gXCJcIjtcbiAgICAkc2NvcGUucmVwb3J0X2RldGFpbF9pZCA9IG51bGw7XG4gICAgJHNjb3BlLm9uZV92YWx1ZV9wb3B1cCA9IG51bGw7XG4gICAgJHNjb3BlLmFidXNlX25hbWUgPSBudWxsO1xuICAgICRzY29wZS5hYnVzZV9lbWFpbCA9IG51bGw7XG4gICAgJHNjb3BlLmFidXNlX3N1YmplY3QgPSBudWxsO1xuICAgICRzY29wZS5hYnVzZV9tZXNzYWdlID0gbnVsbDtcbiAgICAkc2NvcGUuYWxsQ2F0ZWdvcmllc0Zyb21Cb3lBcmVhID0gbnVsbDtcbiAgICAkc2NvcGUudXNlcl9jYWNoZWRfaW1hZ2U9XCIuL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZ1wiO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZXJlYWR5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkYiA9IERCU2VydmljZS5pbml0REIoKTtcbiAgICAgIGRiLmluZm8oKS50aGVuKGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSkpO1xuICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICRzY29wZS5zZW5kX29mZmxpbmVfcmVwb3J0cygpO1xuICAgICAgfWVsc2V7XG4gICAgICAgICRzY29wZS5zZXRfb2ZmbGluZV91c2VyKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUud3RrX3VybF9maXggPSBmdW5jdGlvbih1cmwpIHtcbiAgICAgIHZhciBuZXdVUkwgPSB1cmwucmVwbGFjZShcImZpbGU6Ly9cIiwgXCJcIik7XG4gICAgICByZXR1cm4gbmV3VVJMO1xuICAgIH07XG5cbiAgICAkc2NvcGUuJG9uKFwiJGlvbmljVmlldy5iZWZvcmVFbnRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICRzY29wZS5zZXRfbmV0d29ya19ldmVudHMoKTtcbiAgICAgIHZhciBjaGVja09mZmxpbmVSZXBvcnRzID0gJGludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuc2VuZF9vZmZsaW5lX3JlcG9ydHMoKTtcbiAgICAgIH0sIDYwMDAwKTtcbiAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikhPW51bGwpe1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIH1cblxuICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgJHNjb3BlLmNyZWF0ZV9vbmxpbmVfbWFwKCk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgJHNjb3BlLmNyZWF0ZV9vZmZsaW5lX21hcCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLm9wZW5XZWJzaXRlID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogJ25vJyxcbiAgICAgICAgICAgICAgICBjbGVhcmNhY2hlOiAneWVzJyxcbiAgICAgICAgICAgICAgICB0b29sYmFyOiAnbm8nXG4gICAgICAgICAgICB9O1xuXG4gICAgICRjb3Jkb3ZhSW5BcHBCcm93c2VyLm9wZW4odXJsLCAnX2JsYW5rJywgb3B0aW9ucylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBlcnJvclxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2V0X25ldHdvcmtfZXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZihpb25pYy5QbGF0Zm9ybS5pc1dlYlZpZXcoKSl7XG4gICAgICAgICRzY29wZS4kb24oJyRjb3Jkb3ZhTmV0d29yazpvbmxpbmUnLCBmdW5jdGlvbihldmVudCwgbmV0d29ya1N0YXRlKXtcbiAgICAgICAgICAkc2NvcGUuY2hlY2tfdXNlcl9sb2dnZWQoKTtcbiAgICAgICAgICAkc2NvcGUuc2VuZF9vZmZsaW5lX3JlcG9ydHMoKTtcbiAgICAgICAgICAvLyRzY29wZS5hZGRSZXBvcnRzTGF5ZXIoKTtcbiAgICAgICAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAoKTtcblxuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLiRvbignJGNvcmRvdmFOZXR3b3JrOm9mZmxpbmUnLCBmdW5jdGlvbihldmVudCwgbmV0d29ya1N0YXRlKXtcbiAgICAgICAgICAkc2NvcGUuY3JlYXRlX29mZmxpbmVfbWFwKCk7XG4gICAgICAgICAgJHNjb3BlLnNldF9vZmZsaW5lX3VzZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICRzY29wZS5zZW5kX29mZmxpbmVfcmVwb3J0cygpO1xuICAgICAgICAgIC8vJHNjb3BlLmFkZFJlcG9ydHNMYXllcigpO1xuICAgICAgICAgICRzY29wZS5jcmVhdGVfb25saW5lX21hcCgpO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgJHNjb3BlLmNyZWF0ZV9vZmZsaW5lX21hcCgpO1xuICAgICAgICAgICRzY29wZS5zZXRfb2ZmbGluZV91c2VyKCk7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLnNlbmRfb2ZmbGluZV9yZXBvcnRzX2Zyb21fbWVudSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgJHNjb3BlLnNlbmRfb2ZmbGluZV9yZXBvcnRzKCk7XG4gICAgICAgICRzY29wZS5saXN0X29mZmxpbmVfcmVwb3J0cygpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KCdFcnJvciBkZSBjb25leGnDs24nLCdQYXJhIHBvZGVyIGVudmlhciBsb3MgcmVwb3J0ZXMgcGVuZGllbnRlcyBkZWJlIGVzdGFyIGNvbmVjdGFkbyBhIGludGVybmV0LicpO1xuICAgICAgfVxuXG4gICAgfTtcblxuICAgICRzY29wZS5zZW5kX29mZmxpbmVfcmVwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgdmFyIHJlcG9ydHMgPSBEQlNlcnZpY2UuZ2V0QWxsUmVwb3J0cygpO1xuICAgICAgICByZXBvcnRzLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgIC8vIGhhbmRsZSByZXN1bHRcbiAgICAgICAgICBpZihyZXN1bHQhPW51bGwgJiYgcmVzdWx0LnRvdGFsX3Jvd3M+MCl7XG4gICAgICAgICAgICByZXN1bHQucm93cy5mb3JFYWNoKGZ1bmN0aW9uKHJvdykge1xuICAgICAgICAgICAgICAgIHZhciByZXBvcnQgPSByb3cuZG9jO1xuICAgICAgICAgICAgICAgIHZhciByZXBvcnRfc2VudCA9IFBNQlNlcnZpY2UucmVwb3J0KHJlcG9ydCk7XG4gICAgICAgICAgICAgICAgaWYocmVwb3J0LmZpbGU9PW51bGwpe1xuICAgICAgICAgICAgICAgICAgcmVwb3J0X3NlbnQuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsY29uZmlnKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgoZGF0YSkpe1xuICAgICAgICAgICAgICAgICAgICAgIERCU2VydmljZS5kZWxldGVSZXBvcnQocmVwb3J0Ll9pZCk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgIC8vRVJST1IgU0VORElORyBUSEUgUkVQT1JUO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKXtcbiAgICAgICAgICAgICAgICAgICAgLy9FUlJPUiBTRU5ESU5HIFRIRSBSRVBPUlQ7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgcmVwb3J0X3NlbnQudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXNwLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgoZGF0YSkpe1xuICAgICAgICAgICAgICAgICAgICAgIERCU2VydmljZS5kZWxldGVSZXBvcnQocmVwb3J0Ll9pZCk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgIC8vRVJST1IgU0VORElORyBUSEUgUkVQT1JUO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgIC8vRVJST1IgU0VORElORyBUSEUgUkVQT1JUO1xuICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnNlbmRfb2ZmbGluZV9yZXBvcnQgPSBmdW5jdGlvbihyZXBvcnQpIHtcbiAgICAgIHZhciByZXBvcnRfc2VudCA9IFBNQlNlcnZpY2UucmVwb3J0KHJlcG9ydCk7XG4gICAgICBpZihyZXBvcnQuZmlsZT09bnVsbCl7XG4gICAgICAgIHJlcG9ydF9zZW50LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLGNvbmZpZyl7XG4gICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgoZGF0YSkpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpe1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSlcbiAgICAgIH1lbHNle1xuICAgICAgICByZXBvcnRfc2VudC50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzcC5yZXNwb25zZSk7XG4gICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgoZGF0YSkpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LCBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgfTtcblxuICAgICRzY29wZS5jcmVhdGVfb2ZmbGluZV9tYXAgPSBmdW5jdGlvbigpe1xuICAgICAgaWYoJHNjb3BlLm1hcCE9bnVsbCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5tYXAgPSB7XG4gICAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIHRpbGVMYXllcjogJy4vb2ZmbGluZV90aWxlcy97en0ve3h9L3t5fS5wbmcnLFxuICAgICAgICAgICAgLy9taW5ab29tOiAxMixcbiAgICAgICAgICAgIG1pblpvb206IDE2LFxuICAgICAgICAgICAgbWF4Wm9vbTogMTYsXG4gICAgICAgICAgICB6b29tQ29udHJvbFBvc2l0aW9uOiAndG9wbGVmdCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtYXJrZXJzOiB7fSxcbiAgICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgIG1hcDoge1xuICAgICAgICAgICAgICBlbmFibGU6IFsnY29udGV4dCddLFxuICAgICAgICAgICAgICBsb2dpYzogJ2VtaXQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAgPSBmdW5jdGlvbigpe1xuICAgICAgaWYoJHNjb3BlLm1hcCE9bnVsbCAmJiAkc2NvcGUubWFwLmRlZmF1bHRzLnRpbGVMYXllcj09Jy4vb2ZmbGluZV90aWxlcy97en0ve3h9L3t5fS5wbmcnKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgJHNjb3BlLm1hcCA9IHtcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAvL3RpbGVMYXllcjogJ2h0dHA6Ly97c30udGlsZS5vc20ub3JnL3t6fS97eH0ve3l9LnBuZycsXG4gICAgICAgICAgdGlsZUxheWVyOiAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLFxuICAgICAgICAgIG1pblpvb206IDEyLFxuICAgICAgICAgIG1heFpvb206IDE4LFxuICAgICAgICAgIHpvb21Db250cm9sUG9zaXRpb246ICd0b3BsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICAgbWFya2Vyczoge30sXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgIG1hcDoge1xuICAgICAgICAgICAgZW5hYmxlOiBbJ2NvbnRleHQnXSxcbiAgICAgICAgICAgIGxvZ2ljOiAnZW1pdCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNlbnRlcjoge1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgJHNjb3BlLmxvYWRQaW5zTGF5ZXIoKTtcbiAgICAgIGlmKExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sYXQhPVwiXCIpe1xuICAgICAgICAkc2NvcGUubWFwLmNlbnRlciA9IHtcbiAgICAgICAgICAgIGxhdDogTG9jYXRpb25zU2VydmljZS5uZXdfcmVwb3J0X2xhdCxcbiAgICAgICAgICAgIGxuZzogTG9jYXRpb25zU2VydmljZS5uZXdfcmVwb3J0X2xuZyxcbiAgICAgICAgICAgIHpvb206IDE2XG4gICAgICAgICAgfTtcbiAgICAgIH1lbHNle1xuICAgICAgICAkc2NvcGUubWFwLmNlbnRlciA9IHtcbiAgICAgICAgICAgIGxhdDogLTM0LjkwMTExMyxcbiAgICAgICAgICAgIGxuZzogLTU2LjE2NDUzMSxcbiAgICAgICAgICAgIHpvb206IDE2XG4gICAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgbWFwLm9uKCdtb3ZlZW5kJywgJHNjb3BlLmhpZGVPZmZTY3JlZW5QaW5zKTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuICAgIHZhciBMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIExvY2F0aW9uKSkgcmV0dXJuIG5ldyBMb2NhdGlvbigpO1xuICAgICAgdGhpcy5sYXQgPSBcIlwiO1xuICAgICAgdGhpcy5sbmcgPSBcIlwiO1xuICAgICAgdGhpcy5uYW1lID0gXCJcIjtcbiAgICB9O1xuXG4gICAgJHNjb3BlLm5ld19yZXBvcnRfZnJvbV9sYXRsb24gPSBmdW5jdGlvbihsYXQsbG5nKSB7XG4gICAgICBMb2NhdGlvbnNTZXJ2aWNlLm5ld19yZXBvcnRfbGF0ID0gbGF0O1xuICAgICAgTG9jYXRpb25zU2VydmljZS5uZXdfcmVwb3J0X2xuZyA9IGxuZztcbiAgICAgIExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQgPSAgbGF0O1xuICAgICAgTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xuZyA9ICBsbmc7XG4gICAgICAkc2NvcGUubmV3X3JlcG9ydCgxKTtcbiAgICB9XG5cbiAgICAkc2NvcGUubmV3X3JlcG9ydCA9IGZ1bmN0aW9uKGFscmVhZHlMb2NhdGVkKSB7XG4gICAgICAkc2NvcGUuc2V0X2FjdGl2ZV9vcHRpb24oJ2J1dHRvbi1yZXBvcnQnKTtcbiAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgaWYoYWxyZWFkeUxvY2F0ZWQ9PTEpe1xuICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbGF0ID0gTG9jYXRpb25zU2VydmljZS5uZXdfcmVwb3J0X2xhdDtcbiAgICAgICAgTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xuZyA9IExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sYXQ7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAgICRzY29wZS5yZXBvcnQgPSBSZXBvcnRTZXJ2aWNlLl9uZXcoKTtcbiAgICAgICAgICAkc2NvcGUucmVwb3J0LmxhdCA9IExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sYXQ7XG4gICAgICAgICAgJHNjb3BlLnJlcG9ydC5sb24gPSBMb2NhdGlvbnNTZXJ2aWNlLm5ld19yZXBvcnRfbG5nO1xuICAgICAgICAgIENhdGVnb3JpZXNTZXJ2aWNlLmFsbCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX3BvcHVwKHJlc3BvbnNlKSl7XG4gICAgICAgICAgICAgIERCU2VydmljZS5zYXZlQ2F0ZWdvcmllcyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgJHNjb3BlLnNob3dfcmVwb3J0X2Zvcm0ocmVzcG9uc2UuZGF0YS5jYXRlZ29yaWVzKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vT0ZGTElORSBSRVBPUlQuIEZpcnN0IG5lZWQgdG8gY2hlY2sgaWYgdGhlcmUgaXMgYW55IGNhY2hlZCBjYXRlZ29yaWVzLiBJZiBub3QsIGl0J3MgdGhlIGZpcnN0IHRpbWVcbiAgICAgICAgICAvL3J1bmluZyB0aGUgYXBwIHNvIG5lZWQgdG8gc2hvdyBtZXNzYWdlIHNheWluZyB0aGF0IGZpcnN0IHRpbWUgcmVwb3J0IGhhcyB0byBiZSBvbmxpbmUuXG4gICAgICAgICAgdmFyIGNhdGVnb3JpZXNEb2MgPSBDYXRlZ29yaWVzU2VydmljZS5nZXRDYWNoZWRDYXRlZ29yaWVzKCk7XG4gICAgICAgICAgY2F0ZWdvcmllc0RvYy50aGVuKGZ1bmN0aW9uKGRvYyl7XG4gICAgICAgICAgICBpZihkb2MgJiYgZG9jLmNhdGVnb3JpZXMgJiYgT2JqZWN0LmtleXMoZG9jLmNhdGVnb3JpZXMpLmxlbmd0aD4wKXtcbiAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydCA9IFJlcG9ydFNlcnZpY2UuX25ldygpO1xuICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0LmxhdCA9IExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sYXQ7XG4gICAgICAgICAgICAgICRzY29wZS5yZXBvcnQubG9uID0gTG9jYXRpb25zU2VydmljZS5uZXdfcmVwb3J0X2xuZztcbiAgICAgICAgICAgICAgJHNjb3BlLnNob3dfcmVwb3J0X2Zvcm0oZG9jLmNhdGVnb3JpZXMpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIC8vRmlyc3QgdGltZSByZXBvcnRcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoJ1ByaW1lciByZXBvcnRlJywnTGEgcHJpbWVyYSB2ZXogcXVlIHJlYWxpemEgdW4gcmVwb3J0ZSBkZWJlIGVuY29udHJhcnNlIGNvbmVjdGFkbyBhIGludGVybmV0LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgLy9GaXJzdCB0aW1lIHJlcG9ydFxuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydCgnUHJpbWVyIHJlcG9ydGUnLCdMYSBwcmltZXJhIHZleiBxdWUgcmVhbGl6YSB1biByZXBvcnRlIGRlYmUgZW5jb250cmFyc2UgY29uZWN0YWRvIGEgaW50ZXJuZXQuJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgICRzY29wZS5hZGRNYXBDb250cm9scygpO1xuICAgICAgICAvL1BvcFVwU2VydmljZS5zaG93X2FsZXJ0KCdOdWV2byByZXBvcnRlJywnUGFyYSByZWFsaXphciB1biBudWV2byByZXBvcnRlLCBtYW50w6luIHByZXNpb25hZG8gc29icmUgbGEgdWJpY2FjacOzbiBkZXNlYWRhLicpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUuZWRpdE9mZmxpbmVSZXBvcnQgPSBmdW5jdGlvbihyZXBvcnRJZCkge1xuICAgICAgICAkc2NvcGUuc2V0X2FjdGl2ZV9vcHRpb24oJ2J1dHRvbi1yZXBvcnQnKTtcbiAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAvL09GRkxJTkUgUkVQT1JULiBGaXJzdCBuZWVkIHRvIGNoZWNrIGlmIHRoZXJlIGlzIGFueSBjYWNoZWQgY2F0ZWdvcmllcy4gSWYgbm90LCBpdCdzIHRoZSBmaXJzdCB0aW1lXG4gICAgICAgICAgICAvL3J1bmluZyB0aGUgYXBwIHNvIG5lZWQgdG8gc2hvdyBtZXNzYWdlIHNheWluZyB0aGF0IGZpcnN0IHRpbWUgcmVwb3J0IGhhcyB0byBiZSBvbmxpbmUuXG4gICAgICAgICAgICB2YXIgY2F0ZWdvcmllc0RvYyA9IENhdGVnb3JpZXNTZXJ2aWNlLmdldENhY2hlZENhdGVnb3JpZXMoKTtcbiAgICAgICAgICAgIGNhdGVnb3JpZXNEb2MudGhlbihmdW5jdGlvbihkb2Mpe1xuICAgICAgICAgICAgICBpZihkb2MgJiYgZG9jLmNhdGVnb3JpZXMgJiYgT2JqZWN0LmtleXMoZG9jLmNhdGVnb3JpZXMpLmxlbmd0aD4wKXtcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0ID0gICRzY29wZS5vZmZsaW5lUmVwb3J0c1tyZXBvcnRJZF07XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dfb2ZmbGluZV9yZXBvcnRfZm9ybShkb2MuY2F0ZWdvcmllcyk7XG4gICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIC8vRmlyc3QgdGltZSByZXBvcnRcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KCdQcmltZXIgcmVwb3J0ZScsJ0xhIHByaW1lcmEgdmV6IHF1ZSByZWFsaXphIHVuIHJlcG9ydGUgZGViZSBlbmNvbnRyYXJzZSBjb25lY3RhZG8gYSBpbnRlcm5ldC4nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAvL0ZpcnN0IHRpbWUgcmVwb3J0XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KCdQcmltZXIgcmVwb3J0ZScsJ0xhIHByaW1lcmEgdmV6IHF1ZSByZWFsaXphIHVuIHJlcG9ydGUgZGViZSBlbmNvbnRyYXJzZSBjb25lY3RhZG8gYSBpbnRlcm5ldC4nKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICB9O1xuXG4gICRzY29wZS5kZWxldGVPZmZsaW5lUmVwb3J0ID0gZnVuY3Rpb24ocmVwb3J0SWQpIHtcbiAgICAvLyRzY29wZS5zZXRfYWN0aXZlX29wdGlvbignYnV0dG9uLXJlcG9ydCcpO1xuICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICRzY29wZS5yZXBvcnQgPSAgJHNjb3BlLm9mZmxpbmVSZXBvcnRzW3JlcG9ydElkXTtcbiAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvZGVsZXRlLW9mZmxpbmUtcmVwb3J0Lmh0bWwnLCB7XG4gICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgLy9oYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogZmFsc2UsXG4gICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBNb2RhbFNlcnZpY2Uuc2hvdygpO1xuICAgICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnVwZGF0ZU9mZmxpbmVSZXBvcnQgPSBmdW5jdGlvbigpe1xuICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiRW1haWxcIixcImVtYWlsXCIsJHNjb3BlLnJlcG9ydC5lbWFpbCkpO1xuICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb250cmFzZcOxYVwiLFwibm90TnVsbFwiLCRzY29wZS5yZXBvcnQucGFzc3dvcmRfc2lnbl9pbikpO1xuICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJTZWxlY2Npb25lIHVuYSBzdWJjYXRlZ29yw61hXCIsXCJub3ROdWxsXCIsJHNjb3BlLnJlcG9ydC5jYXRlZ29yeSkpO1xuICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJUw610dWxvXCIsXCJub3ROdWxsXCIsJHNjb3BlLnJlcG9ydC50aXRsZSkpO1xuICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJEZXRhbGxlc1wiLFwibm90TnVsbFwiLCRzY29wZS5yZXBvcnQuZGV0YWlsKSk7XG4gICAgaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkcyhmaWVsZHMsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgREJTZXJ2aWNlLnVwZGF0ZVJlcG9ydCgkc2NvcGUucmVwb3J0KS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5iYWNrX3RvX21hcCh0cnVlKTtcbiAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoXCJFbnbDrW8gcGVuZGllbnRlXCIsXCJTZSBoYW4gZ3VhcmRhZG8gbG9zIGNhbWJpb3MgYWwgcmVwb3J0ZS4gU2UgZW52aWFyw6EgY3VhbmRvIHV0aWxpY2UgZXN0YSBhcGxpY2FjacOzbiBjb25lY3RhZG8gYSBpbnRlcm5ldFwiKTtcbiAgICAgICAgJHNjb3BlLmxpc3RfcmVwb3J0cygpO1xuICAgICAgICAkc2NvcGUub2ZmbGluZVJlcG9ydHNNYXJrZXJzWyRzY29wZS5yZXBvcnQuX2lkXS5vcGVuUG9wdXAoKTtcbiAgICAgIH0pO1xuICAgIH1lbHNle1xuICAgICAgJHNjb3BlLmJhY2tfdG9fbWFwKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAkc2NvcGUuY2xlYW5PZmZsaW5lTWFya2VycyA9IGZ1bmN0aW9uKG1hcCl7XG4gICAgICBtYXAuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICBpZihsYXllci5fdXJsIT1cInVuZGVmaW5lZFwiICYmIGxheWVyLl91cmwhPW51bGwpe1xuICAgICAgICAgIC8vSVQncyBUSEUgTUFQIElUU0VMRlxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBpZihsYXllci5vcHRpb25zLmFsdCA9PSBcIlJlcG9ydGUgcGVuZGllbnRlIGRlIGVudsOtb1wiKXtcbiAgICAgICAgICAgIG1hcC5yZW1vdmVMYXllcihsYXllcik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gIH1cblxuICAkc2NvcGUuZGVsZXRlT2ZmbGluZVJlcG9ydE9rID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgaWQgPSAkc2NvcGUucmVwb3J0Ll9pZDtcbiAgICBEQlNlcnZpY2UuZGVsZXRlR2l2ZW5SZXBvcnQoJHNjb3BlLnJlcG9ydCkudGhlbihmdW5jdGlvbigpe1xuICAgICAgdmFyIG1hcmtlciA9ICRzY29wZS5vZmZsaW5lUmVwb3J0c01hcmtlcnNbaWRdO1xuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgbWFwLnJlbW92ZUxheWVyKG1hcmtlcik7XG4gICAgICB9KTtcbiAgICAgIC8vY29uc29sZS5sb2coJHNjb3BlLm9mZmxpbmVSZXBvcnRzTWFya2Vyc1tyZXBvcnQuaWRdKTtcbiAgICAgICRzY29wZS5iYWNrX3RvX21hcCh0cnVlKTtcbiAgICAgICRzY29wZS5saXN0X3JlcG9ydHMoKTtcbiAgICB9KTtcbiAgfVxuXG4gICRzY29wZS5zaG93X3JlcG9ydF9mb3JtID0gZnVuY3Rpb24oY2F0ZWdvcmllcyl7XG4gICAgJHNjb3BlLmNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIGlmKFVzZXJTZXJ2aWNlLmlzTG9nZ2VkKCkpe1xuICAgICAgJHNjb3BlLnJlcG9ydC5uYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgICRzY29wZS5yZXBvcnQuZW1haWwgPSBVc2VyU2VydmljZS5lbWFpbDtcbiAgICAgICRzY29wZS5yZXBvcnQucGFzc3dvcmRfc2lnbl9pbiA9IFVzZXJTZXJ2aWNlLnBhc3N3b3JkO1xuICAgICAgJHNjb3BlLnJlcG9ydC5waG9uZSA9IFVzZXJTZXJ2aWNlLnBob25lO1xuICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvcG1iLXdpemFyZC5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogZmFsc2VcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICB9KTtcbiAgICB9ZWxzZXtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL3BtYi13aXphcmQtd2l0aC1sb2dpbi5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogZmFsc2UsXG4gICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICB9KTtcblxuICAgIH1cbiAgfVxuXG4gICRzY29wZS5zaG93X29mZmxpbmVfcmVwb3J0X2Zvcm0gPSBmdW5jdGlvbihjYXRlZ29yaWVzKXtcbiAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IGNhdGVnb3JpZXM7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB2YXIgdGVtcGxhdGUgPSBcIlwiO1xuICAgIGlmKFVzZXJTZXJ2aWNlLmlzTG9nZ2VkKCkpe1xuICAgICAgJHNjb3BlLnJlcG9ydC5uYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgICRzY29wZS5yZXBvcnQuZW1haWwgPSBVc2VyU2VydmljZS5lbWFpbDtcbiAgICAgICRzY29wZS5yZXBvcnQucGFzc3dvcmRfc2lnbl9pbiA9IFVzZXJTZXJ2aWNlLnBhc3N3b3JkO1xuICAgICAgJHNjb3BlLnJlcG9ydC5waG9uZSA9IFVzZXJTZXJ2aWNlLnBob25lO1xuICAgICAgdGVtcGxhdGUgPSBcInRlbXBsYXRlcy9wbWItb2ZmbGluZS13aXphcmQuaHRtbFwiO1xuICAgIH1lbHNle1xuICAgICAgLy90ZW1wbGF0ZSA9IFwidGVtcGxhdGVzL3BtYi1vZmZsaW5lLXdpemFyZC13aXRoLWxvZ2luLmh0bWxcIjtcbiAgICAgIHRlbXBsYXRlID0gXCJ0ZW1wbGF0ZXMvcG1iLW9mZmxpbmUtd2l6YXJkLmh0bWxcIjtcbiAgICAgIC8vU2UgbGxhbWEgc2llbXByZSBhbCBmb3JtIHF1ZSBubyBwaWRlIHVzdWFyaW8gcG9ycXVlIHlhIHNlIGd1YXJkw7MgZWwgdXN1YXJpbyBsYSBwcmltZXJhIHZlelxuICAgIH1cbiAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvcG1iLW9mZmxpbmUtd2l6YXJkLmh0bWwnLCB7XG4gICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgLy9oYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogZmFsc2UsXG4gICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbC5zaG93KCkudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICB2YXIgY2F0ZWdvcnlncm91cCA9ICRzY29wZS5yZXBvcnQuY2F0ZWdvcnlncm91cDtcbiAgICAgICAgICAgICAgdmFyIGNhdGVnb3JpZXNfc2VsZWN0ID0gYW5ndWxhci5lbGVtZW50KCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnI2NhdGVnb3JpZXNTZWxlY3QnICkgKTtcbiAgICAgICAgICAgICAgY2F0ZWdvcmllc19zZWxlY3QudmFsKGNhdGVnb3J5Z3JvdXApO1xuICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlX3N1YmNhdGVnb3JpZXMoKTtcbiAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5ID0gJHNjb3BlLnJlcG9ydC5jYXRlZ29yeTtcbiAgICAgICAgICAgICAgdmFyIHN1Yl9zZWxlY3RfaWQgPSBcIiNzdWJjYXRlZ29yaWVzU2VsZWN0X1wiK2NhdGVnb3J5Z3JvdXA7XG4gICAgICAgICAgICAgIHZhciBzdWJfY2F0ZWdvcmllc19zZWxlY3QgPSBhbmd1bGFyLmVsZW1lbnQoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHN1Yl9zZWxlY3RfaWQgKSApO1xuICAgICAgICAgICAgICBzdWJfY2F0ZWdvcmllc19zZWxlY3QudmFsKGNhdGVnb3J5KTtcbiAgICAgICAgICAgICAgLy92YXIgY29tcGlsZWQgPSAkY29tcGlsZShlbGVtZW50LmNvbnRlbnRzKCkpKCRzY29wZSk7XG4gICAgICAgICAgICB9KTs7XG4gICAgfSk7XG4gIH1cblxuICAkc2NvcGUudXBkYXRlX3N1YmNhdGVnb3JpZXMgPSBmdW5jdGlvbigpe1xuICAgIHZhciBhbGxfc3ViY2F0c19zZWxlY3RzX2FjdGl2ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzdWJjYXRlZ29yeS1hY3RpdmVcIik7XG4gICAgaWYgKGFsbF9zdWJjYXRzX3NlbGVjdHNfYWN0aXZlICE9ICd1bmRlZmluZWQnICYmIGFsbF9zdWJjYXRzX3NlbGVjdHNfYWN0aXZlLmxlbmd0aD4wKXtcbiAgICAgIGFsbF9zdWJjYXRzX3NlbGVjdHNfYWN0aXZlWzBdLmNsYXNzTmFtZSA9IFwic3ViY2F0ZWdvcnktaGlkZGVuXCI7XG4gICAgfVxuICAgIHZhciBpZENhdCA9ICRzY29wZS5yZXBvcnQuY2F0ZWdvcnlncm91cDtcbiAgICB2YXIgYWN0aXZlX3NlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJjYXRlZ29yaWVzU2VsZWN0XycraWRDYXQpO1xuICAgIGFjdGl2ZV9zZWxlY3QuY2xhc3NOYW1lID0gXCJzdWJjYXRlZ29yeS1hY3RpdmVcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1YmNhdGVnb3JpZXNTZWxlY3RDb250YWluZXJcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7XG4gIH07XG5cbiAgJHNjb3BlLmFidXNlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29uZmlybUFidXNlID0gJGlvbmljUG9wdXAuc2hvdyh7XG4gICAgICB0ZW1wbGF0ZTogJ05vbWJyZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJhYnVzZV9uYW1lXCI+PGJyLz5FbWFpbDogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJhYnVzZV9lbWFpbFwiPjxici8+QXN1bnRvOiA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImFidXNlX3N1YmplY3RcIj48YnIvPk1lbnNhamU8dGV4dGFyZWEgcm93cz1cIjZcIiBpZD1cImFidXNlX21lc3NhZ2VcIj48L3RleHRhcmVhPjxkaXYgaWQ9XCJlcnJvcl9jb250YWluZXJfaW5zaWRlXCI+PC9kaXY+JyxcbiAgICAgIHRpdGxlOiBcIkRlbnVuY2lhciBhYnVzb1wiLFxuICAgICAgc3ViVGl0bGU6IFwiRXN0w6FzIHJlcG9ydGFuZG8gcG9yIGFidXNpdmEgYWwgc2lndWllbnRlIHJlcG9ydGUsIHF1ZSBjb250aWVuZSBpbmZvcm1hY2nDs24gcGVyc29uYWwsIG8gc2ltaWxhcjpcIixcbiAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICBidXR0b25zOiBbXG4gICAgICAgIHsgdGV4dDogJ0NhbmNlbGFyJyB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGV4dDogJzxiPkVudmlhcjwvYj4nLFxuICAgICAgICAgIHR5cGU6ICdidXR0b24tcG9zaXRpdmUnLFxuICAgICAgICAgIG9uVGFwOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgZmllbGRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAkc2NvcGUuYWJ1c2VfZW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFidXNlX2VtYWlsXCIpLnZhbHVlO1xuICAgICAgICAgICAgJHNjb3BlLmFidXNlX25hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFidXNlX25hbWVcIikudmFsdWU7XG4gICAgICAgICAgICAkc2NvcGUuYWJ1c2Vfc3ViamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWJ1c2Vfc3ViamVjdFwiKS52YWx1ZTtcbiAgICAgICAgICAgICRzY29wZS5hYnVzZV9tZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhYnVzZV9tZXNzYWdlXCIpLnZhbHVlO1xuICAgICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIk5vbWJyZVwiLFwibm90TnVsbFwiLCRzY29wZS5hYnVzZV9uYW1lKSk7XG4gICAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiRW1haWxcIixcImVtYWlsXCIsJHNjb3BlLmFidXNlX2VtYWlsKSk7XG4gICAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQXN1bnRvXCIsXCJub3ROdWxsXCIsJHNjb3BlLmFidXNlX3N1YmplY3QpKTtcbiAgICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJNZW5zYWplXCIsXCJub3ROdWxsXCIsJHNjb3BlLmFidXNlX21lc3NhZ2UpKTtcbiAgICAgICAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyX2luc2lkZVwiKSl7XG4gICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuYWJ1c2VfZW1haWw7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuICAgIGNvbmZpcm1BYnVzZS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICBpZihyZXMpIHtcbiAgICAgICB2YXIgaHR0cF9yZXF1ZXN0ID0gUE1CU2VydmljZS5hYnVzZSgkc2NvcGUuYWJ1c2VfZW1haWwsJHNjb3BlLnJlcG9ydF9kZXRhaWxfaWQsJHNjb3BlLmFidXNlX25hbWUsYWJ1c2Vfc3ViamVjdCwkc2NvcGUuYWJ1c2VfbWVzc2FnZSk7XG4gICAgICAgaHR0cF9yZXF1ZXN0LnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgIC8vdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2UpO1xuICAgICAgICAgIC8vaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsKGRhdGEsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoXCJEZW51bmNpYSBlbnZpYWRhXCIsXCJHcmFjaWFzIHBvciB0dXMgY29tZW50YXJpb3MuIMKhTm9zIHBvbmRyZW1vcyBlbiBjb250YWN0byBjb24gdXN0ZWQgdGFuIHByb250byBjb21vIG5vcyBzZWEgcG9zaWJsZSFcIik7XG4gICAgICAgICAgICAkc2NvcGUuYWJ1c2VfbmFtZSA9IG51bGw7XG4gICAgICAgICAgICAkc2NvcGUuYWJ1c2VfZW1haWwgPSBudWxsO1xuICAgICAgICAgICAgJHNjb3BlLmFidXNlX3N1YmplY3QgPSBudWxsO1xuICAgICAgICAgICAgJHNjb3BlLmFidXNlX21lc3NhZ2UgPSBudWxsO1xuICAgICAgICAgIC8vfVxuICAgICAgIH0pO1xuICAgIH1cbiAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5zZW5kX2NvbW1lbnQgPSBmdW5jdGlvbigpe1xuICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29tZW50YXJpb1wiLFwibm90TnVsbFwiLCRzY29wZS5jb21tZW50LnVwZGF0ZSkpO1xuICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyX2luc2lkZVwiKSl7XG4gICAgICBjb21tZW50X3NlbnQgPSBQTUJTZXJ2aWNlLmNvbW1lbnQoJHNjb3BlLmNvbW1lbnQpO1xuICAgICAgaWYoJHNjb3BlLmNvbW1lbnQucGhvdG89PW51bGwpe1xuICAgICAgICAgIGNvbW1lbnRfc2VudC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycyxjb25maWcpe1xuICAgICAgICAgICAgJHNjb3BlLmJhY2tfdG9fbWFwKHRydWUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKXtcbiAgICAgICAgICAgIEVycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2UoXCJlcnJvcl9jb250YWluZXJfaW5zaWRlXCIsc3RhdHVzKTtcbiAgICAgICAgICAgICRzY29wZS5iYWNrX3RvX21hcChmYWxzZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgY29tbWVudF9zZW50LnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgJHNjb3BlLmJhY2tfdG9fbWFwKHRydWUpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgfSwgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkUHJvZ3Jlc3MgPSAocHJvZ3Jlc3MubG9hZGVkIC8gcHJvZ3Jlc3MudG90YWwpICogMTAwO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnRfbGFiZWxcIikuaW5uZXJIVE1MID0gXCJFbnZpYWRvOiBcIiArIE1hdGgucm91bmQoJHNjb3BlLnVwbG9hZFByb2dyZXNzKSArIFwiJVwiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICAkc2NvcGUuc3Vic2NyaWJlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYoVXNlclNlcnZpY2UuaXNMb2dnZWQoKSl7XG4gICAgICB2YXIgY29uZmlybVN1YnNjcmliZSA9IFBvcFVwU2VydmljZS5jb25maXJtUG9wdXAoXCJTdWJzY3JpYmlyc2VcIixcIsK/RXN0w6Egc2VndXJvIHF1ZSBkZXNlYSByZWNpYmlyIHVuIGNvcnJlbyBhIGxhIGRpcmVjY2nDs24gXCIrVXNlclNlcnZpY2UuZW1haWwrXCIgY3VhbmRvIHNlIGRlamVuIGNvbWVudGFyaW9zIHNvYnJlIGVzdGUgcHJvYmxlbWE/XCIpO1xuICAgICAgY29uZmlybVN1YnNjcmliZS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgIGlmKHJlcykge1xuICAgICAgICB2YXIgaHR0cF9yZXF1ZXN0ID0gUE1CU2VydmljZS5zdWJzY3JpYmUoVXNlclNlcnZpY2UuZW1haWwsJHNjb3BlLnJlcG9ydF9kZXRhaWxfaWQpO1xuICAgICAgICBodHRwX3JlcXVlc3QudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgIC8vdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2UpO1xuICAgICAgICAgICAvL2lmKEVycm9yU2VydmljZS5odHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bChkYXRhLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgLy99XG4gICAgICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiQ29uZmlybWUgc3UgY29ycmVvXCIsXCJTZSBoYSBlbnZpYWRvIHVuIGxpbmsgYSBsYSBkaXJlY2Npw7NuIFwiICsgVXNlclNlcnZpY2UuZW1haWwgKyBcIiBwYXJhIGNvbmZpcm1hciBzdSBjb3JyZW8uIEx1ZWdvIGRlIGVzdG8gY29tZW56YXLDoW4gYSBsbGVnYXJsZSBsYXMgYWxlcnRhcyBzb2JyZSBudWV2b3MgY29tZW50YXJpb3MuXCIpXG4gICAgICAgIH0pO1xuICAgICAgIH1cbiAgICAgfSk7XG4gICAgfWVsc2V7XG4gICAgICB2YXIgY29uZmlybVN1YnNjcmliZSA9IFBvcFVwU2VydmljZS5hc2tGb3JPbmVWYWx1ZVBvcFVwKCRzY29wZSxcIlN1YnNjcmliaXJzZVwiLFwiUG9yIGZhdm9yLCBpbmdyZXNlIHVuIGNvcnJlbyBhbCBxdWUgZGVzZWEgcmVjaWJpciBtZW5zYWplcyBjdWFuZG8gc2UgZGVqZW4gY29tZW50YXJpb3Mgc29icmUgZXN0ZSBwcm9ibGVtYS5cIiwgXCJFbWFpbFwiLCBcImVtYWlsXCIpO1xuICAgICAgY29uZmlybVN1YnNjcmliZS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgIGlmKHJlcykge1xuICAgICAgICAgJHNjb3BlLm9uZV92YWx1ZV9wb3B1cCA9IHJlcztcbiAgICAgICAgIHZhciBodHRwX3JlcXVlc3QgPSBQTUJTZXJ2aWNlLnN1YnNjcmliZSgkc2NvcGUub25lX3ZhbHVlX3BvcHVwLCRzY29wZS5yZXBvcnRfZGV0YWlsX2lkKTtcbiAgICAgICAgIGh0dHBfcmVxdWVzdC50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIC8vdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2UpO1xuICAgICAgICAgICAgLy9pZihFcnJvclNlcnZpY2UuaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwoZGF0YSxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiQ29uZmlybWUgc3UgY29ycmVvXCIsXCJTZSBoYSBlbnZpYWRvIHVuIGxpbmsgYSBsYSBkaXJlY2Npw7NuIFwiICsgJHNjb3BlLm9uZV92YWx1ZV9wb3B1cCArIFwiIHBhcmEgY29uZmlybWFyIHN1IGNvcnJlby4gTHVlZ28gZGUgZXN0byBjb21lbnphcsOhbiBhIGxsZWdhcmxlIGxhcyBhbGVydGFzIHNvYnJlIG51ZXZvcyBjb21lbnRhcmlvcy5cIilcbiAgICAgICAgICAgICAgJHNjb3BlLm9uZV92YWx1ZV9wb3B1cCA9IG51bGw7XG4gICAgICAgICAgICAvL31cbiAgICAgICAgIH0pO1xuICAgICAgfVxuICAgICB9KTtcbiAgICB9XG5cbiAgfTtcblxuICAkc2NvcGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmKFVzZXJTZXJ2aWNlLmlzTG9nZ2VkKCkpe1xuICAgICAgdmFyIGNvbmZpcm1IaWRlID0gUG9wVXBTZXJ2aWNlLmNvbmZpcm1Qb3B1cChcIk9jdWx0YXJcIixcIsK/RXN0w6Egc2VndXJvIGRlIHF1ZSBkZXNlYSBvY3VsdGFyIHN1IHJlcG9ydGU/IEVzdGUgbm8gYXBhcmVjZXLDoSBtw6FzIG5pIGVuIGxhIHDDoWdpbmEgbmkgZW4gbGEgYXBsaWNhY2nDs24gc2kgZXMgb2N1bHRhZG8uXCIpO1xuICAgICAgY29uZmlybUhpZGUudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICBpZihyZXMpIHtcbiAgICAgICAgdmFyIGh0dHBfcmVxdWVzdCA9IFBNQlNlcnZpY2UuaGlkZSgkc2NvcGUucmVwb3J0X2RldGFpbF9pZCk7XG4gICAgICAgIGh0dHBfcmVxdWVzdC50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoXCJPY3VsdGFyXCIsXCJTZSBoYSBvY3VsdGFkbyBlbCByZXBvcnRlLiBObyBzZXLDoSB2aXNpYmxlIGVuIGVsIGZ1dHVyby5cIik7XG4gICAgICAgIH0pO1xuICAgICAgIH1cbiAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5jb25maXJtUmVwb3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJTZWxlY2Npb25lIHVuYSBzdWJjYXRlZ29yw61hXCIsXCJub3ROdWxsXCIsJHNjb3BlLnJlcG9ydC5jYXRlZ29yeSkpO1xuICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIlTDrXR1bG9cIixcIm5vdE51bGxcIiwkc2NvcGUucmVwb3J0LnRpdGxlKSk7XG4gICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiRGV0YWxsZXNcIixcIm5vdE51bGxcIiwkc2NvcGUucmVwb3J0LmRldGFpbCkpO1xuICAgICAgaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkcyhmaWVsZHMsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICB2YXIgcmVwb3J0X3NlbnQgPSBQTUJTZXJ2aWNlLnJlcG9ydCgkc2NvcGUucmVwb3J0KTtcbiAgICAgICAgdmFyIGJhY2tfdG9fbWFwID0gZmFsc2U7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgaWYoJHNjb3BlLnJlcG9ydC5maWxlPT1udWxsKXtcbiAgICAgICAgICByZXBvcnRfc2VudC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycyxjb25maWcpe1xuICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsKGRhdGEsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAkc2NvcGUuYmFja190b19tYXAodHJ1ZSk7XG4gICAgICAgICAgICAgIC8vJHNjb3BlLmFkZFJlcG9ydHNMYXllcigpO1xuICAgICAgICAgICAgICAkc2NvcGUubG9hZFBpbnNMYXllcigpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICRzY29wZS5iYWNrX3RvX21hcChmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpe1xuICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHN0YXR1cyk7XG4gICAgICAgICAgICAkc2NvcGUuYmFja190b19tYXAoZmFsc2UpO1xuICAgICAgICAgIH0pXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHZhciByZXBvcnRlRW52aWFkbyA9ICRzY29wZS5yZXBvcnQ7XG4gICAgICAgICAgcmVwb3J0X3NlbnQudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXNwLnJlc3BvbnNlKTtcbiAgICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bChkYXRhLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgICAgJHNjb3BlLmJhY2tfdG9fbWFwKHRydWUpO1xuICAgICAgICAgICAgICAvLyRzY29wZS5hZGRSZXBvcnRzTGF5ZXIoKTtcbiAgICAgICAgICAgICAgJHNjb3BlLmxvYWRQaW5zTGF5ZXIoKTtcbiAgICAgICAgICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgICAgICAgICB2YXIgbGF0ID0gcmVwb3J0ZUVudmlhZG8ubGF0O1xuICAgICAgICAgICAgICAgIC8vTW92ZSBhIGxpdHRsZSB0aGUgbWFwIGNlbnRlciBiZWNhdXNlIHRoZSBtYXAgdmlldyBpcyBzbWFsbGVyIChyZXBvcnQgbGlzdCBpcyBkaXNwbGF5ZWQpXG4gICAgICAgICAgICAgICAgbGF0ID0gbGF0IC0gMC4wMDA2O1xuICAgICAgICAgICAgICAgIG1hcC5zZXRWaWV3KG5ldyBMLkxhdExuZyhsYXQsIHJlcG9ydGVFbnZpYWRvLmxvbiksIDE4KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICRzY29wZS5iYWNrX3RvX21hcChmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgICRzY29wZS5iYWNrX3RvX21hcCh0cnVlKTtcbiAgICAgICAgICAgIC8vJHNjb3BlLmFkZFJlcG9ydHNMYXllcigpO1xuICAgICAgICAgICAgJHNjb3BlLmxvYWRQaW5zTGF5ZXIoKTtcbiAgICAgICAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgICAgICAgIHZhciBsYXQgPSByZXBvcnRlRW52aWFkby5sYXQ7XG4gICAgICAgICAgICAgIC8vTW92ZSBhIGxpdHRsZSB0aGUgbWFwIGNlbnRlciBiZWNhdXNlIHRoZSBtYXAgdmlldyBpcyBzbWFsbGVyIChyZXBvcnQgbGlzdCBpcyBkaXNwbGF5ZWQpXG4gICAgICAgICAgICAgIGxhdCA9IGxhdCAtIDAuMDAwNjtcbiAgICAgICAgICAgICAgbWFwLnNldFZpZXcobmV3IEwuTGF0TG5nKGxhdCwgcmVwb3J0ZUVudmlhZG8ubG9uKSwgMTgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKiRzY29wZS5zYXZlX29mZmxpbmVfcmVwb3J0KCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICRzY29wZS5iYWNrX3RvX21hcCh0cnVlKTtcbiAgICAgICAgICAgICAgLy8kc2NvcGUubGlzdF9yZXBvcnRzX2FuZF9nbyhyZXNwb25zZS5pZCk7XG4gICAgICAgICAgICAgICRzY29wZS5saXN0X3JlcG9ydHMoKTtcbiAgICAgICAgICAgICAgdmFyIGFsZXJ0ID0gXCJDw7NkaWdvOiBcIiArIGVycm9yLmNvZGU7XG4gICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBPcmlnZW46IFwiICsgZXJyb3Iuc291cmNlO1xuICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgRGVzdGlubzogXCIgKyBlcnJvci50YXJnZXQ7XG4gICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBodHRwX3N0YXR1czogXCIgKyBlcnJvci5odHRwX3N0YXR1cztcbiAgICAgICAgICAgICAgLy9hbGVydCA9IGFsZXJ0ICsgXCIgQm9keTogXCIgKyBlcnJvci5ib2R5O1xuICAgICAgICAgICAgLy8gIGFsZXJ0ID0gYWxlcnQgKyBcIiBFeGNlcHRpb246IFwiICsgZXJyb3IuZXhjZXB0aW9uO1xuICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGFsZXJ0KTtcbiAgICAgICAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoXCJFcnJvciBlbiBlbCBlbnbDrW9cIixcIkh1Ym8gdW4gZXJyb3IgZW4gZWwgZW52w61vOiBcIiArIGFsZXJ0ICsgXCIuIEVsIHJlcG9ydGUgc2UgaGEgZ3VhcmRhZG8gZW4gc3UgZGlzcG9zaXRpdm8geSBzZSBlbnZpYXLDoSBjdWFuZG8gdXRpbGljZSBlc3RhIGFwbGljYWNpw7NuIGNvbmVjdGFkbyBhIGludGVybmV0XCIpO1xuICAgICAgICAgICAgfSk7Ki9cbiAgICAgICAgICB9LCBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgICAgICAgLyokdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLnVwbG9hZFByb2dyZXNzID0gKHByb2dyZXNzLmxvYWRlZCAvIHByb2dyZXNzLnRvdGFsKSAqIDEwMDtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZW50X2xhYmVsXCIpLmlubmVySFRNTCA9IFwiRW52aWFkbzogXCIgKyBNYXRoLnJvdW5kKCRzY29wZS51cGxvYWRQcm9ncmVzcykgKyBcIiVcIjtcbiAgICAgICAgICAgIH0pOyovXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICAkc2NvcGUuYmFja190b19tYXAoZmFsc2UpO1xuICAgICAgfVxuICAgIH1lbHNle1xuICAgICAgJHNjb3BlLnNhdmVfb2ZmbGluZV9yZXBvcnQoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgJHNjb3BlLmJhY2tfdG9fbWFwKHRydWUpO1xuICAgICAgICAvLyRzY29wZS5saXN0X3JlcG9ydHNfYW5kX2dvKHJlc3BvbnNlLmlkKTtcbiAgICAgICAgJHNjb3BlLmxpc3RfcmVwb3J0cygpO1xuICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIkVudsOtbyBwZW5kaWVudGVcIixcIkVsIHJlcG9ydGUgc2UgaGEgZ3VhcmRhZG8gZW4gc3UgZGlzcG9zaXRpdm8geSBzZSBlbnZpYXLDoSBjdWFuZG8gdXRpbGljZSBlc3RhIGFwbGljYWNpw7NuIGNvbmVjdGFkbyBhIGludGVybmV0XCIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS5uZXh0KCk7XG4gIH07XG5cbiAgJHNjb3BlLnByZXZpb3VzID0gZnVuY3Rpb24oKSB7XG4gICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS5wcmV2aW91cygpO1xuICB9O1xuXG4gICRzY29wZS5jb25maXJtUmVwb3J0V2l0aExvZ2luID0gZnVuY3Rpb24oKSB7XG4gICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgICAgdmFyIGZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkVtYWlsXCIsXCJlbWFpbFwiLCRzY29wZS5yZXBvcnQuZW1haWwpKTtcbiAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb250cmFzZcOxYVwiLFwibm90TnVsbFwiLCRzY29wZS5yZXBvcnQucGFzc3dvcmRfc2lnbl9pbikpO1xuICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIlNlbGVjY2lvbmUgdW5hIHN1YmNhdGVnb3LDrWFcIixcIm5vdE51bGxcIiwkc2NvcGUucmVwb3J0LmNhdGVnb3J5KSk7XG4gICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiVMOtdHVsb1wiLFwibm90TnVsbFwiLCRzY29wZS5yZXBvcnQudGl0bGUpKTtcbiAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJEZXRhbGxlc1wiLFwibm90TnVsbFwiLCRzY29wZS5yZXBvcnQuZGV0YWlsKSk7XG4gICAgICBpZihFcnJvclNlcnZpY2UuY2hlY2tfZmllbGRzKGZpZWxkcyxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgIEF1dGhTZXJ2aWNlLnNpZ25faW4oJHNjb3BlLnJlcG9ydC5wYXNzd29yZF9zaWduX2luLCAkc2NvcGUucmVwb3J0LmVtYWlsKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsKHJlc3AsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEocmVzcC5kYXRhLm5hbWUsICRzY29wZS5yZXBvcnQuZW1haWwsICRzY29wZS5yZXBvcnQucGFzc3dvcmRfc2lnbl9pbiwgcmVzcC5kYXRhLmlkZW50aXR5X2RvY3VtZW50LCByZXNwLmRhdGEucGhvbmUsIHJlc3AuZGF0YS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgICBpZihyZXNwLmRhdGEuZnJvbV9ib2R5KXtcbiAgICAgICAgICAgICAgVXNlclNlcnZpY2UuZnJvbV9ib2R5ID0gcmVzcC5kYXRhLmZyb21fYm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIERCU2VydmljZS5zYXZlVXNlcihyZXNwLmRhdGEubmFtZSwkc2NvcGUucmVwb3J0LmVtYWlsLCRzY29wZS5yZXBvcnQucGFzc3dvcmRfc2lnbl9pbixyZXNwLmRhdGEuaWRlbnRpdHlfZG9jdW1lbnQscmVzcC5kYXRhLnBob25lLHJlc3AuZGF0YS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgICRzY29wZS5jb25maXJtUmVwb3J0KCk7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAkc2NvcGUuYmFja190b19tYXAoZmFsc2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgIEVycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2UoXCJlcnJvcl9jb250YWluZXJcIixyZXNwLnN0YXR1c1RleHQpO1xuICAgICAgICAgICRzY29wZS5iYWNrX3RvX21hcChmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgICRzY29wZS5iYWNrX3RvX21hcChmYWxzZSk7XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICAkc2NvcGUuc2F2ZV9vZmZsaW5lX3JlcG9ydCgpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAkc2NvcGUuYmFja190b19tYXAodHJ1ZSk7XG4gICAgICAgIC8vJHNjb3BlLmxpc3RfcmVwb3J0c19hbmRfZ28ocmVzcG9uc2UuaWQpO1xuICAgICAgICAkc2NvcGUubGlzdF9yZXBvcnRzKCk7XG4gICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiRW52w61vIHBlbmRpZW50ZVwiLFwiRWwgcmVwb3J0ZSBzZSBoYSBndWFyZGFkbyBlbiBzdSBkaXNwb3NpdGl2byB5IHNlIGVudmlhcsOhIGN1YW5kbyB1dGlsaWNlIGVzdGEgYXBsaWNhY2nDs24gY29uZWN0YWRvIGEgaW50ZXJuZXRcIik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLnNhdmVfb2ZmbGluZV9yZXBvcnQgPSBmdW5jdGlvbigpe1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICB2YXIgZGF5ID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgdmFyIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuICAgIG1vbnRoID0gbW9udGggKyAxO1xuICAgIHZhciB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICRzY29wZS5yZXBvcnQuZGF0ZSA9IGRheSArIFwiL1wiICsgbW9udGggKyBcIi9cIiArIHllYXI7XG4gICAgcmV0dXJuIERCU2VydmljZS5zYXZlUmVwb3J0KCRzY29wZS5yZXBvcnQpO1xuICB9XG5cbiAgJHNjb3BlLmJhY2tfdG9fbWFwID0gZnVuY3Rpb24oYmFja190b19tYXApe1xuICAgIGlmKGJhY2tfdG9fbWFwKXtcbiAgICAgIC8vTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xhdCA9ICRzY29wZS5yZXBvcnQubGF0O1xuICAgICAgLy9Mb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbG5nID0gJHNjb3BlLnJlcG9ydC5sb247XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIC8vJHNjb3BlLmFkZFJlcG9ydHNMYXllcigpO1xuICAgIH1lbHNle1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuICB9XG5cbiAgJHNjb3BlLmNhbmNlbFJlcG9ydCA9IGZ1bmN0aW9uKCl7XG4gICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgfVxuXG4gICRzY29wZS5pbWFnZSA9IG51bGw7XG5cbiAgJHNjb3BlLmFkZEltYWdlID0gZnVuY3Rpb24oaXNGcm9tQWxidW0sIGlzVXNlclBob3RvLCBpc0NvbW1lbnRQaG90bykge1xuICAgIGNvbnNvbGUubG9nKGlzRnJvbUFsYnVtKTtcbiAgICBjb25zb2xlLmxvZyhpc1VzZXJQaG90byk7XG4gICAgY29uc29sZS5sb2coaXNDb21tZW50UGhvdG8pO1xuICAgIC8vYWxlcnQoXCJhZGRJbWFnZVwiKTtcbiAgICAkc2NvcGUuaXNVc2VyUGhvdG8gPSBpc1VzZXJQaG90bztcbiAgICAkc2NvcGUuaXNDb21tZW50UGhvdG8gPSBpc0NvbW1lbnRQaG90bztcblxuICAgIHZhciBzb3VyY2UgPSBDYW1lcmEuUGljdHVyZVNvdXJjZVR5cGUuQ0FNRVJBO1xuICAgIHZhciBmaXhfb3JpZW50YXRpb24gPSBmYWxzZTtcbiAgICB2YXIgc2F2ZV90b19nYWxsZXJ5ID0gZmFsc2U7XG4gICAgaWYoaXNGcm9tQWxidW09PTEpe1xuICAgICAgc291cmNlID0gQ2FtZXJhLlBpY3R1cmVTb3VyY2VUeXBlLlBIT1RPTElCUkFSWTtcbiAgICAgIGZpeF9vcmllbnRhdGlvbiA9IGZhbHNlO1xuICAgICAgc2F2ZV90b19nYWxsZXJ5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICBxdWFsaXR5OiA1MCxcbiAgICAgIGRlc3RpbmF0aW9uVHlwZTogQ2FtZXJhLkRlc3RpbmF0aW9uVHlwZS5GSUxFX1VSSSxcbiAgICAgIHNvdXJjZVR5cGU6IHNvdXJjZSxcbiAgICAgIGFsbG93RWRpdDogZmFsc2UsXG4gICAgICBjb3JyZWN0T3JpZW50YXRpb24gOiBmaXhfb3JpZW50YXRpb24sXG4gICAgICBlbmNvZGluZ1R5cGU6IENhbWVyYS5FbmNvZGluZ1R5cGUuSlBFRyxcbiAgICAgIHBvcG92ZXJPcHRpb25zOiBDYW1lcmFQb3BvdmVyT3B0aW9ucyxcbiAgICAgIHNhdmVUb1Bob3RvQWxidW06IHNhdmVfdG9fZ2FsbGVyeSxcbiAgICAgIG1lZGlhVHlwZTogQ2FtZXJhLk1lZGlhVHlwZS5QSUNUVVJFLFxuICAgICAgdGFyZ2V0V2lkdGg6IDM2MCxcbiAgICAgIHRhcmdldEhlaWdodDogMzYwXG4gICAgfTtcbiAgICBjb25zb2xlLmxvZyhvcHRpb25zKTtcblxuICAgICRjb3Jkb3ZhQ2FtZXJhLmdldFBpY3R1cmUob3B0aW9ucykudGhlbihmdW5jdGlvbihpbWFnZURhdGEpIHtcbiAgICAgIGNvbnNvbGUubG9nKGltYWdlRGF0YSk7XG4gICAgICBvbkltYWdlU3VjY2VzcyhpbWFnZURhdGEpO1xuXG4gICAgICBmdW5jdGlvbiBvbkltYWdlU3VjY2VzcyhmaWxlVVJJKSB7XG4gICAgICAgIC8vYWxlcnQoZmlsZVVSSSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGZpbGVVUkkpO1xuICAgICAgICB3aW5kb3cucmVzb2x2ZUxvY2FsRmlsZVN5c3RlbVVSTChmaWxlVVJJLCBmdW5jdGlvbiBzdWNjZXNzKGZpbGVFbnRyeSkge1xuXG4gICAgICAgICAgICAgLy8gRG8gc29tZXRoaW5nIHdpdGggdGhlIEZpbGVFbnRyeSBvYmplY3QsIGxpa2Ugd3JpdGUgdG8gaXQsIHVwbG9hZCBpdCwgZXRjLlxuICAgICAgICAgICAgIC8vIHdyaXRlRmlsZShmaWxlRW50cnksIGltZ1VyaSk7XG4gICAgICAgICAgICAgY29uc29sZS5sb2coXCJnb3QgZmlsZTogXCIgKyBmaWxlRW50cnkudG9VUkwoKSk7XG4gICAgICAgICAgICAgdmFyIGZ1bGxGaWxlUGF0aCA9IGZpbGVFbnRyeS50b1VSTCgpO1xuICAgICAgICAgICAgIC8vIGRpc3BsYXlGaWxlRGF0YShmaWxlRW50cnkubmF0aXZlVVJMLCBcIk5hdGl2ZSBVUkxcIik7XG4gICAgICAgICAgICAgaWYoJHNjb3BlLmlzVXNlclBob3RvPT0xKXtcbiAgICAgICAgICAgICAgIC8vVXNlclNlcnZpY2UuYWRkX3Bob3RvKGZpbGVVUkkpO1xuICAgICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUucGljdHVyZV91cmwgPSBmdWxsRmlsZVBhdGg7XG4gICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICBpZigkc2NvcGUuaXNDb21tZW50UGhvdG89PTEpe1xuICAgICAgICAgICAgICAgICAkc2NvcGUuY29tbWVudC5maWxlID0gZnVsbEZpbGVQYXRoO1xuICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICRzY29wZS5yZXBvcnQuZmlsZSA9IGZ1bGxGaWxlUGF0aDtcbiAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLnJlcG9ydCk7XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgICRzY29wZS5pbWdVUkkgPSBmdWxsRmlsZVBhdGg7XG5cbiAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgLy8gSWYgZG9uJ3QgZ2V0IHRoZSBGaWxlRW50cnkgKHdoaWNoIG1heSBoYXBwZW4gd2hlbiB0ZXN0aW5nXG4gICAgICAgICAgIC8vIG9uIHNvbWUgZW11bGF0b3JzKSwgY29weSB0byBhIG5ldyBGaWxlRW50cnkuXG4gICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBlbiBmaWxlIGVudHJ5OiBcIiArIGZpbGVVUkkpO1xuICAgICAgICAgICAgIGNyZWF0ZUZpbGVFbnRyeShmaWxlVVJJKTtcbiAgICAgICAgIH0pO1xuXG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbGVFbnRyeShmaWxlVVJJKSB7XG4gICAgICAgIHdpbmRvdy5yZXNvbHZlTG9jYWxGaWxlU3lzdGVtVVJMKGZpbGVVUkksIGNvcHlGaWxlLCBmYWlsKTtcbiAgICAgIH1cblxuICAgICAgLy8gNVxuICAgICAgZnVuY3Rpb24gY29weUZpbGUoZmlsZUVudHJ5KSB7XG4gICAgICAgIHZhciBuYW1lID0gZmlsZUVudHJ5LmZ1bGxQYXRoLnN1YnN0cihmaWxlRW50cnkuZnVsbFBhdGgubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICAgICAgICB2YXIgbmV3TmFtZSA9IG1ha2VpZCgpICsgbmFtZTtcblxuICAgICAgICB3aW5kb3cucmVzb2x2ZUxvY2FsRmlsZVN5c3RlbVVSTChjb3Jkb3ZhLmZpbGUuZGF0YURpcmVjdG9yeSwgZnVuY3Rpb24oZmlsZVN5c3RlbTIpIHtcbiAgICAgICAgICAgIGZpbGVFbnRyeS5jb3B5VG8oXG4gICAgICAgICAgICAgIGZpbGVTeXN0ZW0yLFxuICAgICAgICAgICAgICBuZXdOYW1lLFxuICAgICAgICAgICAgICBvbkNvcHlTdWNjZXNzLFxuICAgICAgICAgICAgICBmYWlsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmFpbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIDZcbiAgICAgIGZ1bmN0aW9uIG9uQ29weVN1Y2Nlc3MoZW50cnkpIHtcbiAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuaW1hZ2UgPSBlbnRyeS5uYXRpdmVVUkw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmYWlsKGVycm9yKSB7XG5cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbWFrZWlkKCkge1xuICAgICAgICB2YXIgdGV4dCA9IFwiXCI7XG4gICAgICAgIHZhciBwb3NzaWJsZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICAgIHRleHQgKz0gcG9zc2libGUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlLmxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgfVxuXG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS51cmxGb3JJbWFnZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbWFnZVVSTCA9IFwiaHR0cDovL3BsYWNlaG9sZC5pdC8yMDB4MjAwXCI7XG4gICAgaWYgKCRzY29wZS5pbWFnZSkge1xuICAgICAgdmFyIG5hbWUgPSAkc2NvcGUuaW1hZ2Uuc3Vic3RyKCRzY29wZS5pbWFnZS5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgICBpbWFnZVVSTCA9IGNvcmRvdmEuZmlsZS5kYXRhRGlyZWN0b3J5ICsgbmFtZTtcbiAgICB9XG4gICAgLy9jb25zb2xlLmxvZyhcIkltYWdlVVJMID0gXCIgKyBpbWFnZVVSTCk7XG4gICAgcmV0dXJuIGltYWdlVVJMO1xuICB9O1xuXG5cbiAgICAkc2NvcGUubGlzdF9yZXBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICRzY29wZS5zZXRfYWN0aXZlX29wdGlvbignYnV0dG9uLWxpc3QtcmVwb3J0cycpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgLy9TSE9XIE9OTElORSBSRVBPUlRTIChsb2dpYyBpbnNpZGUgdGVtcGxhdGUgbWFwLmh0bWwpXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVwb3J0LWxpc3Qtc2Nyb2xsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9TSE9XIE9GRkxJTkUgUkVQT1JUU1xuICAgICAgICAkc2NvcGUubGlzdF9vZmZsaW5lX3JlcG9ydHMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLmxpc3Rfb2ZmbGluZV9yZXBvcnRzX21lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAkc2NvcGUubGlzdF9vZmZsaW5lX3JlcG9ydHMoKTtcbiAgICB9XG5cbiAgICAkc2NvcGUubGlzdF9vZmZsaW5lX3JlcG9ydHMgPSBmdW5jdGlvbigpe1xuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgJHNjb3BlLmNsZWFuT2ZmbGluZU1hcmtlcnMobWFwKTtcbiAgICAgICAgdmFyIHJlcG9ydHMgPSBEQlNlcnZpY2UuZ2V0QWxsUmVwb3J0cygpO1xuICAgICAgICB2YXIgZGl2ID0gJzxpb24tc2Nyb2xsIGRpcmVjdGlvbj1cInlcIiBpZD1cIm9mZmxpbmUtcmVwb3J0LWxpc3Qtc2Nyb2xsXCI+PGRpdiBjbGFzcz1cInNjcm9sbFwiPjxkaXYgaWQ9XCJyZXBvcnQtbGlzdC1vZmZsaW5lXCI+JztcbiAgICAgICAgJHNjb3BlLm9mZmxpbmVSZXBvcnRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICRzY29wZS5vZmZsaW5lUmVwb3J0c01hcmtlcnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgcmVwb3J0cy50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAvLyBoYW5kbGUgcmVzdWx0XG4gICAgICAgICAgZGl2ID0gZGl2ICsgJzxoMz48Yj5SZXBvcnRlcyBndWFyZGFkb3MgZW4gZWwgZGlzcG9zaXRpdm8geSBwZW5kaWVudGVzIGRlIGVudsOtbzo8L2I+PC9oMz4nO1xuICAgICAgICAgIGlmKHJlc3VsdCE9bnVsbCAmJiByZXN1bHQucm93cy5sZW5ndGg+MCl7XG4gICAgICAgICAgICByZXN1bHQucm93cy5mb3JFYWNoKGZ1bmN0aW9uKHJvdykge1xuICAgICAgICAgICAgICAgIHZhciByZXBvcnQgPSByb3cuZG9jO1xuICAgICAgICAgICAgICAgICRzY29wZS5vZmZsaW5lUmVwb3J0c1tyZXBvcnQuX2lkXT1yZXBvcnQ7XG4gICAgICAgICAgICAgICAgZGl2ID0gZGl2ICsgJHNjb3BlLmFkZF9vZmZsaW5lX3JlcG9ydF9kaXYocmVwb3J0KTtcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyT3B0aW9ucyA9IHthbHQ6IFwiUmVwb3J0ZSBwZW5kaWVudGUgZGUgZW52w61vXCJ9O1xuICAgICAgICAgICAgICAgIHZhciBtYXJrZXIgPSBMLm1hcmtlcihbcmVwb3J0LmxhdCwgcmVwb3J0Lmxvbl0sbWFya2VyT3B0aW9ucykuYWRkVG8obWFwKTtcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VySFRNTCA9ICc8YSBjbGFzcz1cInRleHQgcmVwb3J0LWxpbmtcIiBuZy1jbGljaz1cImVkaXRPZmZsaW5lUmVwb3J0KFxcJycgKyByZXBvcnQuX2lkICsgJ1xcJylcIj48cD4nICsgcmVwb3J0LnRpdGxlICsgJzwvcD48L2E+PHAgY2xhc3M9XCJvZmZsaW5lLXBlbmRpbmdcIj4ocGVuZGllbnRlIGRlIGVudsOtbyk8L3A+JztcbiAgICAgICAgICAgICAgICB2YXIgY29tcGlsZWQgPSAkY29tcGlsZShtYXJrZXJIVE1MKSgkc2NvcGUpO1xuICAgICAgICAgICAgICAgIG1hcmtlci5iaW5kUG9wdXAoY29tcGlsZWRbMF0pO1xuICAgICAgICAgICAgICAgICRzY29wZS5vZmZsaW5lUmVwb3J0c01hcmtlcnNbcmVwb3J0Ll9pZF09bWFya2VyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkaXYgPSBkaXYgKyBcIjxici8+PGgzPjxhIG5nLWNsaWNrPSdzZW5kX29mZmxpbmVfcmVwb3J0c19mcm9tX21lbnUoKSc+LSBFbnZpYXIgdG9kb3MgbG9zIHJlcG9ydGVzIHBlbmRpZW50ZXM8L2E+PC9oMz5cIjtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGRpdiA9IGRpdiArICc8YnIvPjxoMz5ObyBoYXkgbmluZ8O6biByZXBvcnRlIHBlbmRpZW50ZSBkZSBlbnbDrW8uPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkaXYgPSBkaXYgKyAnPC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInNjcm9sbC1iYXIgc2Nyb2xsLWJhci12XCI+PGRpdiBjbGFzcz1cInNjcm9sbC1iYXItaW5kaWNhdG9yIHNjcm9sbC1iYXItZmFkZS1vdXRcIj48L2Rpdj48L2Rpdj48L2lvbi1zY3JvbGw+JztcbiAgICAgICAgICB2YXIgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCggZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJyNvZmZsaW5lLXJlcG9ydC1saXN0LWNvbnRhaW5lcicgKSApO1xuICAgICAgICAgIGVsZW1lbnQuaHRtbChkaXYpO1xuICAgICAgICAgIHZhciBjb21waWxlZCA9ICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkoJHNjb3BlKTtcbiAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlc2l6ZScpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgZGl2ID0gZGl2ICsgJzxici8+PGgzPk5vIGhheSBuaW5nw7puIHJlcG9ydGUgcGVuZGllbnRlIGRlIGVudsOtby48L2gzPic7XG4gICAgICAgICAgZGl2ID0gZGl2ICsgJzwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJzY3JvbGwtYmFyIHNjcm9sbC1iYXItdlwiPjxkaXYgY2xhc3M9XCJzY3JvbGwtYmFyLWluZGljYXRvciBzY3JvbGwtYmFyLWZhZGUtb3V0XCI+PC9kaXY+PC9kaXY+PC9pb24tc2Nyb2xsPic7XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9mZmxpbmUtcmVwb3J0LWxpc3QtY29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICB9KTtcblxuICAgIH1cblxuICAgICRzY29wZS5saXN0X3JlcG9ydHNfYW5kX2dvID0gZnVuY3Rpb24ocmVwb3J0SWQpIHtcbiAgICAgICRzY29wZS5zZXRfYWN0aXZlX29wdGlvbignYnV0dG9uLWxpc3QtcmVwb3J0cycpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgLy9TSE9XIE9OTElORSBSRVBPUlRTIChsb2dpYyBpbnNpZGUgdGVtcGxhdGUgbWFwLmh0bWwpXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVwb3J0LWxpc3Qtc2Nyb2xsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9TSE9XIE9GRkxJTkUgUkVQT1JUU1xuICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICAgIG1hcC5lYWNoTGF5ZXIoZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICAgICAgICBpZihsYXllci5fdXJsIT1cInVuZGVmaW5lZFwiICYmIGxheWVyLl91cmwhPW51bGwpe1xuICAgICAgICAgICAgICAvL0lUJ3MgVEhFIE1BUCBJVFNFTEZcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgcmVwb3J0cyA9IERCU2VydmljZS5nZXRBbGxSZXBvcnRzKCk7XG4gICAgICAgICAgdmFyIGRpdiA9ICc8ZGl2IGlkPVwicmVwb3J0LWxpc3Qtb2ZmbGluZVwiPic7XG4gICAgICAgICAgJHNjb3BlLm9mZmxpbmVSZXBvcnRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgJHNjb3BlLm9mZmxpbmVSZXBvcnRzTWFya2VycyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgIHJlcG9ydHMudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAvLyBoYW5kbGUgcmVzdWx0XG4gICAgICAgICAgICBkaXYgPSBkaXYgKyAnPGgzPjxiPlJlcG9ydGVzIGd1YXJkYWRvcyBlbiBlbCBkaXNwb3NpdGl2byB5IHBlbmRpZW50ZXMgZGUgZW52w61vOjwvYj48L2gzPic7XG4gICAgICAgICAgICBpZihyZXN1bHQhPW51bGwgJiYgcmVzdWx0LnJvd3MubGVuZ3RoPjApe1xuICAgICAgICAgICAgICByZXN1bHQucm93cy5mb3JFYWNoKGZ1bmN0aW9uKHJvdykge1xuICAgICAgICAgICAgICAgICAgdmFyIHJlcG9ydCA9IHJvdy5kb2M7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUub2ZmbGluZVJlcG9ydHNbcmVwb3J0Ll9pZF09cmVwb3J0O1xuICAgICAgICAgICAgICAgICAgZGl2ID0gZGl2ICsgJHNjb3BlLmFkZF9vZmZsaW5lX3JlcG9ydF9kaXYocmVwb3J0KTtcbiAgICAgICAgICAgICAgICAgIHZhciBtYXJrZXIgPSBMLm1hcmtlcihbcmVwb3J0LmxhdCwgcmVwb3J0Lmxvbl0pLmFkZFRvKG1hcCk7XG4gICAgICAgICAgICAgICAgICB2YXIgbWFya2VySFRNTCA9ICc8YSBjbGFzcz1cInRleHQgcmVwb3J0LWxpbmtcIiBuZy1jbGljaz1cImVkaXRPZmZsaW5lUmVwb3J0KFxcJycgKyByZXBvcnQuX2lkICsgJ1xcJylcIj48cD4nICsgcmVwb3J0LnRpdGxlICsgJzwvcD48L2E+PHAgY2xhc3M9XCJvZmZsaW5lLXBlbmRpbmdcIj4ocGVuZGllbnRlIGRlIGVudsOtbyk8L3A+JztcbiAgICAgICAgICAgICAgICAgIHZhciBjb21waWxlZCA9ICRjb21waWxlKG1hcmtlckhUTUwpKCRzY29wZSk7XG4gICAgICAgICAgICAgICAgICBtYXJrZXIuYmluZFBvcHVwKGNvbXBpbGVkWzBdKTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5vZmZsaW5lUmVwb3J0c01hcmtlcnNbcmVwb3J0Ll9pZF09bWFya2VyO1xuICAgICAgICAgICAgICAgICAgaWYocmVwb3J0Ll9pZCA9PSByZXBvcnRJZCl7XG4gICAgICAgICAgICAgICAgICAgIGdvVG9PZmZsaW5lUmVwb3J0KHJlcG9ydElkKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgZGl2ID0gZGl2ICsgJzxici8+PGgzPk5vIGhheSBuaW5nw7puIHJlcG9ydGUgcGVuZGllbnRlIGRlIGVudsOtby48L2gzPic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXYgPSBkaXYgKyAnPC9kaXY+JztcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnI29mZmxpbmUtcmVwb3J0LWxpc3QtY29udGFpbmVyJyApICk7XG4gICAgICAgICAgICBlbGVtZW50Lmh0bWwoZGl2KTtcbiAgICAgICAgICAgIHZhciBjb21waWxlZCA9ICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkoJHNjb3BlKTtcbiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBkaXYgPSBkaXYgKyAnPGJyLz48aDM+Tm8gaGF5IG5pbmfDum4gcmVwb3J0ZSBwZW5kaWVudGUgZGUgZW52w61vLjwvaDM+JztcbiAgICAgICAgICAgIGRpdiA9IGRpdiArICc8L2Rpdj4nO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib2ZmbGluZS1yZXBvcnQtbGlzdC1jb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgfSk7XG5cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLmdvVG9PZmZsaW5lUmVwb3J0ID0gZnVuY3Rpb24ocmVwb3J0SWQpe1xuICAgICAgdmFyIHJlcG9ydCA9ICRzY29wZS5vZmZsaW5lUmVwb3J0c1tyZXBvcnRJZF07XG4gICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB2YXIgbGF0ID0gcmVwb3J0LmxhdDtcbiAgICAgICAgLy9Nb3ZlIGEgbGl0dGxlIHRoZSBtYXAgY2VudGVyIGJlY2F1c2UgdGhlIG1hcCB2aWV3IGlzIHNtYWxsZXIgKHJlcG9ydCBsaXN0IGlzIGRpc3BsYXllZClcbiAgICAgICAgbGF0ID0gbGF0IC0gMC4wMDE7XG4gICAgICAgICRzY29wZS5tYXAuY2VudGVyLmxhdCA9IGxhdDtcbiAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubG5nID0gcmVwb3J0LmxvbjtcbiAgICAgICAgbWFwLnNldFZpZXcobmV3IEwuTGF0TG5nKGxhdCwgcmVwb3J0LmxvbiksIDE2KTtcbiAgICAgICAgJHNjb3BlLm9mZmxpbmVSZXBvcnRzTWFya2Vyc1tyZXBvcnRJZF0ub3BlblBvcHVwKCk7XG4gICAgICB9KTtcblxuICAgIH1cblxuICAgICRzY29wZS5hZGRfb2ZmbGluZV9yZXBvcnRfZGl2ID0gZnVuY3Rpb24ocmVwb3J0KXtcbiAgICAgIHZhciBkaXYgPSAnPGRpdiBpZD1cInJlcG9ydC1jb250YWluZXItJyArIHJlcG9ydC5faWQgKyAnXCIgbmctY2xpY2s9XCJnb1RvT2ZmbGluZVJlcG9ydChcXCcnK3JlcG9ydC5faWQrJ1xcJylcIiBjbGFzcz1cInJlcG9ydC1pbnNpZGUtbGlzdC1vZmZsaW5lXCI+JztcbiAgICAgIGRpdiA9IGRpdiArICc8ZGl2IGNsYXNzPVwicmVwb3J0LWluLWxpc3QtaWNvbi1vZmZsaW5lXCI+PC9kaXY+JztcbiAgICAgIGRpdiA9IGRpdiArICc8ZGl2IGNsYXNzPVwicmVwb3J0LWluLWxpc3QtaW5mb1wiPic7XG4gICAgICBkaXYgPSBkaXYgKyAnPHAgaWQ9XCJyZXBvcnQtdGl0bGUtJytyZXBvcnQuX2lkKydcIiBjbGFzcz1cInJlcG9ydC1pbi1saXN0LXRpdGxlXCI+JytyZXBvcnQudGl0bGUrJzwvcD4nO1xuICAgICAgZGl2ID0gZGl2ICsgJzxwIGlkPVwicmVwb3J0LWNhdGVnb3J5LScrcmVwb3J0Ll9pZCsnXCIgY2xhc3M9XCJyZXBvcnQtaW4tbGlzdC1jYXRlZ29yeVwiPicrcmVwb3J0LmNhdGVnb3J5Kyc8L3A+JztcbiAgICAgIGRpdiA9IGRpdiArICc8cCBpZD1cInJlcG9ydC1kYXRlLScrcmVwb3J0Ll9pZCsnXCIgY2xhc3M9XCJyZXBvcnQtaW4tbGlzdC1kYXRlXCI+JytyZXBvcnQuZGF0ZSsnPC9wPic7XG4gICAgICBkaXYgPSBkaXYgKyAnPHAgaWQ9XCJyZXBvcnQtZGF0ZS0nK3JlcG9ydC5faWQrJ1wiIGNsYXNzPVwicmVwb3J0LWluLWxpc3QtYWN0aW9uc1wiPicrJzxhIG5nLWNsaWNrPVwiZWRpdE9mZmxpbmVSZXBvcnQoXFwnJytyZXBvcnQuX2lkKydcXCcpXCI+RWRpdGFyPC9hPicrJyZuYnNwOyA8YSBuZy1jbGljaz1cImRlbGV0ZU9mZmxpbmVSZXBvcnQoXFwnJytyZXBvcnQuX2lkKydcXCcpXCI+RWxpbWluYXI8L2E+PC9wPic7XG4gICAgICBkaXYgPSBkaXYgKyAnPGRpdiBjbGFzcz1cInJlcG9ydC1taW5pLWljb25zXCI+JztcbiAgICAgIGlmKHJlcG9ydC5maWxlICE9IG51bGwgJiYgcmVwb3J0LmZpbGUgIT0gXCJ1bmRlZmluZWRcIil7XG4gICAgICAgIGRpdiA9IGRpdiArICc8aW1nIGNsYXNzPVwicmVwb3J0LW1pbmktaWNvblwiIHNyYz1cIi4vaW1nL2ljb24tY2FtZXJhLnBuZ1wiIC8+JztcbiAgICAgIH1cbiAgICAgIGRpdiA9IGRpdiArICc8aW1nIGNsYXNzPVwicmVwb3J0LW1pbmktaWNvblwiIHNyYz1cIi4vaW1nL2ljb24tdGFncy5wbmdcIiAvPic7XG4gICAgICAvL1RPRE86IEFkZCBhY3Rpb25zIGRpdiB3aXRoIFwiRWRpdFwiLCBcIkRlbGV0ZVwiXG4gICAgICBkaXYgPSBkaXYgKyAnPC9kaXY+PC9kaXY+PC9kaXY+JztcbiAgICAgIHJldHVybiBkaXY7XG4gICAgfVxuXG4gICAgJHNjb3BlLmhlbHAgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAkc2NvcGUuc2V0X2FjdGl2ZV9vcHRpb24oJ2J1dHRvbi1mYXEnKTtcbiAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgIEZhcVNlcnZpY2UuYWxsKCkuc3VjY2VzcyhmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgICAgJHNjb3BlLmZhcSA9ICRzY2UudHJ1c3RBc0h0bWwocmVzcG9uc2UpO1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvZmFxLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCggZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJyNmYXEtY29udGFpbmVyLWRpdicgKSApO1xuICAgICAgICAgICAgICAgIHZhciBjb21waWxlZCA9ICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkoJHNjb3BlKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgfWVsc2V7XG4gICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiU2luIGNvbmV4acOzbiBhIGludGVybmV0XCIsXCJQYXJhIHZlciBsYSBheXVkYSBkZWJlIGVzdGFyIGNvbmVjdGFkbyBhIGludGVybmV0XCIpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgJHNjb3BlLnNjcm9sbE1lID0gZnVuY3Rpb24oYW5jaG9yX2lkKXtcbiAgICAgICRsb2NhdGlvbi5oYXNoKGFuY2hvcl9pZCk7XG4gICAgICB2YXIgaGFuZGxlICA9ICRpb25pY1Njcm9sbERlbGVnYXRlLiRnZXRCeUhhbmRsZSgnY29udGVudCcpO1xuICAgICAgaGFuZGxlLmFuY2hvclNjcm9sbCgpO1xuICAgIH1cblxuICAgICRzY29wZS5jbG9zZV9mYXFfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIH1cblxuICAgICRzY29wZS5zZXRfYWN0aXZlX29wdGlvbiA9IGZ1bmN0aW9uKGJ1dHRvbmlkKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbi1yZXBvcnRcIikuY2xhc3NOYW1lID0gXCJvcHRpb24taW5hY3RpdmVcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uLWxpc3QtcmVwb3J0c1wiKS5jbGFzc05hbWUgPSBcIm9wdGlvbi1pbmFjdGl2ZVwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b24tZmFxXCIpLmNsYXNzTmFtZSA9IFwib3B0aW9uLWluYWN0aXZlXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbi1maW5kLW1lXCIpLmNsYXNzTmFtZSA9IFwib3B0aW9uLWluYWN0aXZlXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChidXR0b25pZCkuY2xhc3NOYW1lID0gXCJvcHRpb24tYWN0aXZlXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzID0gZnVuY3Rpb24oKXtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVwb3J0LWxpc3Qtc2Nyb2xsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib2ZmbGluZS1yZXBvcnQtbGlzdC1jb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcF9jcm9zc2hhaXInKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwX2Nyb3NzaGFpcl9idXR0b24nKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLnZpZXdSZXBvcnREZXRhaWxzID0gZnVuY3Rpb24oaWQpe1xuICAgICAgJHNjb3BlLnJlcG9ydF9kZXRhaWxfaWQgPSBpZDtcbiAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICAgUmVwb3J0U2VydmljZS5nZXRCeUlkKGlkKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAkc2NvcGUucmVwb3J0X2RldGFpbCA9ICRzY2UudHJ1c3RBc0h0bWwocmVzcC5kYXRhLnJlcGxhY2UoXCJvdmVyZmxvdzphdXRvO1wiLFwiXCIpLnJlcGxhY2UoJ3NyYz1cIi8nLCdzcmM9XCInK0NvbmZpZ1NlcnZpY2UuYmFzZVVSTCkucmVwbGFjZSgndXJsKC8nLCd1cmwoJytDb25maWdTZXJ2aWNlLmJhc2VVUkwrQ29uZmlnU2VydmljZS5iYXNlQ29icmFuZCtcIi9cIikucmVwbGFjZSgndXJsKC8nLCd1cmwoJytDb25maWdTZXJ2aWNlLmJhc2VVUkwrQ29uZmlnU2VydmljZS5iYXNlQ29icmFuZCtcIi9cIikpO1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgJHNjb3BlLmNvbW1lbnQgPSB7XG4gICAgICAgICAgICBzdWJtaXRfdXBkYXRlOiAxLFxuICAgICAgICAgICAgaWQ6ICRzY29wZS5yZXBvcnRfZGV0YWlsX2lkLFxuICAgICAgICAgICAgbWF5X3Nob3dfbmFtZTogdHJ1ZSxcbiAgICAgICAgICAgIGFkZF9hbGVydDogdHJ1ZSxcbiAgICAgICAgICAgIGZpeGVkOiBmYWxzZSxcbiAgICAgICAgICAgIHVwZGF0ZTogXCJcIixcbiAgICAgICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgICAgICBmb3JtX3J6bnZ5OiBudWxsLFxuICAgICAgICAgICAgcGhvdG86IG51bGxcbiAgICAgICAgICB9O1xuICAgICAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9yZXBvcnQtZGV0YWlsLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgLy9oYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogZmFsc2UsXG4gICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbC5zaG93KCkudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcjcmVwb3J0LWRldGFpbC1jb250YWluZXItZGl2JyApICk7XG4gICAgICAgICAgICAgICAgICB2YXIgY29tcGlsZWQgPSAkY29tcGlsZShlbGVtZW50LmNvbnRlbnRzKCkpKCRzY29wZSk7XG4gICAgICAgICAgICAgICAgICBpZihVc2VyU2VydmljZS5pc0xvZ2dlZCgpKXtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21tZW50X2NvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbW1lbnQubmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jb21tZW50LmZvcm1fcnpudnkgPSBVc2VyU2VydmljZS5lbWFpbDtcbiAgICAgICAgICAgICAgICAgICAgaWYoVXNlclNlcnZpY2UuZnJvbV9ib2R5IT1udWxsKXtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uID0gJHNjb3BlLmZlYXR1cmVSZXBvcnRzW2lkXS5mZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXQgPSAkc2NvcGUuZmVhdHVyZVJlcG9ydHNbaWRdLmZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV07XG4gICAgICAgICAgICAgICAgICAgICAgUE1CU2VydmljZS5nZXRBcmVhcyhsb24sbGF0KS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbk9iamVjdCA9IHJlc3AuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc0JvZHlBZG1pbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBqc29uT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmVhSWQgPSBwcm9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJlYVByb3BzID0ganNvbk9iamVjdFtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoYXJlYVByb3BzLnR5cGU9PVwiQ0lVXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKFVzZXJTZXJ2aWNlLmZyb21fYm9keT09YXJlYUlkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc0JvZHlBZG1pbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY29tbWVudC5uZXdfY2F0ZWdvcnkgPSAkc2NvcGUuZmVhdHVyZVJlcG9ydHNbaWRdLmZlYXR1cmUucHJvcGVydGllcy5jYXRlZ29yeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb21tZW50LnN0YXRlID0gJHNjb3BlLmZlYXR1cmVSZXBvcnRzW2lkXS5mZWF0dXJlLnByb3BlcnRpZXMuc3RhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXRlZ29yaWVzU2VydmljZS5hbGxGcm9tQm9keUFyZWEoYXJlYUlkKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJlYU9iamVjdCA9IHJlc3AuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbENhdGVnb3JpZXNGcm9tQm95QXJlYSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCBpbiBqc29uQXJlYU9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxDYXRlZ29yaWVzRnJvbUJveUFyZWEucHVzaChpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ld19jYXRlZ29yeV9zZWxlY3RcIikudmFsdWU9JHNjb3BlLmNvbW1lbnQubmV3X2NhdGVnb3J5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNCb2R5QWRtaW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbW1lbnRfY29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO1xuICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tbWVudF9jb250YWluZXJcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cChcIkVSUk9SIEFMIENBUkdBUiBEQVRPUyBERUwgUkVQT1JURTogXCIgKyByZXNwLnN0YXR1c1RleHQpXG4gICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiU2luIGNvbmV4acOzbiBhIGludGVybmV0XCIsXCJQYXJhIHZlciBsb3MgZGV0YWxsZXMgZGVsIHJlcG9ydGUsIGRlYmUgZXN0YXIgY29uZWN0YWRvIGEgaW50ZXJuZXQuXCIpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlX3JlcG9ydF9kZXRhaWxfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgJHNjb3BlLnJlcG9ydF9kZXRhaWxfaWQgPSBudWxsO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ2VudGVyIG1hcCBvbiB1c2VyJ3MgY3VycmVudCBwb3NpdGlvblxuICAgICAqL1xuICAgICRzY29wZS5sb2NhdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgJGNvcmRvdmFHZW9sb2NhdGlvblxuICAgICAgICAuZ2V0Q3VycmVudFBvc2l0aW9uKClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sYXQgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubG5nID0gcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci56b29tID0gMTU7XG5cbiAgICAgICAgICAkc2NvcGUubWFwLm1hcmtlcnMubm93ID0ge1xuICAgICAgICAgICAgbGF0OiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXG4gICAgICAgICAgICBsbmc6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIllvdSBBcmUgSGVyZVwiLFxuICAgICAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlXG4gICAgICAgICAgfTtcblxuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAvLyBlcnJvclxuICAgICAgICAgIC8vY29uc29sZS5sb2coXCJMb2NhdGlvbiBlcnJvciFcIik7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcblxuICAgIH07XG5cblxuICAgIC8qJHNjb3BlLmdldFJlcG9ydHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgdmFyIGJib3ggPSBtYXAuZ2V0Qm91bmRzKCk7XG4gICAgICAgIC8vQ29uc29sZS5sb2coYmJveCk7XG5cbiAgICAgICAgUE1CU2VydmljZS5hcm91bmQoYmJveCkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwicGluIFwiICsgaSArIFwiPVwiICsgZGF0YVtpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07Ki9cblxuICAgICRzY29wZS5hZGRNYXBDb250cm9scyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwX2Nyb3NzaGFpcicpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwX2Nyb3NzaGFpcl9idXR0b24nKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgfTtcblxuICAgICRzY29wZS5zdGFydFJlcG9ydEZyb21Dcm9zc2hhaXJzID0gZnVuY3Rpb24oKXtcbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIHZhciBsYXRsb24gPSBtYXAuZ2V0Q2VudGVyKCk7XG4gICAgICAgIExvY2F0aW9uc1NlcnZpY2Uuc2F2ZV9uZXdfcmVwb3J0X3Bvc2l0aW9uKGxhdGxvbi5sYXQsbGF0bG9uLmxuZyk7XG4gICAgICAgICRzY29wZS5uZXdfcmVwb3J0KDEpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKGxhdGxvbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZ2V0T25seUNhdGVnb3J5SWNvblVSTCA9IGZ1bmN0aW9uKHVybCl7XG4gICAgICB2YXIgbmV3X3VybCA9IHVybC5yZXBsYWNlKFwiLXByb2Nlc29cIixcIlwiKTtcbiAgICAgIG5ld191cmwgPSBuZXdfdXJsLnJlcGxhY2UoXCItcmVzdWVsdG9cIixcIlwiKTtcbiAgICAgIG5ld191cmwgPSAkc2NvcGUud3RrX3VybF9maXgobmV3X3VybCk7XG4gICAgICByZXR1cm4gbmV3X3VybDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmhpZGVPZmZTY3JlZW5QaW5zID0gZnVuY3Rpb24oKSB7XG4gICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB2YXIgbWFwQm91bmRzID0gbWFwLmdldEJvdW5kcygpO1xuICAgICAgICB2YXIga2V5c0FycmF5ID0gT2JqZWN0LmtleXMoJHNjb3BlLnJlcG9ydHNCeVN0YXRlKTtcbiAgICAgICAgJHNjb3BlLnJlcG9ydHNWaXNpYmxlID0gW107XG4gICAgICAgIGtleXNBcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICRzY29wZS5yZXBvcnRzQnlTdGF0ZVtpdGVtXS5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyLGtleSl7XG4gICAgICAgICAgICB2YXIgc2hvdWxkQmVWaXNpYmxlID0gbWFwQm91bmRzLmNvbnRhaW5zKGxheWVyLmdldExhdExuZygpKTtcbiAgICAgICAgICAgIGlmICghc2hvdWxkQmVWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKGxheWVyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkQmVWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgLyppZigkc2NvcGUuc2VsZWN0ZWRfcmVzaWR1byl7XG4gICAgICAgICAgICAgICAgICB2YXIgcHJvZ3JhbWFzX3N0ciA9ICRzY29wZS5zZWxlY3RlZF9yZXNpZHVvLnByb3BlcnRpZXMuUHJvZ3JhbWFzO1xuICAgICAgICAgICAgICAgICAgdmFyIHByb2dyYW1hc0lkcyA9IHByb2dyYW1hc19zdHIuc3BsaXQoXCIuXCIpO1xuICAgICAgICAgICAgICAgICAgdmFyIGlkID0gbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLlByb2dyYW1hU3ViUHJvZ0lEO1xuICAgICAgICAgICAgICAgICAgaWYocHJvZ3JhbWFzSWRzLmluZGV4T2YoaWQpPDApe1xuICAgICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5hZGRMYXllcihsYXllcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBtYXAuYWRkTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgICAgIG1hcC5hZGRMYXllcihsYXllcik7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydHNWaXNpYmxlLnB1c2gobGF5ZXIuZmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUucmVtb3ZlQWxsUGlucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgdmFyIG1hcEJvdW5kcyA9IG1hcC5nZXRCb3VuZHMoKTtcbiAgICAgICAgdmFyIGtleXNBcnJheSA9IE9iamVjdC5rZXlzKCRzY29wZS5yZXBvcnRzQnlTdGF0ZSk7XG4gICAgICAgICRzY29wZS5yZXBvcnRzVmlzaWJsZSA9IFtdO1xuICAgICAgICBrZXlzQXJyYXkuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgICAkc2NvcGUucmVwb3J0c0J5U3RhdGVbaXRlbV0uZm9yRWFjaChmdW5jdGlvbihsYXllcixrZXkpe1xuICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKGxheWVyKTtcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5sb2FkUGluc0xheWVyID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpKXtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUucmVtb3ZlQWxsUGlucygpO1xuICAgICAgICAkc2NvcGUucmVwb3J0c0J5U3RhdGUgPSB7fTtcbiAgICAgICAgUmVwb3J0U2VydmljZS5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIHZhciBwaW5zQXJyYXkgPSByZXNwb25zZS5kYXRhLmZlYXR1cmVzO1xuICAgICAgICAgICRzY29wZS5yZXBvcnRzID0gcmVzcG9uc2UuZGF0YS5mZWF0dXJlcztcbiAgICAgICAgICBwaW5zQXJyYXkuZm9yRWFjaChmdW5jdGlvbihmZWF0dXJlKXtcbiAgICAgICAgICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgdmFyIGxvbiA9IGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF07XG4gICAgICAgICAgICAgIHZhciBsYXQgPSBmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdO1xuICAgICAgICAgICAgICB2YXIgaWNvbiA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIGZlYXR1cmUucHJvcGVydGllcy5waW5fdXJsO1xuICAgICAgICAgICAgICB2YXIgbWFya2VySWNvbiA9IEwuaWNvbih7XG4gICAgICAgICAgICAgICAgaWNvblVybDogaWNvbixcbiAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzI5LCAzNF0sXG4gICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzE0LCAzNF0sXG4gICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFsxNCwgLThdXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB2YXIgbGF5ZXIgPSBMLm1hcmtlcihbbGF0LCBsb25dLCB7aWNvbjogbWFya2VySWNvbn0pO1xuICAgICAgICAgICAgICBsYXllci5mZWF0dXJlID0gZmVhdHVyZTtcbiAgICAgICAgICAgICAgJHNjb3BlLmZlYXR1cmVSZXBvcnRzW2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5pZF0gPSBsYXllcjtcbiAgICAgICAgICAgICAgaWYoISRzY29wZS5yZXBvcnRzQnlTdGF0ZVtcInN0YXRlLVwiICsgZmVhdHVyZS5wcm9wZXJ0aWVzLnN0YXRlXSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydHNCeVN0YXRlW1wic3RhdGUtXCIgKyBmZWF0dXJlLnByb3BlcnRpZXMuc3RhdGVdPVtdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICRzY29wZS5yZXBvcnRzQnlTdGF0ZVtcInN0YXRlLVwiICsgZmVhdHVyZS5wcm9wZXJ0aWVzLnN0YXRlXS5wdXNoKGxheWVyKTtcbiAgICAgICAgICAgICAgaWYgKGZlYXR1cmUucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIHJlcG9ydElkID0gZmVhdHVyZS5wcm9wZXJ0aWVzLmlkO1xuICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uID0gZmVhdHVyZS5wcm9wZXJ0aWVzLnRpdGxlO1xuICAgICAgICAgICAgICAgIGh0bWwgPSAnPGEgY2xhc3M9XCJ0ZXh0IHJlcG9ydC1saW5rXCIgbmctY2xpY2s9XCJ2aWV3UmVwb3J0RGV0YWlscygnICsgcmVwb3J0SWQgKyAnKVwiPjxwPicgKyBkZXNjcmlwY2lvbiArICc8L3A+PC9hPic7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBpbGVkID0gJGNvbXBpbGUoaHRtbCkoJHNjb3BlKTtcbiAgICAgICAgICAgICAgICBsYXllci5iaW5kUG9wdXAoY29tcGlsZWRbMF0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAkc2NvcGUuaGlkZU9mZlNjcmVlblBpbnMoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAkc2NvcGUuYWRkUmVwb3J0c0xheWVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZigkc2NvcGUuanNvbkxheWVyIT1udWxsKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkw7XG4gICAgICAgIGJ1aWxkUG9wdXAgPSBmdW5jdGlvbihkYXRhLCBtYXJrZXIpIHtcbiAgICAgICAgICB2YXIgcmVwb3J0SWQgPSBkYXRhWzNdLFxuICAgICAgICAgICAgZGVzY3JpcGNpb24gPSBkYXRhWzRdO1xuXG4gICAgICAgICAgdmFyIGh0bWwgPSAnPGEgY2xhc3M9XCJ0ZXh0IHJlcG9ydC1saW5rXCIgbmctY2xpY2s9XCJ2aWV3UmVwb3J0RGV0YWlscygnICsgcmVwb3J0SWQgKyAnKVwiPjxwPicgKyBkZXNjcmlwY2lvbiArICc8L3A+PC9hPic7XG4gICAgICAgICAgcmV0dXJuIGh0bWw7XG5cblxuICAgICAgICB9LFxuXG4gICAgICAgIG9uRWFjaEZlYXR1cmUgPSBmdW5jdGlvbihmZWF0dXJlLCBsYXllcikge1xuICAgICAgICAgIC8vIGRvZXMgdGhpcyBmZWF0dXJlIGhhdmUgYSBwcm9wZXJ0eSBuYW1lZCBwb3B1cENvbnRlbnQ/XG4gICAgICAgICAgdmFyIGh0bWwsIHJlcG9ydElkLCBkZXNjcmlwY2lvbjtcbiAgICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICByZXBvcnRJZCA9IGZlYXR1cmUucHJvcGVydGllcy5pZDtcbiAgICAgICAgICAgIGRlc2NyaXBjaW9uID0gZmVhdHVyZS5wcm9wZXJ0aWVzLnRpdGxlO1xuICAgICAgICAgICAgaHRtbCA9ICc8YSBjbGFzcz1cInRleHQgcmVwb3J0LWxpbmtcIiBuZy1jbGljaz1cInZpZXdSZXBvcnREZXRhaWxzKCcgKyByZXBvcnRJZCArICcpXCI+PHA+JyArIGRlc2NyaXBjaW9uICsgJzwvcD48L2E+JztcbiAgICAgICAgICAgIHZhciBjb21waWxlZCA9ICRjb21waWxlKGh0bWwpKCRzY29wZSk7XG4gICAgICAgICAgICBsYXllci5iaW5kUG9wdXAoY29tcGlsZWRbMF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBsID0gbmV3IEwuTGF5ZXJKU09OKHtcbiAgICAgICAgICB1cmw6IGJhc2VVUkwgKyBcIi9hamF4X2dlbz9iYm94PXtiYm94fVwiIC8qXCJhamF4X2dlbz9iYm94PXtiYm94fVwiKi8gLFxuICAgICAgICAgIGxvY0FzR2VvSlNPTjogdHJ1ZSAvKmxvY0FzQXJyYXk6dHJ1ZSovLFxuICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IG9uRWFjaEZlYXR1cmVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLmpzb25MYXllciA9IGw7XG5cbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIG1hcC5hZGRMYXllcihsKTtcbiAgICAgIH0pO1xuXG5cbiAgICAgIGwub24oJ2RhdGFsb2FkZWQnLCBmdW5jdGlvbihlKSB7IC8vc2hvdyBsb2FkZWQgZGF0YSFcbiAgICAgICAgJHNjb3BlLnJlcG9ydHMgPSBlLmRhdGEuZmVhdHVyZXM7XG4gICAgICB9KTtcblxuXG4gICAgICBsLm9uKCdsYXllcmFkZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5sYXllci5lYWNoTGF5ZXIoZnVuY3Rpb24oX2xheWVyKSB7XG4gICAgICAgICAgdmFyIG1hcmtlckljb24gPSBMLmljb24oe1xuICAgICAgICAgICAgaWNvblVybDogYmFzZVVSTCArIFwiL1wiICsgX2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5waW5fdXJsLFxuICAgICAgICAgICAgaWNvblNpemU6IFsyOSwgMzRdLFxuICAgICAgICAgICAgaWNvbkFuY2hvcjogWzE0LCAzNF0sXG4gICAgICAgICAgICBwb3B1cEFuY2hvcjogWzAsIC04XVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIF9sYXllci5zZXRJY29uKG1hcmtlckljb24pO1xuICAgICAgICAgIGlmICgkc2NvcGUuZmVhdHVyZVJlcG9ydHNbX2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5pZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgJHNjb3BlLmZlYXR1cmVSZXBvcnRzW19sYXllci5mZWF0dXJlLnByb3BlcnRpZXMuaWRdID0gX2xheWVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgICRzY29wZS5nb1RvUmVwb3J0ID0gZnVuY3Rpb24ocmVwb3J0KSB7XG5cbiAgICAgIHZhciByZXBvcnRfZGl2c19hY3RpdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicmVwb3J0LWluc2lkZS1saXN0LWFjdGl2ZVwiKTtcbiAgICAgIGlmKHJlcG9ydF9kaXZzX2FjdGl2ZS5sZW5ndGggPiAwKXtcbiAgICAgICAgcmVwb3J0X2RpdnNfYWN0aXZlWzBdLmNsYXNzTmFtZSA9IFwicmVwb3J0LWluc2lkZS1saXN0XCI7XG4gICAgICB9XG4gICAgICB2YXIgcmVwb3J0X2RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVwb3J0LWNvbnRhaW5lci1cIityZXBvcnQucHJvcGVydGllcy5pZCk7XG4gICAgICByZXBvcnRfZGl2LmNsYXNzTmFtZSA9IFwicmVwb3J0LWluc2lkZS1saXN0LWFjdGl2ZVwiO1xuXG5cbiAgICAgIHZhciBsYXllciA9ICRzY29wZS5mZWF0dXJlUmVwb3J0c1tyZXBvcnQucHJvcGVydGllcy5pZF07XG4gICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB2YXIgY29vcmRzID0gbGF5ZXIuZ2V0TGF0TG5nKCk7XG4gICAgICAgIHZhciBsYXQgPSBjb29yZHMubGF0O1xuICAgICAgICAvL01vdmUgYSBsaXR0bGUgdGhlIG1hcCBjZW50ZXIgYmVjYXVzZSB0aGUgbWFwIHZpZXcgaXMgc21hbGxlciAocmVwb3J0IGxpc3QgaXMgZGlzcGxheWVkKVxuICAgICAgICBsYXQgPSBsYXQgLSAwLjAwMDY7XG4gICAgICAgIG1hcC5zZXRWaWV3KG5ldyBMLkxhdExuZyhsYXQsIGNvb3Jkcy5sbmcpLCAxOCk7XG4gICAgICAgIGxheWVyLm9wZW5Qb3B1cCgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIFN1Z2dlc3Rpb25cbiAgICAkc2NvcGUubW9kZWwgPSBbXTtcbiAgICAkc2NvcGUuZXh0ZXJuYWxNb2RlbCA9IFtdO1xuICAgICRzY29wZS5zZWxlY3RlZEl0ZW1zID0gW107XG4gICAgJHNjb3BlLnByZXNlbGVjdGVkU2VhcmNoSXRlbXMgPSBbXTtcbiAgICAkc2NvcGUuY2xpY2tlZFZhbHVlTW9kZWwgPSBcIlwiO1xuICAgICRzY29wZS5yZW1vdmVkVmFsdWVNb2RlbCA9IFwiXCI7XG5cbiAgICAkc2NvcGUuZ2V0VGVzdEl0ZW1zID0gZnVuY3Rpb24ocXVlcnkpIHtcbiAgICAgIHZhciB0b1JldHVybiA9IFtdLFxuICAgICAgICBvYmo7XG4gICAgICBpZiAocXVlcnkpIHtcbiAgICAgICAgb2JqID0ge1xuICAgICAgICAgIGl0ZW1zOiBbe1xuICAgICAgICAgICAgaWQ6IFwiMVwiLFxuICAgICAgICAgICAgbmFtZTogcXVlcnkgKyBcIjFcIixcbiAgICAgICAgICAgIHZpZXc6IFwidmlldzogXCIgKyBxdWVyeSArIFwiMVwiXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgaWQ6IFwiMlwiLFxuICAgICAgICAgICAgbmFtZTogcXVlcnkgKyBcIjJcIixcbiAgICAgICAgICAgIHZpZXc6IFwidmlldzogXCIgKyBxdWVyeSArIFwiMlwiXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgaWQ6IFwiM1wiLFxuICAgICAgICAgICAgbmFtZTogcXVlcnkgKyBcIjNcIixcbiAgICAgICAgICAgIHZpZXc6IFwidmlldzogXCIgKyBxdWVyeSArIFwiM1wiXG4gICAgICAgICAgfV1cbiAgICAgICAgfTtcbiAgICAgICAgdG9SZXR1cm4gPSBvYmouaXRlbXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9SZXR1cm47XG4gICAgfTtcblxuXG4gICAgJHNjb3BlLml0ZW1zUmVtb3ZlZCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkc2NvcGUucmVtb3ZlZFZhbHVlTW9kZWwgPSBjYWxsYmFjaztcbiAgICB9O1xuXG4gICAgJHNjb3BlLnVzZXJfb3B0aW9ucyA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIik7XG4gICAgICBpZihtZW51LnN0eWxlLmRpc3BsYXk9PVwiYmxvY2tcIil7XG4gICAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBuYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgICAgaWYobmFtZT09bnVsbCl7XG4gICAgICAgICAgLy9ObyBlc3RhIGxvZ3VlYWRvXG4gICAgICAgICAgJHNjb3BlLnNob3dfYW5vbnltb3VzX21lbnUoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy9Fc3TDoSBsb2d1ZWFkb1xuICAgICAgICAgICRzY29wZS5zaG93X3VzZXJfbWVudSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfYW5vbnltb3VzX21lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpO1xuICAgICAgdmFyIGh0bWwgPSBcIjxkaXYgaWQ9J2F1dGhfb3B0aW9ucyc+PGRpdiBjbGFzcz0nbm9uYXV0aC1saW5rJyBuZy1jbGljaz0nc2hvd19sb2dpbl9tb2RhbCgpJz5JbmljaWFyIHNlc2nDs248L2Rpdj5cIjtcbiAgICAgIGh0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSdub25hdXRoLWxpbmsnIG5nLWNsaWNrPSdzaG93X3NpZ25fdXBfbW9kYWwoKSc+UmVnaXN0cmFyc2U8L2Rpdj48L2Rpdj5cIjtcbiAgICAgIG1lbnUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICRjb21waWxlKG1lbnUpKCRzY29wZSk7IC8vPC0tLS0gcmVjb21waWxhdGlvblxuICAgICAgbWVudS5zdHlsZS5oZWlnaHQgPSAnMTIwcHgnO1xuICAgICAgbWVudS5zdHlsZS53aWR0aCA9ICcxNTBweCc7XG4gICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfdXNlcl9tZW51ID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKTtcbiAgICAgIHZhciBodG1sID0gVXNlclNlcnZpY2UubmFtZSArIFwiPGRpdiBpZD0nYXV0aF9vcHRpb25zJz48ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nc2hvd19lZGl0X3Byb2ZpbGVfbW9kYWwoKSc+TWkgcGVyZmlsPC9kaXY+XCI7XG4gICAgICBodG1sID0gaHRtbCArIFwiPGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J2NoYW5nZV9wYXNzd29yZCgpJz5DYW1iaWFyIGNvbnRyYXNlw7FhPC9kaXY+XCI7XG4gICAgICBodG1sID0gaHRtbCArIFwiPGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J2xpc3Rfb2ZmbGluZV9yZXBvcnRzX21lbnUoKSc+UmVwb3J0ZXMgcGVuZGllbnRlczwvZGl2PlwiO1xuICAgICAgaHRtbCA9IGh0bWwgKyBcIjxkaXYgY2xhc3M9J3VzZXItbG9nZ2VkLWxpbmsnIG5nLWNsaWNrPSdzaWduX291dCgpJz5DZXJyYXIgc2VzacOzbjwvZGl2PjwvZGl2PlwiO1xuICAgICAgbWVudS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgJGNvbXBpbGUobWVudSkoJHNjb3BlKTsgLy88LS0tLSByZWNvbXBpbGF0aW9uXG4gICAgICBtZW51LnN0eWxlLmhlaWdodCA9ICcyMjBweCc7XG4gICAgICBtZW51LnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmZvcmdvdF9wYXNzd29yZCA9IGZ1bmN0aW9uKCl7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAkc2NvcGUubm9uYXV0aCA9IG5ldyBBcnJheSgpO1xuICAgICAgJHNjb3BlLm5vbmF1dGguZW1haWwgPSBcIlwiO1xuICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvZm9yZ290X3Bhc3N3b3JkLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuZm9yZ290X3Bhc3N3b3JkX29rID0gZnVuY3Rpb24oKXtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJFbWFpbFwiLFwiZW1haWxcIiwkc2NvcGUubm9uYXV0aC5lbWFpbCkpO1xuICAgICAgaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkcyhmaWVsZHMsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgQXV0aFNlcnZpY2UucGFzc3dvcmRfcmVjb3ZlcnkoJHNjb3BlLm5vbmF1dGguZW1haWwpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgIGlmKHJlc3AuZGF0YS5tZXNzYWdlPT1cIkVtYWlsIHN1Y2Nlc3NmdWx5IHNlbmRlZFwiKXtcbiAgICAgICAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiSW5zdHJ1Y2Npb25lcyBlbnZpYWRhcyBjb24gw6l4aXRvXCIsXCJTZSBoYW4gZW52aWFkbyBpbnRydWNjaW9uZXMgcGFyYSByZXN0YWJsZWNlciB0dSBjb250cmFzZcOxYSBhbCBjb3JyZW8gcHJvcG9yY2lvbmFkbyBhbnRlcmlvcm1lbnRlLlwiKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHJlc3AuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUuY2hhbmdlX3Bhc3N3b3JkID0gZnVuY3Rpb24oKXtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICRzY29wZS5ub25hdXRoID0gbmV3IEFycmF5KCk7XG4gICAgICAkc2NvcGUubm9uYXV0aC5vbGRQYXNzd29yZCA9IFwiXCI7XG4gICAgICAkc2NvcGUubm9uYXV0aC5uZXdQYXNzd29yZCA9IFwiXCI7XG4gICAgICAkc2NvcGUubm9uYXV0aC5jb25maXJtUGFzc3dvcmQgPSBcIlwiO1xuICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvY2hhbmdlX3Bhc3N3b3JkLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuY2hhbmdlX3Bhc3N3b3JkX29rID0gZnVuY3Rpb24oKXtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgIC8vZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkVtYWlsXCIsXCJlbWFpbFwiLCRzY29wZS5ub25hdXRoLmVtYWlsKSk7XG4gICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29udHJhc2XDsWEgYWN0dWFsXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5vbmF1dGgub2xkUGFzc3dvcmQpKTtcbiAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJOdWV2YSBjb250cmFzZcOxYVwiLFwibm90TnVsbFwiLCRzY29wZS5ub25hdXRoLm5ld1Bhc3N3b3JkKSk7XG4gICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29uZmlybWFyIG51ZXZhIGNvbnRyYXNlw7FhXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5vbmF1dGguY29uZmlybVBhc3N3b3JkKSk7XG4gICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5X3dpdGhfdHdvRmllbGRzKFwiTnVldmEgY29udHJhc2XDsWEgeSBDb25maXJtYXIgY29udHJhc2XDsWFcIixcImVxdWFsc1RvXCIsJHNjb3BlLm5vbmF1dGgubmV3UGFzc3dvcmQsJHNjb3BlLm5vbmF1dGguY29uZmlybVBhc3N3b3JkKSk7XG4gICAgICBpZihFcnJvclNlcnZpY2UuY2hlY2tfZmllbGRzKGZpZWxkcyxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgIEF1dGhTZXJ2aWNlLnBhc3N3b3JkX2NoYW5nZShVc2VyU2VydmljZS5lbWFpbCwkc2NvcGUubm9uYXV0aC5vbGRQYXNzd29yZCwkc2NvcGUubm9uYXV0aC5uZXdQYXNzd29yZCwkc2NvcGUubm9uYXV0aC5jb25maXJtUGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgIGlmKHJlc3AuZGF0YS5tZXNzYWdlPT1cIlBhc3N3b3JkIHN1Y2Nlc3NmdWx5IGNoYW5nZWRcIil7XG4gICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShVc2VyU2VydmljZS5uYW1lLCBVc2VyU2VydmljZS5lbWFpbCwgJHNjb3BlLm5vbmF1dGgubmV3UGFzc3dvcmQsIFVzZXJTZXJ2aWNlLmlkZW50aXR5X2RvY3VtZW50LCBVc2VyU2VydmljZS5waG9uZSwgVXNlclNlcnZpY2UucGljdHVyZV91cmwpO1xuICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKFVzZXJTZXJ2aWNlLm5hbWUsVXNlclNlcnZpY2UuZW1haWwsVXNlclNlcnZpY2UucGFzc3dvcmQsVXNlclNlcnZpY2UuaWRlbnRpdHlfZG9jdW1lbnQsVXNlclNlcnZpY2UucGhvbmUsVXNlclNlcnZpY2UucGljdHVyZV91cmwpO1xuICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLFwiU2UgaGEgcHJvZHVjaWRvIHVuIGVycm9yIGFsIGNhbWJpYXIgc3UgY2xhdmUsIHBvciBmYXZvciBpbnRlbnRlIG3DoXMgdGFyZGVcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheSA9IGZ1bmN0aW9uKG5hbWUsdHlwZSx2YWx1ZSl7XG4gICAgICB2YXIgZmllbGQgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZpZWxkLm5hbWUgPSBuYW1lO1xuICAgICAgZmllbGQudHlwZSA9IHR5cGU7XG4gICAgICBmaWVsZC52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5X3dpdGhfdHdvRmllbGRzID0gZnVuY3Rpb24obmFtZSx0eXBlLHZhbHVlLHNlY29uZFZhbHVlKXtcbiAgICAgIHZhciBmaWVsZCA9IG5ldyBBcnJheSgpO1xuICAgICAgZmllbGQubmFtZSA9IG5hbWU7XG4gICAgICBmaWVsZC50eXBlID0gdHlwZTtcbiAgICAgIGZpZWxkLnZhbHVlID0gdmFsdWU7XG4gICAgICBmaWVsZC5zZWNvbmRWYWx1ZSA9IHNlY29uZFZhbHVlO1xuICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH07XG5cbiAgICAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsgPSBmdW5jdGlvbih1cmwpe1xuICAgICAgaWYodXJsLmluZGV4T2YoXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIpID49IDApe1xuICAgICAgICB2YXIgcGFydHMgPSB1cmwuc3BsaXQoXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIpO1xuICAgICAgICB2YXIgbmV3VXJsID0gXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIrcGFydHNbMV07XG4gICAgICAgIHJldHVybiBuZXdVcmw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2lnbl9pbiA9IGZ1bmN0aW9uKGVtYWlsLCBwYXNzd29yZCl7XG4gICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkVtYWlsXCIsXCJlbWFpbFwiLGVtYWlsKSk7XG4gICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb250cmFzZcOxYVwiLFwibm90TnVsbFwiLHBhc3N3b3JkKSk7XG4gICAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICBBdXRoU2VydmljZS5zaWduX2luKHBhc3N3b3JkLCBlbWFpbCkudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsKHJlc3AsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICByZXNwLmRhdGEucGljdHVyZV91cmwgPSAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsocmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEocmVzcC5kYXRhLm5hbWUsIGVtYWlsLCBwYXNzd29yZCwgcmVzcC5kYXRhLmlkZW50aXR5X2RvY3VtZW50LCByZXNwLmRhdGEucGhvbmUsIHJlc3AuZGF0YS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgICAgIERCU2VydmljZS5zYXZlVXNlcihyZXNwLmRhdGEubmFtZSxlbWFpbCxwYXNzd29yZCxyZXNwLmRhdGEuaWRlbnRpdHlfZG9jdW1lbnQscmVzcC5kYXRhLnBob25lLHJlc3AuZGF0YS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgICAgIGlmKHJlc3AuZGF0YS5mcm9tX2JvZHkpe1xuICAgICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLmZyb21fYm9keSA9IHJlc3AuZGF0YS5mcm9tX2JvZHk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8kc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICRzY29wZS5jbG9zZV9sb2dpbl9tb2RhbCgpO1xuICAgICAgICAgICAgICAvLyRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAvL2FsZXJ0KFwiRXJyb3IgZW4gc2lnbl9pblwiKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG5cbiAgICAgIH1lbHNle1xuICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSBpbmljaWFyIHNlc2nDs24gZGViZSBlc3RhciBjb25lY3RhZG8gYSBpbnRlcm5ldFwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2lnbl9pbl9hamF4ID0gZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkKXtcbiAgICAgIEF1dGhTZXJ2aWNlLnNpZ25faW4ocGFzc3dvcmQsIGVtYWlsKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4KHJlc3ApKXtcbiAgICAgICAgICByZXNwLmRhdGEucGljdHVyZV91cmwgPSAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsocmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShyZXNwLmRhdGEubmFtZSwgZW1haWwsIHBhc3N3b3JkLCByZXNwLmRhdGEuaWRlbnRpdHlfZG9jdW1lbnQsIHJlc3AuZGF0YS5waG9uZSwgcmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIocmVzcC5kYXRhLm5hbWUsZW1haWwscGFzc3dvcmQscmVzcC5kYXRhLmlkZW50aXR5X2RvY3VtZW50LHJlc3AuZGF0YS5waG9uZSxyZXNwLmRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgIGlmKHJlc3AuZGF0YS5mcm9tX2JvZHkpe1xuICAgICAgICAgICAgVXNlclNlcnZpY2UuZnJvbV9ib2R5ID0gcmVzcC5kYXRhLmZyb21fYm9keTtcbiAgICAgICAgICB9XG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgIH0sIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAvL0Vycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAocmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2lnbl9vdXQgPSBmdW5jdGlvbigpe1xuICAgICAgVXNlclNlcnZpY2UuZXJhc2VfdXNlcl9kYXRhKCk7XG4gICAgICBEQlNlcnZpY2UuZXJhc2VVc2VyKCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfZWRpdF9wcm9maWxlX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vQ2FyZ2FyIGVsIG1vZGFsIGNvbiBsYSBpbmZvIGRlbCB1c3VhcmlvIGxvZ3VlYWRvIHkgY29uIGVsIHN1Ym1pdCBhIGVkaXRfcHJvZmlsZV9va1xuICAgICAgJHNjb3BlLnByb2ZpbGUgPSBuZXcgQXJyYXkoKTtcbiAgICAgICRzY29wZS5wcm9maWxlLmVtYWlsID0gVXNlclNlcnZpY2UuZW1haWw7XG4gICAgICAkc2NvcGUucHJvZmlsZS5wYXNzd29yZCA9IFwiXCI7XG4gICAgICAkc2NvcGUucHJvZmlsZS5mdWxsbmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICAkc2NvcGUucHJvZmlsZS5uZXdfZW1haWwgPSBVc2VyU2VydmljZS5lbWFpbDtcbiAgICAgICRzY29wZS5wcm9maWxlLmlkX2RvYyA9IFVzZXJTZXJ2aWNlLmlkZW50aXR5X2RvY3VtZW50O1xuICAgICAgJHNjb3BlLnByb2ZpbGUudGVsZXBob25lID0gVXNlclNlcnZpY2UucGhvbmU7XG4gICAgICAkc2NvcGUucHJvZmlsZS5waWN0dXJlX3VybCA9IG51bGw7XG4gICAgICBpZihVc2VyU2VydmljZS5waWN0dXJlX3VybCE9bnVsbCl7XG4gICAgICAgICRzY29wZS5hY3R1YWxfcGhvdG8gPSBVc2VyU2VydmljZS5waWN0dXJlX3VybDtcbiAgICAgICAgaWYoJHNjb3BlLmFjdHVhbF9waG90bz09XCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCIpe1xuICAgICAgICAgICRzY29wZS5hY3R1YWxfcGhvdG8gPSBcIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICAgIH1cbiAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9lZGl0X3Byb2ZpbGVfd2l0aF9waG90by5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICAkc2NvcGUuYWN0dWFsX3Bob3RvID0gbnVsbDtcbiAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9lZGl0X3Byb2ZpbGUuaHRtbCcsIHtcbiAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogZmFsc2UsXG4gICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuY2xvc2VfZWRpdF9wcm9maWxlX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vQ2FyZ2FyIGVsIG1vZGFsIGNvbiBsYSBpbmZvIGRlbCB1c3VhcmlvIGxvZ3VlYWRvIHkgY29uIGVsIHN1Ym1pdCBhIHVwZGF0ZV91c2VyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmVkaXRfcHJvZmlsZV9vayA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuZWRpdF9wcm9maWxlKFVzZXJTZXJ2aWNlLmVtYWlsLFVzZXJTZXJ2aWNlLnBhc3N3b3JkLCRzY29wZS5wcm9maWxlLmZ1bGxuYW1lLCRzY29wZS5wcm9maWxlLm5ld19lbWFpbCwkc2NvcGUucHJvZmlsZS5pZF9kb2MsJHNjb3BlLnByb2ZpbGUudGVsZXBob25lLCRzY29wZS5wcm9maWxlLnBpY3R1cmVfdXJsKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZWRpdF9wcm9maWxlID0gZnVuY3Rpb24oZW1haWwscGFzc3dvcmQsIGZ1bGxuYW1lLCBuZXdfZW1haWwsIGlkX2RvYywgdXNlcl9waG9uZSwgdXNlcl9waWN0dXJlX3VybCl7XG4gICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvcnJlbyBlbGVjdHLDs25pY29cIixcImVtYWlsXCIsbmV3X2VtYWlsKSk7XG4gICAgICAgIC8vZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvbnRyYXNlw7FhXCIsXCJub3ROdWxsXCIscGFzc3dvcmQpKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkPDqWR1bGEgZGUgSWRlbnRpZGFkXCIsXCJpZGRvY191eVwiLGlkX2RvYykpO1xuICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiTm9tYnJlIHkgYXBlbGxpZG9cIixcInR3b193b3Jkc1wiLGZ1bGxuYW1lKSk7XG4gICAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICB2YXIgZWRpdF9yZXF1ZXN0ID0gQXV0aFNlcnZpY2UuZWRpdF91c2VyKGVtYWlsLHBhc3N3b3JkLCBmdWxsbmFtZSwgbmV3X2VtYWlsLCBpZF9kb2MsIHVzZXJfcGhvbmUsIHVzZXJfcGljdHVyZV91cmwpO1xuICAgICAgICAgIGlmKHVzZXJfcGljdHVyZV91cmw9PW51bGwgfHwgdXNlcl9waWN0dXJlX3VybD09XCJcIil7XG4gICAgICAgICAgICBlZGl0X3JlcXVlc3Quc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsY29uZmlnKXtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZW50X2xhYmVsXCIpLmlubmVySFRNTCA9IFwiRW52aWFkbzogMTAwJVwiO1xuICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwoZGF0YSxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoZGF0YS5uYW1lLCBkYXRhLmVtYWlsLCBwYXNzd29yZCwgZGF0YS5pZGVudGl0eV9kb2N1bWVudCwgZGF0YS5waG9uZSwgZGF0YS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsY29uZmlnKXtcbiAgICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHN0YXR1cyk7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGVkaXRfcmVxdWVzdC50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0LnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsKGRhdGEsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKGRhdGEubmFtZSwgZGF0YS5lbWFpbCwgcGFzc3dvcmQsIGRhdGEuaWRlbnRpdHlfZG9jdW1lbnQsIGRhdGEucGhvbmUsIGRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZV9lZGl0X3Byb2ZpbGVfbW9kYWwoKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tfdXNlcl9sb2dnZWQoKTtcbiAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgIHZhciBhbGVydCA9IFwiQ8OzZGlnbzogXCIgKyBlcnJvci5jb2RlO1xuICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgT3JpZ2VuOiBcIiArIGVycm9yLnNvdXJjZTtcbiAgICAgICAgICAgICAgYWxlcnQgPSBhbGVydCArIFwiIERlc3Rpbm86IFwiICsgZXJyb3IudGFyZ2V0O1xuICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgaHR0cF9zdGF0dXM6IFwiICsgZXJyb3IuaHR0cF9zdGF0dXM7XG4gICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBCb2R5OiBcIiArIGVycm9yLmJvZHk7XG4gICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBFeGNlcHRpb246IFwiICsgZXJyb3IuZXhjZXB0aW9uO1xuICAgICAgICAgICAgICBFcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlKFwiZXJyb3JfY29udGFpbmVyXCIsXCJIdWJvIHVuIGVycm9yIGVuIGVsIGVudsOtbzogXCIgKyBhbGVydCk7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS51cGxvYWRQcm9ncmVzcyA9IChwcm9ncmVzcy5sb2FkZWQgLyBwcm9ncmVzcy50b3RhbCkgKiAxMDA7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnRfbGFiZWxcIikuaW5uZXJIVE1MID0gXCJFbnZpYWRvOiBcIiArIE1hdGgucm91bmQoJHNjb3BlLnVwbG9hZFByb2dyZXNzKSArIFwiJVwiO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiU2luIGNvbmV4acOzbiBhIGludGVybmV0XCIsXCJQYXJhIGVkaXRhciBzdSBwZXJmaWwgZGViZSBlc3RhciBjb25lY3RhZG8gYSBpbnRlcm5ldFwiKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgICRzY29wZS5zaG93X2xvZ2luX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vQ2FyZ2FyIGVsIG1vZGFsIGNvbiBlbCBmb3JtIGRlIGxvZ2luIHkgYWhpIGxsYW1hIGFsIHNpZ25faW5cbiAgICAgICRzY29wZS5ub25hdXRoID0gbmV3IEFycmF5KCk7XG4gICAgICAkc2NvcGUubm9uYXV0aC5lbWFpbCA9IFwiXCI7XG4gICAgICAkc2NvcGUubm9uYXV0aC5wYXNzd29yZCA9IFwiXCI7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9sb2dfaW4uaHRtbCcsIHtcbiAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmxvZ2luX29rID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5zaWduX2luKCRzY29wZS5ub25hdXRoLmVtYWlsLCRzY29wZS5ub25hdXRoLnBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuY2xvc2VfbG9naW5fbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIH1cblxuXG5cbiAgICAkc2NvcGUuc2hvd19zaWduX3VwX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vY2FyZ2FyIGVsIG1vZGFsIGNvbiBlbCBmb3JtIGRlIHNpZ25fdXAgeSBkZSBhaGkgbGxhbWFyIGFsIHNpZ25fdXBcbiAgICAgICRzY29wZS5uZXd1c2VyID0gbmV3IEFycmF5KCk7XG4gICAgICAkc2NvcGUubmV3dXNlci5lbWFpbCA9IFwiXCI7XG4gICAgICAkc2NvcGUubmV3dXNlci5wYXNzd29yZCA9IFwiXCI7XG4gICAgICAkc2NvcGUubmV3dXNlci5mdWxsbmFtZSA9IFwiXCI7XG4gICAgICAkc2NvcGUubmV3dXNlci5pZF9kb2MgPSBcIlwiO1xuICAgICAgJHNjb3BlLm5ld3VzZXIudGVsZXBob25lID0gXCJcIjtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL3NpZ25fdXAuaHRtbCcsIHtcbiAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlX3NpZ25fdXBfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIH1cblxuICAgICRzY29wZS5zaWduX3VwID0gZnVuY3Rpb24oZW1haWwsZnVsbG5hbWUscGFzc3dvcmQsIGlkX2RvYywgdXNlcl9waG9uZSl7XG4gICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvcnJlbyBlbGVjdHLDs25pY29cIixcImVtYWlsXCIsZW1haWwpKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvbnRyYXNlw7FhXCIsXCJub3ROdWxsXCIscGFzc3dvcmQpKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkPDqWR1bGEgZGUgSWRlbnRpZGFkXCIsXCJpZGRvY191eVwiLGlkX2RvYykpO1xuICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiTm9tYnJlIHkgYXBlbGxpZG9cIixcInR3b193b3Jkc1wiLGZ1bGxuYW1lKSk7XG4gICAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICBBdXRoU2VydmljZS5jcmVhdGVfdXNlcihlbWFpbCxmdWxsbmFtZSxwYXNzd29yZCwgaWRfZG9jLCB1c2VyX3Bob25lKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwocmVzcCxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKGZ1bGxuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGlkX2RvYywgdXNlcl9waG9uZSxudWxsKTtcbiAgICAgICAgICAgICAgLy8kc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICRzY29wZS5jbG9zZV9zaWduX3VwX21vZGFsKCk7XG4gICAgICAgICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgICAgICAgdGl0bGU6IFwiVXN1YXJpbyBjcmVhZG8gY29uIMOpeGl0b1wiLFxuICAgICAgICAgICAgICAgdGVtcGxhdGU6IHJlc3AuZGF0YS5tZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgLy9yZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAvLyRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoXCJTaW4gY29uZXhpw7NuIGEgaW50ZXJuZXRcIixcIlBhcmEgaW5pY2lhciByZWdpc3RyYXJzZSBkZWJlIGVzdGFyIGNvbmVjdGFkbyBhIGludGVybmV0XCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5zaWduX3VwX29rID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5zaWduX3VwKCRzY29wZS5uZXd1c2VyLmVtYWlsLCRzY29wZS5uZXd1c2VyLmZ1bGxuYW1lLCRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCRzY29wZS5uZXd1c2VyLmlkX2RvYywkc2NvcGUubmV3dXNlci50ZWxlcGhvbmUpO1xuICAgIH1cblxuICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICBpZihuYW1lPT1udWxsKXtcbiAgICAgICAgICAvL1NpIEhheSB1biB1c3VhcmlvIGd1YXJkYWRvXG4gICAgICAgICAgdmFyIHVzZXIgPSBEQlNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgICAgIHVzZXIudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgICBpZihkb2MubmFtZSE9bnVsbCAmJiBkb2MubmFtZSE9XCJcIiAmJiBkb2MubmFtZSE9XCJ1bmRlZmluZWRcIil7XG4gICAgICAgICAgICAgICRzY29wZS5zaWduX2luX2FqYXgoZG9jLmVtYWlsLCBkb2MucGFzc3dvcmQpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vRXN0w6EgbG9ndWVhZG9cbiAgICAgICAgaWYoVXNlclNlcnZpY2UucGljdHVyZV91cmw9PW51bGwgfHwgVXNlclNlcnZpY2UucGljdHVyZV91cmw9PVwiXCIpe1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyBubyB0aWVuZSBmb3RvIGRlZmluaWRhXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyB0aWVuZSBmb3RvXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2V0X29mZmxpbmVfdXNlciA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICBpZihuYW1lPT1udWxsKXtcbiAgICAgICAgICAvL1NpIEhheSB1biB1c3VhcmlvIGd1YXJkYWRvXG4gICAgICAgICAgdmFyIHVzZXIgPSBEQlNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgICAgIHVzZXIudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgICBpZihkb2MubmFtZSE9bnVsbCAmJiBkb2MubmFtZSE9XCJcIiAmJiBkb2MubmFtZSE9XCJ1bmRlZmluZWRcIil7XG4gICAgICAgICAgICAgIC8vJHNjb3BlLnNpZ25faW5fYWpheChkb2MuZW1haWwsIGRvYy5wYXNzd29yZCk7XG4gICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKGRvYy5uYW1lLCBkb2MuZW1haWwsIGRvYy5wYXNzd29yZCwgZG9jLmlkZW50aXR5X2RvY3VtZW50LCBkb2MucGhvbmUsIGRvYy5waWN0dXJlX3VybCk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9Fc3TDoSBsb2d1ZWFkb1xuICAgICAgICBpZihVc2VyU2VydmljZS5waWN0dXJlX3VybD09bnVsbCB8fCBVc2VyU2VydmljZS5waWN0dXJlX3VybD09XCJcIil7XG4gICAgICAgICAgLy9FbCB1c3VhcmlvIG5vIHRpZW5lIGZvdG8gZGVmaW5pZGFcbiAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgwKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy9FbCB1c3VhcmlvIHRpZW5lIGZvdG9cbiAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSA9IGZ1bmN0aW9uKGhhc1Bob3RvKXtcbiAgICAgIHZhciBwaWN0dXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3BpY3R1cmVcIik7XG4gICAgICBpZihoYXNQaG90bz09MCl7XG4gICAgICAgIC8vcGljdHVyZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgICAgICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlPVwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgIH1lbHNle1xuICAgICAgICBpZihVc2VyU2VydmljZS5waWN0dXJlX3VybCE9bnVsbCAmJiBVc2VyU2VydmljZS5waWN0dXJlX3VybCE9XCJcIil7XG4gICAgICAgICAgLy9hbGVydChVc2VyU2VydmljZS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlPSAkc2NvcGUud3RrX3VybF9maXgoVXNlclNlcnZpY2UucGljdHVyZV91cmwpO1xuICAgICAgICAgIC8vcGljdHVyZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsICsgXCIpXCI7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vcGljdHVyZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgICAgICAgICAkc2NvcGUudXNlcl9jYWNoZWRfaW1hZ2U9XCIuL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZ1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICAkc2NvcGUuZmluZF9tZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5zZXRfYWN0aXZlX29wdGlvbihcImJ1dHRvbi1maW5kLW1lXCIpO1xuICAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogMTAwMDAsIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZX07XG4gICAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgICAuZ2V0Q3VycmVudFBvc2l0aW9uKHBvc09wdGlvbnMpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubGF0ICA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sbmcgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICAgICAgICAgICAgICAgIExvY2F0aW9uc1NlcnZpY2Uuc2F2ZV9uZXdfcmVwb3J0X3Bvc2l0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTtcbiAgICAgICAgICAgICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIuem9vbSA9IDE4O1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIuem9vbSA9IDE2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLm1hcmtlcnMubm93ID0ge1xuICAgICAgICAgICAgICAgICAgbGF0OnBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICAgIGxuZzpwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCI8cCBhbGlnbj0nY2VudGVyJz5UZSBlbmN1ZW50cmFzIGFxdcOtIDxici8+IDxhIG5nLWNsaWNrPSduZXdfcmVwb3J0KDEpOyc+SW5pY2lhciByZXBvcnRlIGVuIHR1IHBvc2ljacOzbiBhY3R1YWw8L2E+PC9wPlwiLFxuICAgICAgICAgICAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgZ2V0TWVzc2FnZVNjb3BlOiBmdW5jdGlvbigpIHsgcmV0dXJuICRzY29wZTsgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8kc2NvcGUubWFwLm1hcmtlcnMubm93Lm9wZW5Qb3B1cCgpO1xuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAvLyBlcnJvclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJMb2NhdGlvbiBlcnJvciFcIik7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIC8vRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cChcIk5vIGhlbW9zIHBvZGlkbyBnZW9sb2NhbGl6YXJsby4gwr9UYWwgdmV6IG9sdmlkw7MgaGFiaWxpdGFyIGxvcyBzZXJ2aWNpb3MgZGUgbG9jYWxpemFjacOzbiBlbiBzdSBkaXNwb3NpdGl2bz9cIilcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BlbkNvdW5jaWxTZWxlY3RvcigpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH07XG5cbiAgICAgIHZhciBMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoICEodGhpcyBpbnN0YW5jZW9mIExvY2F0aW9uKSApIHJldHVybiBuZXcgTG9jYXRpb24oKTtcbiAgICAgICAgdGhpcy5sYXQgID0gXCJcIjtcbiAgICAgICAgdGhpcy5sbmcgID0gXCJcIjtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJcIjtcbiAgICAgIH07XG5cblxuXG4gICAgICAvKipcbiAgICAgICAqIERldGVjdCB1c2VyIGxvbmctcHJlc3Npbmcgb24gbWFwIHRvIGFkZCBuZXcgbG9jYXRpb25cbiAgICAgICAqL1xuICAgICAgJHNjb3BlLiRvbignbGVhZmxldERpcmVjdGl2ZU1hcC5jb250ZXh0bWVudScsIGZ1bmN0aW9uKGV2ZW50LCBsb2NhdGlvbkV2ZW50KXtcbiAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGxvY2F0aW9uRXZlbnQubGVhZmxldEV2ZW50LmxhdGxuZy5sYXQpO1xuICAgICAgICBjb25zb2xlLmxvZyhsb2NhdGlvbkV2ZW50LmxlYWZsZXRFdmVudC5sYXRsbmcubG5nKTtcbiAgICAgICAgTG9jYXRpb25zU2VydmljZS5zYXZlX25ld19yZXBvcnRfcG9zaXRpb24obG9jYXRpb25FdmVudC5sZWFmbGV0RXZlbnQubGF0bG5nLmxhdCxsb2NhdGlvbkV2ZW50LmxlYWZsZXRFdmVudC5sYXRsbmcubG5nKTtcbiAgICAgICAgJHNjb3BlLm5ld19yZXBvcnQoMSk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLnNlbGVjdF9pbW0gPSBmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuY2xvc2VfY291bmNpbF9tb2RhbCgpO1xuICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNlbGVjdENvdW5jaWwoXCIyODlcIik7XG4gICAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoLTM0LjkwMTExMywgLTU2LjE2NDUzMSwgMTQpO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUuc2VsZWN0X2lkciA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5jbG9zZV9jb3VuY2lsX21vZGFsKCk7XG4gICAgICAgIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0Q291bmNpbChcIjI1NVwiKTtcbiAgICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcygtMzAuODk5NzQ2OSwgLTU1LjU0MzQ2ODYsIDE0KTtcbiAgICAgIH1cblxuICAgICAgJHNjb3BlLnNlbGVjdF9pcm4gPSBmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuY2xvc2VfY291bmNpbF9tb2RhbCgpO1xuICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNlbGVjdENvdW5jaWwoXCIzNjBcIik7XG4gICAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoLTMzLjEyNDk3MiwgLTU4LjMwMzczNiwgMTQpO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUub3BlbkNvdW5jaWxTZWxlY3RvciA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2NvdW5jaWxfc2VsZWN0b3Jfd2l0aF9iYWNrX2J1dHRvbi5odG1sJywge1xuICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLmNvdW5jaWxfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgIExvY2F0aW9uc1NlcnZpY2UuY291bmNpbF9tb2RhbC5zaG93KCkudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJHNjb3BlLmNsb3NlX2NvdW5jaWxfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLmNvdW5jaWxfbW9kYWwuaGlkZSgpO1xuICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLmNvdW5jaWxfbW9kYWwucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgfVxuXSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignUE1CQ3RybCcsXG5bJyRzY29wZScsXG4nJHN0YXRlJyxcbidsZWFmbGV0RGF0YScsXG4nUE1CU2VydmljZScsXG4nUmVwb3J0U2VydmljZScsXG4nbG9jYXRpb25BUEknLFxuJ01hcFNlcnZpY2UnLFxuJ18nLFxuJ0xvYWRlcicsXG4nTG9jYXRpb25zU2VydmljZScsXG4nJGlvbmljTW9kYWwnLFxuZnVuY3Rpb24oJHNjb3BlLFxuICAkc3RhdGUsXG4gIGxlYWZsZXREYXRhLFxuICBQTUJTZXJ2aWNlLFxuICBSZXBvcnRTZXJ2aWNlLFxuICBsb2NhdGlvbkFQSSxcbiAgTWFwU2VydmljZSxcbiAgXyxcbiAgTG9hZGVyLFxuICBMb2NhdGlvbnNTZXJ2aWNlLFxuICAkaW9uaWNNb2RhbCkge1xuXG5cbiAgJHNjb3BlLnJlcG9ydEJ1dHRvbiA9IHtcbiAgICB0ZXh0OiBcIlJlcG9ydGFyXCIsXG4gICAgc3RhdGU6IFwidW5Db25maXJtZWRcIlxuICB9O1xuXG4gIC8vJHNjb3BlLiRvbignJGlvbmljVmlldy5hZnRlckVudGVyJywgZnVuY3Rpb24oKXsgLy9UaGlzIGlzIGZpcmVkIHR3aWNlIGluIGEgcm93XG4gICRzY29wZS4kb24oXCIkaW9uaWNWaWV3LmFmdGVyRW50ZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHZhciBtYXAgPSBsZWFmbGV0RGF0YS5nZXRNYXAoKTtcbiAgICBpZihMb2NhdGlvbnNTZXJ2aWNlLm5ld19yZXBvcnRfbGF0IT1cIlwiKXtcbiAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoTG9jYXRpb25zU2VydmljZS5uZXdfcmVwb3J0X2xhdCwgTG9jYXRpb25zU2VydmljZS5uZXdfcmVwb3J0X2xuZywgMTYpO1xuICAgIH1lbHNlIGlmKExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQhPVwiXCIpe1xuICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcyhMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbGF0LCBMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbG5nLCAxNik7XG4gICAgfWVsc2V7XG4gICAgICAvL01hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoLTM0LjkwMTExMywgLTU2LjE2NDUzMSwgMTQpO1xuICAgICAgJHNjb3BlLm9wZW5Db3VuY2lsU2VsZWN0b3IoKTtcbiAgICB9XG4gIH0pO1xuXG4gICRzY29wZS5zZWxlY3RfaW1tID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuY2xvc2VfY291bmNpbF9tb2RhbCgpO1xuICAgIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0Q291bmNpbChcIjI4OVwiKTtcbiAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKC0zNC45MDExMTMsIC01Ni4xNjQ1MzEsIDE0KTtcbiAgfVxuXG4gICRzY29wZS5zZWxlY3RfaWRyID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUuY2xvc2VfY291bmNpbF9tb2RhbCgpO1xuICAgIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0Q291bmNpbChcIjI1NVwiKTtcbiAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKC0zMC44OTk3NDY5LCAtNTUuNTQzNDY4NiwgMTQpO1xuICB9XG5cbiAgJHNjb3BlLnNlbGVjdF9pcm4gPSBmdW5jdGlvbigpe1xuICAgICRzY29wZS5jbG9zZV9jb3VuY2lsX21vZGFsKCk7XG4gICAgTG9jYXRpb25zU2VydmljZS5zZWxlY3RDb3VuY2lsKFwiMzYwXCIpO1xuICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoLTMzLjEyNDk3MiwgLTU4LjMwMzczNiwgMTQpO1xuICB9XG5cbiAgJHNjb3BlLm9wZW5Db3VuY2lsU2VsZWN0b3IgPSBmdW5jdGlvbigpe1xuICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2NvdW5jaWxfc2VsZWN0b3Jfd2l0aF9iYWNrX2J1dHRvbi5odG1sJywge1xuICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLmNvdW5jaWxfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgTG9jYXRpb25zU2VydmljZS5jb3VuY2lsX21vZGFsLnNob3coKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgfVxuXG4gICRzY29wZS5jbG9zZV9jb3VuY2lsX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICBMb2NhdGlvbnNTZXJ2aWNlLmNvdW5jaWxfbW9kYWwuaGlkZSgpO1xuICAgIExvY2F0aW9uc1NlcnZpY2UuY291bmNpbF9tb2RhbC5yZW1vdmUoKTtcbiAgfVxuXG5cbiAgLyoqL1xuXG4gICRzY29wZS5zZWFyY2hNb2RlID0gXCJjYWxsZS5sdWdhclwiO1xuICAkc2NvcGUubG9jYXRpb24gPXtjYWxsZTpudWxsLGVzcXVpbmE6bnVsbCxsdWdhcjpudWxsfTtcblxuXG4gIC8vQXV0byBjb21wbGV0ZVxuXG5cbiAgdmFyIGxvY2F0aW9uR2VvbVBhcmFtcyA9e3RpcG86bnVsbCxwYXRoUGFyYW1zOltdfTtcbiAgJHNjb3BlLiRvbihcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIiwgZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlvbi1hdXRvY29tcGxldGVcIikpO1xuICAgIC8vY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQpKTtcbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5iaW5kKCd0b3VjaGVuZCBjbGljayBmb2N1cycsICRzY29wZS5vbkNsaWNrKTtcbiAgfSk7XG5cblxuICAkc2NvcGUuaW5pdFJlcG9ydCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIF9waW4sIF9waW5JY29uID0gTC5pY29uKHtcbiAgICAgIGljb25Vcmw6ICdpbWcvcGluQHgyLnBuZycsXG4gICAgICBpY29uU2l6ZTogWzcwLCAxMTBdLCAvLyBzaXplIG9mIHRoZSBpY29uXG4gICAgICBpY29uQW5jaG9yOiBbLTE4LCA1NV0sIC8vIHBvaW50IG9mIHRoZSBpY29uIHdoaWNoIHdpbGwgY29ycmVzcG9uZCB0byBtYXJrZXIncyBsb2NhdGlvblxuICAgIH0pO1xuXG4gICAgaWYgKCRzY29wZS5yZXBvcnRCdXR0b24uc3RhdGUgPT0gXCJ1bkNvbmZpcm1lZFwiKSB7XG5cbiAgICAgICRzY29wZS5yZXBvcnRCdXR0b24udGV4dCA9IFwiQ29uZmlybWFyXCI7XG4gICAgICAkc2NvcGUucmVwb3J0QnV0dG9uLnN0YXRlID0gXCJhYm91dDJDb25maXJtXCI7XG5cblxuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgX3BpbiA9IG5ldyBMLm1hcmtlcihtYXAuZ2V0Q2VudGVyKCksIHtcbiAgICAgICAgICBpY29uOiBfcGluSWNvbixcbiAgICAgICAgICBjbGlja2FibGU6IGZhbHNlXG4gICAgICAgIH0pLmFkZFRvKG1hcCk7XG5cbiAgICAgICAgUmVwb3J0U2VydmljZS5fbmV3KCk7XG4gICAgICAgIFJlcG9ydFNlcnZpY2UuY3VycmVudC5zZXRMYXRMbmcobWFwLmdldENlbnRlcigpKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSgkc2NvcGUuY3VycmVudFJlcG9ydCkpO1xuXG4gICAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpb24tYXV0b2NvbXBsZXRlXCIpKTtcbiAgICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuYmluZCgndG91Y2hlbmQgY2xpY2sgZm9jdXMnLCAkc2NvcGUub25DbGljayk7XG5cblxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vY29uc29sZS5sb2coXCJjdXJyZW50UmVwb3J0ID1cIiArIEpTT04uc3RyaW5naWZ5KCRzY29wZS5jdXJyZW50UmVwb3J0KSk7XG4gICAgfVxuXG4gIH07XG5cbiAgJHNjb3BlLmlzTnVtZXJpYyA9IGZ1bmN0aW9uKG4pIHtcbiAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQobikpICYmIGlzRmluaXRlKG4pO1xuICB9O1xuXG4gICRzY29wZS5zZWFyY2hMb2NhdGlvbiA9IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgdmFyIHByb21pc2VTZWFyY2g7XG4gICAgaWYgKHF1ZXJ5ICYmIHF1ZXJ5Lmxlbmd0aD49Mikge1xuICAgICAgaWYgKCRzY29wZS5zZWFyY2hNb2RlID09IFwiY2FsbGUubHVnYXJcIikge1xuICAgICAgICBwcm9taXNlU2VhcmNoID0gbG9jYXRpb25BUEkuc2VhcmNoTG9jYXRpb25CeVN0cihxdWVyeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiYnVzY2FuZG8gY2FsbGUvXCIrJHNjb3BlLnNlbGVjdGVkSXRlbS5jb2RpZ28rXCJlc3F1aW5hID0gXCIgKyBxdWVyeSk7XG4gICAgICAgIGlmKCRzY29wZS5pc051bWVyaWMocXVlcnkudHJpbSgpKSl7XG4gICAgICAgICAgdmFyIGl0ZW1zID0gW107XG4gICAgICAgICAgdmFyIGl0ZW0gPSB7XCJkZXNjVGlwb1wiOlwiTlVNRVJPXCIsXCJhZGRyZXNzXCI6cXVlcnksXCJsYXRcIjpxdWVyeX07XG4gICAgICAgICAgaXRlbXNbMF0gPSBpdGVtO1xuICAgICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcHJvbWlzZVNlYXJjaCA9IGxvY2F0aW9uQVBJLnNlYXJjaEVzcXVpbmFCeVN0cih7XG4gICAgICAgICAgICBjYWxsZTogJHNjb3BlLnNlbGVjdGVkSXRlbS5sYXQsXG4gICAgICAgICAgICBlc3F1aW5hOiBxdWVyeVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvbWlzZVNlYXJjaDtcbiAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5vbkNsaWNrID0gZnVuY3Rpb24oKSB7XG5cbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5jb250cm9sbGVyKCdpb25BdXRvY29tcGxldGUnKS5zaG93TW9kYWwoKTtcblxuICB9O1xuXG4gICRzY29wZS5pdGVtc0NsaWNrZWQgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXG4gICAgJHNjb3BlLmNsaWNrZWRWYWx1ZU1vZGVsID0gY2FsbGJhY2s7XG4gICAgLy8kc2NvcGUuc2VsZWN0ZWRJdGVtID0gY2FsbGJhY2suc2VsZWN0ZWRJdGVtc1swXTtcbiAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gY2FsbGJhY2suaXRlbTtcbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaCA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW9uLWF1dG9jb21wbGV0ZS1zZWFyY2hcIikpO1xuICAgIGlmICgkc2NvcGUuc2VhcmNoTW9kZSA9PSBcImVzcXVpbmEubnVtZXJvXCIpIHtcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy5wYXRoUGFyYW1zID0gW107XG4gICAgICAkc2NvcGUubG9jYXRpb24uZXNxdWluYT0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy5wYXRoUGFyYW1zLnB1c2goJHNjb3BlLmxvY2F0aW9uLmNhbGxlLmxhdCk7XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMucGF0aFBhcmFtcy5wdXNoKCRzY29wZS5sb2NhdGlvbi5lc3F1aW5hLmxhdCk7XG4gICAgICB2YXIgc3RyX3RpcG8gPSBcIlwiO1xuICAgICAgdmFyIHRpcG8gPSBcIlwiO1xuICAgICAgaWYoJHNjb3BlLmlzTnVtZXJpYygkc2NvcGUuc2VsZWN0ZWRJdGVtLmFkZHJlc3MpKXtcbiAgICAgICAgLy9TZWxlY2Npb27DsyB1biBuw7ptZXJvIGRlIHB1ZXJ0YVxuICAgICAgICBsb2NhdGlvbkdlb21QYXJhbXMudGlwbz1cIkRJUkVDQ0lPTlwiO1xuICAgICAgICB0aXBvID0gXCJkb29yXCI7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9zZWxlY2Npb25vIHVuYSBlc3F1aW5hXG4gICAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy50aXBvPVwiRVNRVUlOQVwiOy8vJHNjb3BlLnNlbGVjdGVkSXRlbS5kZXNjVGlwbztcbiAgICAgICAgc3RyX3RpcG8gPSBcImVzcXVpbmFcIjtcbiAgICAgICAgdGlwbyA9IFwiY29ybmVyXCI7XG4gICAgICB9XG4gICAgICAvL2xvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbShsb2NhdGlvbkdlb21QYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KVxuICAgICAgbG9jYXRpb25BUEkuZ2V0TG9jYXRpb25HZW9tUE1CKCRzY29wZS5sb2NhdGlvbi5jYWxsZS5sYXQsJHNjb3BlLmxvY2F0aW9uLmVzcXVpbmEubGF0LHRpcG8pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KVxuICAgICAge1xuICAgICAgICB2YXIgbmFtZSA9ICRzY29wZS5sb2NhdGlvbi5jYWxsZS5hZGRyZXNzICsgXCIgXCIgKyBzdHJfdGlwbyArIFwiIFwiICsgJHNjb3BlLnNlbGVjdGVkSXRlbS5hZGRyZXNzO1xuICAgICAgICBNYXBTZXJ2aWNlLmdvVG9QbGFjZShuYW1lLCByZXN1bHQuZGF0YS5sYXRpdHVkZSxyZXN1bHQuZGF0YS5sb25naXR1ZGUsJHNjb3BlKTtcbiAgICAgICAgJHNjb3BlLnNlYXJjaE1vZGUgPSBcImNhbGxlLmx1Z2FyXCI7XG4gICAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50U2VhcmNoLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcIkJ1c2NhciBjYWxsZVwiKTtcbiAgICAgICAgJHNjb3BlLmV4dGVybmFsTW9kZWwgPSBbXTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc2NvcGUubG9jYXRpb24uY2FsbGU9ICRzY29wZS5zZWxlY3RlZEl0ZW07XG4gICAgICAkc2NvcGUuc2VhcmNoTW9kZSA9IFwiZXNxdWluYS5udW1lcm9cIjtcbiAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50U2VhcmNoLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcIkVzcXVpbmEgbyBuw7ptZXJvXCIpO1xuICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuY29udHJvbGxlcignaW9uQXV0b2NvbXBsZXRlJykuc2hvd01vZGFsKCk7XG4gICAgICAkc2NvcGUucHJlc2VsZWN0ZWRTZWFyY2hJdGVtcyA9IFtdO1xuICAgICAgLyppZiAoJHNjb3BlLnNlbGVjdGVkSXRlbS5kZXNjVGlwbyA9PT0gXCJWSUFcIikge1xuICAgICAgICAkc2NvcGUubG9jYXRpb24uY2FsbGU9ICRzY29wZS5zZWxlY3RlZEl0ZW07XG4gICAgICAgICRzY29wZS5zZWFyY2hNb2RlID0gXCJlc3F1aW5hLm51bWVyb1wiO1xuICAgICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaC5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCJFc3F1aW5hIG8gbsO6bWVyb1wiKTtcbiAgICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuY29udHJvbGxlcignaW9uQXV0b2NvbXBsZXRlJykuc2hvd01vZGFsKCk7XG5cbiAgICAgIH1lbHNle1xuICAgICAgICAvL2dvdG8gcGxhY2UgZW4gZWwgbWFwYVxuICAgICAgICAkc2NvcGUubG9jYXRpb24ubHVnYXI9ICRzY29wZS5zZWxlY3RlZEl0ZW07XG4gICAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy50aXBvPSRzY29wZS5zZWxlY3RlZEl0ZW0uZGVzY1N1YnRpcG87XG4gICAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy5wYXRoUGFyYW1zLnB1c2goJHNjb3BlLmxvY2F0aW9uLmx1Z2FyLmNvZGlnbyk7XG4gICAgICAgIGxvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbShsb2NhdGlvbkdlb21QYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgTWFwU2VydmljZS5nb1RvUGxhY2UoYW5ndWxhci5leHRlbmQoe25vbWJyZTokc2NvcGUuc2VsZWN0ZWRJdGVtLm5vbWJyZX0scmVzdWx0KSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgIH0qL1xuICAgIH1cblxuICB9O1xuXG4gICRzY29wZS5pdGVtc0NhbmNlbGVkPSBmdW5jdGlvbihfaXRlbSl7XG4gICAgdmFyIG51bVB1ZXJ0YSA9IHBhcnNlSW50KF9pdGVtLnNlYXJjaFF1ZXJ5KTtcbiAgICBpZihOdW1iZXIuaXNJbnRlZ2VyKG51bVB1ZXJ0YSkpe1xuICAgICAgLy9jb25zb2xlLmxvZyhcIklTIG51bWJlclwiKTtcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy50aXBvPVwiRElSRUNDSU9OXCI7Ly8kc2NvcGUuc2VsZWN0ZWRJdGVtLmRlc2NUaXBvO1xuICAgICAgbG9jYXRpb25HZW9tUGFyYW1zLnBhdGhQYXJhbXMucHVzaCgkc2NvcGUubG9jYXRpb24uY2FsbGUuY29kaWdvKTtcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy5wYXRoUGFyYW1zLnB1c2gobnVtUHVlcnRhKTtcbiAgICAgIGxvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbShsb2NhdGlvbkdlb21QYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgIE1hcFNlcnZpY2UuZ29Ub1BsYWNlKGFuZ3VsYXIuZXh0ZW5kKHtub21icmU6JHNjb3BlLnNlbGVjdGVkSXRlbS5ub21icmUgKyBcIiBcIiArIG51bVB1ZXJ0YSB9LHJlc3VsdCksJHNjb3BlKTtcbiAgICAgICRzY29wZS5zZWFyY2hNb2RlID0gXCJjYWxsZS5sdWdhclwiO1xuXG4gICAgfSxmdW5jdGlvbihlcnJvcil7XG4gICAgICAvL2NvbnNvbGUubG9nKFwiRXJyb3Igb2J0ZW5pZW5kbyBsYSBkaXJlY2Npb24gXCIrIEpTT04uc3RyaW5naWZ5KGVycm9yKSk7XG4gICAgICBMb2FkZXIuc2hvd0FsZXJ0KFwiRXJyb3JcIixcIk5vIGV4aXN0ZSBlc2EgZGlyZWNjaW9uXCIpLnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5jb250cm9sbGVyKCdpb25BdXRvY29tcGxldGUnKS5zaG93TW9kYWwoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0F1dGhTZXJ2aWNlJywgWyckaHR0cCcsICckY29yZG92YUZpbGVUcmFuc2ZlcicsICdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hdXRoL2FqYXgvXCI7XG5cbiAgcmV0dXJuIHtcbiAgICBzaWduX2luOiBmdW5jdGlvbiAocGFzc3dvcmQsIGVtYWlsKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcInNpZ25faW5cIiwgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUsIHBhcmFtczogeyBwYXNzd29yZF9zaWduX2luOiBwYXNzd29yZCwgZW1haWw6IGVtYWlsIH0gfSk7XG4gICAgfSxcblxuICAgIHNpZ25fb3V0OiBmdW5jdGlvbiAocGFzc3dvcmQsIGVtYWlsKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcInNpZ25fb3V0XCIsIHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlLCBwYXJhbXM6IHsgcGFzc3dvcmRfc2lnbl9pbjogcGFzc3dvcmQsIGVtYWlsOiBlbWFpbCB9IH0pO1xuICAgIH0sXG5cbiAgICBjcmVhdGVfdXNlcjogZnVuY3Rpb24gKGVtYWlsLGZ1bGxuYW1lLHBhc3N3b3JkLCBpZF9kb2MsIHVzZXJfcGhvbmUpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwiY3JlYXRlX3VzZXJcIiwgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUsIHBhcmFtczogeyBmb3JtX2VtYWlsOiBlbWFpbCwgbmFtZTogZnVsbG5hbWUsIHBhc3N3b3JkX3JlZ2lzdGVyOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5X2RvY3VtZW50OiBpZF9kb2MsIHBob25lOiB1c2VyX3Bob25lIH0gfSk7XG4gICAgfSxcblxuICAgIHBhc3N3b3JkX3JlY292ZXJ5OiBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwiZm9yZ290X3Bhc3N3b3JkXCIsIHsgcGFyYW1zOiB7IGxvZ2luX2VtYWlsOiBlbWFpbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgcGFzc3dvcmRfY2hhbmdlOiBmdW5jdGlvbiAoZW1haWwsb2xkUGFzc3dvcmQsbmV3UGFzc3dvcmQsY29uZmlybVBhc3N3b3JkKSB7XG5cbiAgICAgIHZhciBib2R5ID0gJ2VtYWlsPScrZW1haWwrJyZwYXNzd29yZF9zaWduX2luPScrb2xkUGFzc3dvcmQrJyZuZXdfcGFzc3dvcmQ9JytuZXdQYXNzd29yZCsnJmNvbmZpcm09Jytjb25maXJtUGFzc3dvcmQ7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2NoYW5nZV9wYXNzd29yZCcsIGJvZHkse2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG5cbiAgICB9LFxuXG5cbiAgICBlZGl0X3VzZXI6IGZ1bmN0aW9uIChlbWFpbCxwYXNzd29yZCwgZnVsbG5hbWUsIG5ld19lbWFpbCwgaWRfZG9jLCB1c2VyX3Bob25lLCB1c2VyX3BpY3R1cmVfdXJsKSB7XG4gICAgICBpZiAodXNlcl9waWN0dXJlX3VybCE9bnVsbCAmJiB1c2VyX3BpY3R1cmVfdXJsIT1cIlwiKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgZmlsZUtleTogXCJwaG90b1wiLFxuICAgICAgICAgLy9maWxlTmFtZTogZmlsZW5hbWUsXG4gICAgICAgICAvL2NodW5rZWRNb2RlOiBmYWxzZSxcbiAgICAgICAgIC8vbWltZVR5cGU6IFwiaW1hZ2UvanBnXCIsXG4gICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgICBwYXJhbXMgOiB7ICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBwYXNzd29yZF9zaWduX2luOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZ1bGxuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgbmV3X2VtYWlsOiBuZXdfZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogaWRfZG9jLFxuICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IHVzZXJfcGhvbmVcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cnVzdEFsbEhvc3RzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLnVwbG9hZChiYXNlVVJMICsgXCJlZGl0X3VzZXJcIiwgdXNlcl9waWN0dXJlX3VybCwgb3B0aW9ucywgdHJ1c3RBbGxIb3N0cyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJlZGl0X3VzZXJcIiwgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUsIHBhcmFtczogeyBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZF9zaWduX2luOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZ1bGxuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2VtYWlsOiBuZXdfZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogaWRfZG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IHVzZXJfcGhvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDYXRlZ29yaWVzU2VydmljZScsIFsnJGh0dHAnLCdMb2NhdGlvbnNTZXJ2aWNlJywgJ0NvbmZpZ1NlcnZpY2UnLCAnREJTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsTG9jYXRpb25zU2VydmljZSwgQ29uZmlnU2VydmljZSwgREJTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9yZXBvcnQvbmV3L2FqYXhcIjtcbiAgdmFyIGJhc2VVUkxmcm9tQVBJID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYXBpL2NhdGVnb3JpZXMvXCI7XG5cbiAgcmV0dXJuIHtcbiAgICBhbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCwgeyBwYXJhbXM6IHsgbGF0OiBMb2NhdGlvbnNTZXJ2aWNlLm5ld19yZXBvcnRfbGF0LCBsb246IExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sbmcsIGZvcm1hdDogXCJqc29uXCIgfSB9KVxuICAgIH0sXG5cbiAgICBhbGxGcm9tQm9keUFyZWE6IGZ1bmN0aW9uIChhcmVhSWQpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTGZyb21BUEksIHsgcGFyYW1zOiB7IGFwaV9rZXk6IFwiMTIzNFwiLCBhcmVhOiBhcmVhSWQgfSB9KVxuICAgIH0sXG5cbiAgICBnZXRDYWNoZWRDYXRlZ29yaWVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gREJTZXJ2aWNlLmdldENhdGVnb3JpZXMoKTtcbiAgICB9XG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ29uZmlnU2VydmljZScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuXG4gIHZhciBDb25maWdPYmogPSB7fTtcbiAgLy9Db25maWdPYmouYmFzZVVSTCA9IFwiaHR0cHM6Ly9wbWJkZXYuZGV2ZWxvcG1lbnQuZGF0YXV5Lm9yZ1wiO1xuICBDb25maWdPYmouYmFzZVVSTCA9IFwiL2RhdGFcIjtcbiAgaWYoaW9uaWMuUGxhdGZvcm0uaXNXZWJWaWV3KCkpe1xuICAgIENvbmZpZ09iai5iYXNlVVJMID0gXCJodHRwczovL3Bvcm1pYmFycmlvLmZyZXlqYS5kYXRhdXkub3JnXCI7XG4gIH1cblxuICBDb25maWdPYmouYmFzZUNvYnJhbmQgPSBcIi9jb2JyYW5kcy9wb3JtaWJhcnJpb1wiO1xuXG4gIHJldHVybiBDb25maWdPYmo7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDb25uZWN0aXZpdHlTZXJ2aWNlJywgWyckY29yZG92YU5ldHdvcmsnLCBmdW5jdGlvbigkY29yZG92YU5ldHdvcmspe1xuXG4gIHJldHVybiB7XG4gICAgaXNPbmxpbmU6IGZ1bmN0aW9uKCl7XG4gICAgICBpZihpb25pYy5QbGF0Zm9ybS5pc1dlYlZpZXcoKSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuICRjb3Jkb3ZhTmV0d29yay5pc09ubGluZSgpO1xuICAgICAgICAgfVxuICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmF2aWdhdG9yLm9uTGluZTtcbiAgICAgICAgLy9yZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc09mZmxpbmU6IGZ1bmN0aW9uKCl7XG4gICAgICBpZihpb25pYy5QbGF0Zm9ybS5pc1dlYlZpZXcoKSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuICEkY29yZG92YU5ldHdvcmsuaXNPbmxpbmUoKTtcbiAgICAgICAgIH1cbiAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAhbmF2aWdhdG9yLm9uTGluZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1dKVxuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0RCU2VydmljZScsIFsnJHEnLCBmdW5jdGlvbigkcSkge1xuICAgdmFyIF9kYiA9IFwiZW1wdHlcIjtcblxuICAgcmV0dXJuIHtcbiAgICAgICBpbml0REI6IGluaXREQixcbiAgICAgICBzYXZlVXNlcjogc2F2ZVVzZXIsXG4gICAgICAgZ2V0VXNlcjogZ2V0VXNlcixcbiAgICAgICBlcmFzZVVzZXI6IGVyYXNlVXNlcixcbiAgICAgICBzYXZlUmVwb3J0OiBzYXZlUmVwb3J0LFxuICAgICAgIGdldFJlcG9ydDogZ2V0UmVwb3J0LFxuICAgICAgIGdldEFsbFJlcG9ydHM6IGdldEFsbFJlcG9ydHMsXG4gICAgICAgdXBkYXRlUmVwb3J0OiB1cGRhdGVSZXBvcnQsXG4gICAgICAgZGVsZXRlUmVwb3J0OiBkZWxldGVSZXBvcnQsXG4gICAgICAgZGVsZXRlR2l2ZW5SZXBvcnQ6IGRlbGV0ZUdpdmVuUmVwb3J0LFxuICAgICAgIGdldENhdGVnb3JpZXM6IGdldENhdGVnb3JpZXMsXG4gICAgICAgc2F2ZUNhdGVnb3JpZXM6IHNhdmVDYXRlZ29yaWVzXG4gICB9O1xuXG4gICBmdW5jdGlvbiBzYXZlVXNlcih1c2VyX25hbWUsIHVzZXJfZW1haWwsIHVzZXJfcGFzc3dvcmQsIHVzZXJfaWRfZG9jLCB1c2VyX3Bob25lLCB1c2VyX3BpY3R1cmVfdXJsKSB7XG4gICAgICAgICB2YXIgdXNlciA9IHtcbiAgICAgICAgICAgIF9pZDogJ3VzZXItbG9nZ2VkJyxcbiAgICAgICAgICAgIG5hbWU6IHVzZXJfbmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyX2VtYWlsLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHVzZXJfcGFzc3dvcmQsXG4gICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogdXNlcl9pZF9kb2MsXG4gICAgICAgICAgICBwaG9uZTogdXNlcl9waG9uZSxcbiAgICAgICAgICAgIHBpY3R1cmVfdXJsOiB1c2VyX3BpY3R1cmVfdXJsXG4gICAgICAgICB9O1xuICAgICAgICAgZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgICB1c2VyLl9yZXYgPSBkb2MuX3JldjtcbiAgICAgICAgICAgcmV0dXJuICRxLndoZW4oX2RiLnB1dCh1c2VyKSk7XG4gICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgIHJldHVybiAkcS53aGVuKF9kYi5wdXQodXNlcikpO1xuICAgICAgICAgfSlcbiAgIH07XG5cbiAgZnVuY3Rpb24gZ2V0VXNlcigpIHtcbiAgICAgcmV0dXJuICRxLndoZW4oX2RiLmdldCgndXNlci1sb2dnZWQnKSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZXJhc2VVc2VyKCkge1xuICAgICRxLndoZW4oX2RiLmdldCgndXNlci1sb2dnZWQnKSkudGhlbihmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiAkcS53aGVuKF9kYi5yZW1vdmUoZG9jKSk7XG4gICAgfSk7XG4gIH1cblxuICAgZnVuY3Rpb24gaW5pdERCKCkge1xuICAgICAgIC8vIENyZWF0ZXMgdGhlIGRhdGFiYXNlIG9yIG9wZW5zIGlmIGl0IGFscmVhZHkgZXhpc3RzXG4gICAgICAgLy9Qb3VjaERCLnBsdWdpbihyZXF1aXJlKCdwb3VjaGRiLWFkYXB0ZXItY29yZG92YS1zcWxpdGUnKSk7XG4gICAgICAgaWYoX2RiID09IFwiZW1wdHlcIil7XG4gICAgICAgICBfZGIgPSBuZXcgUG91Y2hEQihcbiAgICAgICAgICAgICdteWRiLmRiJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYWRhcHRlcjogJ2NvcmRvdmEtc3FsaXRlJyxcbiAgICAgICAgICAgICAgaW9zRGF0YWJhc2VMb2NhdGlvbjogJ2RlZmF1bHQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gX2RiO1xuICAgICAgIH1cbiAgICAgICByZXR1cm4gX2RiO1xuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZVJlcG9ydChyZXBvcnQpIHtcbiAgICAgIC8vbmV3X3JlcG9ydF9pZCA9IFwicmVwb3J0X1wiICsgcG91Y2hDb2xsYXRlLnRvSW5kZXhhYmxlU3RyaW5nKFtyZXBvcnRdKTtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIHZhciBuZXdfcmVwb3J0X2lkID0gXCJyZXBvcnRfXCIgKyBkYXRlLmdldEZ1bGxZZWFyKCkgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkgKyBkYXRlLmdldERhdGUoKSArIGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XG4gICAgICByZXBvcnQuX2lkID0gbmV3X3JlcG9ydF9pZDtcbiAgICAgIHJldHVybiAkcS53aGVuKF9kYi5wdXQocmVwb3J0KSk7XG4gICB9O1xuXG4gICBmdW5jdGlvbiB1cGRhdGVSZXBvcnQocmVwb3J0KSB7XG4gICAgIHJldHVybiAkcS53aGVuKF9kYi5wdXQocmVwb3J0KSk7XG4gIH07XG5cbiAgIGZ1bmN0aW9uIGdldENhdGVnb3JpZXMoKSB7XG4gICAgIHJldHVybiAkcS53aGVuKF9kYi5nZXQoJ2NhdGVnb3JpZXMtbGlzdCcpKTtcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVDYXRlZ29yaWVzKGNhdGVnb3JpZXMpIHtcbiAgICAgZ2V0Q2F0ZWdvcmllcygpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgIGNhdGVnb3JpZXMuX3JldiA9IGRvYy5fcmV2O1xuICAgICAgIHJldHVybiAkcS53aGVuKF9kYi5wdXQoY2F0ZWdvcmllcykpO1xuICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgY2F0ZWdvcmllcy5faWQgPSBcImNhdGVnb3JpZXMtbGlzdFwiO1xuICAgICAgIHJldHVybiAkcS53aGVuKF9kYi5wdXQoY2F0ZWdvcmllcykpO1xuICAgICB9KVxuICAgfTtcblxuICBmdW5jdGlvbiBnZXRSZXBvcnQocmVwb3J0SWQpIHtcbiAgICAgcmV0dXJuICRxLndoZW4oX2RiLmdldChyZXBvcnRJZCkpO1xuICB9O1xuXG4gICBmdW5jdGlvbiBnZXRBbGxSZXBvcnRzKCkge1xuICAgICByZXR1cm4gJHEud2hlbihfZGIuYWxsRG9jcyh7XG4gICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICBhdHRhY2htZW50czogZmFsc2UsXG4gICAgICBzdGFydGtleTogJ3JlcG9ydCcsXG4gICAgICBlbmRrZXk6ICdyZXBvcnRfJ1xuICAgICB9KSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZGVsZXRlUmVwb3J0KHJlcG9ydF9pZCkge1xuICAgICRxLndoZW4oZGIuZ2V0KHJlcG9ydF9pZCkpLnRoZW4oZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gJHEud2hlbihfZGIucmVtb3ZlKGRvYykpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGRlbGV0ZUdpdmVuUmVwb3J0KHJlcG9ydCkge1xuICAgIHJldHVybiAkcS53aGVuKF9kYi5yZW1vdmUocmVwb3J0KSk7XG4gIH07XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdFcnJvclNlcnZpY2UnLCBbJyRodHRwJywnJGlvbmljUG9wdXAnLCAnVmFsaWRhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwkaW9uaWNQb3B1cCxWYWxpZGF0aW9uU2VydmljZSkge1xuXG4gIHJldHVybiB7XG4gICAgaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsOiBmdW5jdGlvbiAoanNvblJlc3VsdCwgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsganNvblJlc3VsdC5kYXRhLm1lc3NhZ2UgKyBcIjwvaDM+XCI7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheDogZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cDogZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICB0ZW1wbGF0ZToganNvblJlc3VsdC5kYXRhLm1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsOiBmdW5jdGlvbiAoZGF0YSwgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICBpZihkYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIGRhdGEubWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXg6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZihkYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2hvd19lcnJvcl9tZXNzYWdlOiBmdW5jdGlvbiAoZXJyb3JDb250YWluZXJJZCwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckNvbnRhaW5lcklkKTtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsgbWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBzaG93X2Vycm9yX21lc3NhZ2VfcG9wdXA6IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgIHRlbXBsYXRlOiBtZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBjaGVja19maWVsZHM6IGZ1bmN0aW9uIChmaWVsZHMsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvcnMgPSBcIlwiO1xuICAgICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJub3ROdWxsXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIHB1ZWRlIGVzdGFyIHZhY8Otby48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiZW1haWxcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VtYWlsKGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgZGlyZWNjacOzbiBkZSBjb3JyZW8gdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiaWRkb2NfdXlcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgY8OpZHVsYSB1cnVndWF5YSB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJ0d29fd29yZHNcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX3R3b193b3JkcyhmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgZGViZSBjb250ZW5lciBhbCBtZW5vcyBkb3MgcGFsYWJyYXMuPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cImVxdWFsc1RvXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9lcXVhbHNUbyhmaWVsZC52YWx1ZSwgZmllbGQuc2Vjb25kVmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBMb3MgY2FtcG9zIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gY29pbmNpZGVuLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYoZXJyb3JzID09XCJcIil7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9IGVycm9ycztcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnRmFxU2VydmljZScsIFsnJGh0dHAnLCAnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9mYXFcIjtcblxuICByZXR1cm4ge1xuICAgIGFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMLCB7IHBhcmFtczogeyBhamF4OiBcIjFcIiB9IH0pO1xuICAgIH1cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdMb2FkZXInLCBbJyRpb25pY0xvYWRpbmcnLCAnJHRpbWVvdXQnLCckaW9uaWNQb3B1cCcsZnVuY3Rpb24oJGlvbmljTG9hZGluZywkdGltZW91dCwkaW9uaWNQb3B1cCkge1xuXG4gIHZhciBMT0FERVJBUEkgPSB7XG5cbiAgICBzaG93TG9hZGluZzogZnVuY3Rpb24odGV4dCkge1xuICAgICAgdGV4dCA9IHRleHQgfHwgJ0xvYWRpbmcuLi4nO1xuICAgICAgJGlvbmljTG9hZGluZy5zaG93KHtcbiAgICAgICAgdGVtcGxhdGU6IHRleHRcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBoaWRlTG9hZGluZzogZnVuY3Rpb24oKSB7XG4gICAgICAkaW9uaWNMb2FkaW5nLmhpZGUoKTtcbiAgICB9LFxuXG4gICAgdG9nZ2xlTG9hZGluZ1dpdGhNZXNzYWdlOiBmdW5jdGlvbih0ZXh0LCB0aW1lb3V0KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHNlbGYuc2hvd0xvYWRpbmcodGV4dCk7XG5cbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmhpZGVMb2FkaW5nKCk7XG4gICAgICB9LCB0aW1lb3V0IHx8IDMwMDApO1xuICAgIH0sXG5cbiAgICBjb25maXJtUG9wdXA6ZnVuY3Rpb24odGl0bGUsdGV4dCl7XG4gICAgICB2YXIgY29uZmlybVBvcHVwID0gJGlvbmljUG9wdXAuY29uZmlybSh7XG4gICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgdGVtcGxhdGU6IHRleHRcbiAgIH0pO1xuICAgcmV0dXJuIGNvbmZpcm1Qb3B1cDtcbiB9LFxuXG5cbiAgICBzaG93QWxlcnQ6ZnVuY3Rpb24oX3RpdGxlLF90ZW1wbGF0ZSkge1xuICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgIHRpdGxlOiBfdGl0bGUsXG4gICAgICAgIHRlbXBsYXRlOiBfdGVtcGxhdGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFsZXJ0UG9wdXA7XG4gfVxuXG4gIH07XG4gIHJldHVybiBMT0FERVJBUEk7XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTG9jYXRpb25zU2VydmljZScsIFsgZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGxvY2F0aW9uc09iaiA9IHt9O1xuICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sYXQgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sbmcgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmoubmV3X3JlcG9ydF9sYXQgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmoubmV3X3JlcG9ydF9sbmcgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmouY291bmNpbF9tb2RhbCA9IG51bGw7XG4gIGxvY2F0aW9uc09iai5zZWxlY3RlZF9jb3VuY2lsID0gbnVsbDtcblxuICBsb2NhdGlvbnNPYmouc2VsZWN0Q291bmNpbCA9IGZ1bmN0aW9uKGNvdW5jaWxOYW1lKSB7XG4gICAgbG9jYXRpb25zT2JqLnNlbGVjdGVkX2NvdW5jaWwgPSAgY291bmNpbE5hbWU7XG4gIH1cblxuICBsb2NhdGlvbnNPYmouc2F2ZV9pbml0aWFsX3Bvc2l0aW9uID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sYXQgPSAgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICAgIGxvY2F0aW9uc09iai5pbml0aWFsX2xuZyA9ICBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICB9XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVfbmV3X3JlcG9ydF9wb3NpdGlvbiA9IGZ1bmN0aW9uKGxhdCxsbmcpe1xuICAgIGxvY2F0aW9uc09iai5uZXdfcmVwb3J0X2xhdCA9IGxhdDtcbiAgICBsb2NhdGlvbnNPYmoubmV3X3JlcG9ydF9sbmcgPSBsbmc7XG4gICAgbG9jYXRpb25zT2JqLmluaXRpYWxfbGF0ID0gIGxhdDtcbiAgICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sbmcgPSAgbG5nO1xuICB9XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVkTG9jYXRpb25zID0gW107XG5cbiAgcmV0dXJuIGxvY2F0aW9uc09iajtcblxufV0pO1xuIiwiIC8vcG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01hcFNlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuIHBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNYXBTZXJ2aWNlJywgWydsZWFmbGV0RGF0YScsICckY29tcGlsZScsIGZ1bmN0aW9uKGxlYWZsZXREYXRhLCAkY29tcGlsZSkge1xuXG4gICAvL0RlZmluaWNpb24gZGUgbGEgcHJveWVjY2Npb24gVVRNIDIxIHNcbiAgIHByb2o0LmRlZnMoJ0VQU0c6MzI3MjEnLCAnK3Byb2o9dXRtICt6b25lPTIxICtzb3V0aCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1tICtub19kZWZzJyk7XG5cblxuICAgdmFyIG1hcFNlcnZpY2UgPSB7fTtcblxuICAgbWFwU2VydmljZS5nb1RvUGxhY2UgPSBmdW5jdGlvbihuYW1lLGxhdCxsb24sc2NvcGUpIHtcbiAgICB2YXIgX2dlb0pzb24gPSB7XG4gICAgICAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgICAgICAgICAgIFwiY3JzXCI6IHsgXCJ0eXBlXCI6IFwibmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogJ3VybjpvZ2M6ZGVmOmNyczpFUFNHOjozMjcyMSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXCJmZWF0dXJlc1wiOiBbXG4gICAgICAgICAgICAgICAgeyBcInR5cGVcIjogXCJGZWF0dXJlXCIsXG4gICAgICAgICAgICAgICAgXCJnZW9tZXRyeVwiOntcbiAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6XCJQb2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6W2xhdCxsb25dXG4gICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjp7XG4gICAgICAgICAgICAgICAgICAgICAgXCJub21icmVcIjogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9O1xuICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgdmFyIF9sYXRsbmc7XG4gICAgICAgdmFyIGxheWVyID0gTC5Qcm9qLmdlb0pzb24oX2dlb0pzb24sIHtcbiAgICAgICAgICdwb2ludFRvTGF5ZXInOiBmdW5jdGlvbihmZWF0dXJlLCBsYXRsbmcpIHtcbiAgICAgICAgICAgX2xhdGxuZyA9IGxhdGxuZztcbiAgICAgICAgICAgdmFyIGh0bWxQb3BVcCA9IFwiPHAgYWxpZ249J2NlbnRlcic+XCIrZmVhdHVyZS5wcm9wZXJ0aWVzLm5vbWJyZStcIiA8YnIvPiA8YSBuZy1jbGljaz0nbmV3X3JlcG9ydF9mcm9tX2xhdGxvbihcIitfbGF0bG5nLmxhdCtcIixcIitfbGF0bG5nLmxuZytcIik7Jz5JbmljaWFyIHJlcG9ydGUgYXF1w608L2E+PC9wPlwiO1xuICAgICAgICAgICB2YXIgY29tcGlsZWQgPSAkY29tcGlsZShodG1sUG9wVXApKHNjb3BlKTtcbiAgICAgICAgICAgcmV0dXJuIEwubWFya2VyKGxhdGxuZykuYmluZFBvcHVwKGNvbXBpbGVkWzBdKTtcbiAgICAgICAgIH1cbiAgICAgICB9KTtcblxuICAgICAgIGxheWVyLmFkZFRvKG1hcCk7XG4gICAgICAgbWFwLnNldFZpZXcoX2xhdGxuZywgMTgpO1xuICAgICAgIGxheWVyLm9wZW5Qb3B1cCgpO1xuICAgICB9KTtcbiAgIH07XG5cbiAgbWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcyA9IGZ1bmN0aW9uKGxhdCxsbmcsem9vbSkge1xuICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBtYXAuc2V0VmlldyhuZXcgTC5MYXRMbmcobGF0LCBsbmcpLHpvb20pO1xuICAgICAgIH0pO1xuICAgICB9XG5cbiAgIHJldHVybiBtYXBTZXJ2aWNlO1xuXG4gfV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01vZGFsU2VydmljZScsIFsgZnVuY3Rpb24oKSB7XG5cbiAgdmFyIG1vZGFsT0JKID0ge307XG4gIG1vZGFsT0JKLmFjdGl2ZU1vZGFsID0gbnVsbDtcblxuICBtb2RhbE9CSi5jaGVja05vTW9kYWxJc09wZW4gPSBmdW5jdGlvbigpIHtcbiAgICBpZihtb2RhbE9CSi5hY3RpdmVNb2RhbCl7XG4gICAgICBtb2RhbE9CSi5hY3RpdmVNb2RhbC5oaWRlKCk7XG4gICAgICBtb2RhbE9CSi5hY3RpdmVNb2RhbC5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbW9kYWxPQko7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdQTUJTZXJ2aWNlJywgWyckaHR0cCcsICdsZWFmbGV0RGF0YScsICckY29yZG92YUZpbGVUcmFuc2ZlcicsICdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIGxlYWZsZXREYXRhLCAkY29yZG92YUZpbGVUcmFuc2ZlcixDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2UgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkw7XG5cbiAgdmFyIFBNQlNlcnZpY2UgPSB7XG5cbiAgICByZXBvcnQ6IGZ1bmN0aW9uKGZvcm0pIHtcbiAgICAgIGNvbnNvbGUubG9nKGZvcm0pO1xuICAgICAgaWYgKGZvcm0uZmlsZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIGZpbGVOYW1lOiBcImltYWdlLmpwZWdcIixcbiAgICAgICAgIGNodW5rZWRNb2RlOiBmYWxzZSxcbiAgICAgICAgIG1pbWVUeXBlOiBcImltYWdlL2pwZWdcIixcbiAgICAgICAgIHBhcmFtcyA6IGZvcm0sXG4gICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUgXG4gICAgICAgIH07XG4gICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICBDb25uZWN0aW9uOiBcIkNsb3NlXCJcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRydXN0QWxsSG9zdHMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gJGNvcmRvdmFGaWxlVHJhbnNmZXIudXBsb2FkKGJhc2UgKyAnL3JlcG9ydC9uZXcvbW9iaWxlJywgZm9ybS5maWxlLCBvcHRpb25zLCB0cnVzdEFsbEhvc3RzKTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2UgKyAnL3JlcG9ydC9uZXcvbW9iaWxlJywgeyBwYXJhbXM6IGZvcm0gfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN1YnNjcmliZTogZnVuY3Rpb24gKGVtYWlsLHJlcG9ydF9pZCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlICsgXCIvYWxlcnQvc3Vic2NyaWJlX2FqYXhcIiwgeyBwYXJhbXM6IHsgcnpudnk6IGVtYWlsLCBpZDogcmVwb3J0X2lkLCB0eXBlOiBcInVwZGF0ZXNcIiB9IH0pO1xuICAgIH0sXG5cbiAgICBhYnVzZTogZnVuY3Rpb24gKGVtYWlsLHJlcG9ydF9pZCwgbmFtZSwgc3ViamVjdCwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlICsgXCIvY29udGFjdC9zdWJtaXRfYWpheFwiLCB7IHBhcmFtczogeyBlbTogZW1haWwsIGlkOiByZXBvcnRfaWQsIG5hbWU6IG5hbWUsIHN1YmplY3Q6IHN1YmplY3QsIG1lc3NhZ2U6IG1lc3NhZ2UgfSB9KTtcbiAgICB9LFxuXG4gICAgaGlkZTogZnVuY3Rpb24gKHJlcG9ydF9pZCkge1xuICAgICAgdmFyIGRlbGV0ZVVSTCA9IFwiL3JlcG9ydC9kZWxldGVfYWpheC9cIiArIHJlcG9ydF9pZDtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZSArIGRlbGV0ZVVSTCwgeyBwYXJhbXM6IHt9IH0pO1xuICAgIH0sXG5cbiAgICBjb21tZW50OiBmdW5jdGlvbiAoY29tbWVudCkge1xuICAgICAgaWYoY29tbWVudC5maXhlZD09MCl7XG4gICAgICAgIGRlbGV0ZSBjb21tZW50LmZpeGVkO1xuICAgICAgfVxuICAgICAgaWYoY29tbWVudC5zdGF0ZT09bnVsbCl7XG4gICAgICAgIGRlbGV0ZSBjb21tZW50LnN0YXRlO1xuICAgICAgfVxuICAgICAgaWYoY29tbWVudC5uZXdfY2F0ZWdvcnk9PW51bGwpe1xuICAgICAgICBkZWxldGUgY29tbWVudC5uZXdfY2F0ZWdvcnk7XG4gICAgICB9XG4gICAgICBpZiAoY29tbWVudC5waG90bykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIGZpbGVOYW1lOiBcImltYWdlLmpwZWdcIixcbiAgICAgICAgIGNodW5rZWRNb2RlOiBmYWxzZSxcbiAgICAgICAgIG1pbWVUeXBlOiBcImltYWdlL2pwZWdcIixcbiAgICAgICAgIHBhcmFtcyA6IGNvbW1lbnQsXG4gICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgIENvbm5lY3Rpb246IFwiQ2xvc2VcIlxuICAgICAgICB9O1xuICAgICAgICB2YXIgdHJ1c3RBbGxIb3N0cyA9IHRydWU7XG4gICAgICAgIHJldHVybiAkY29yZG92YUZpbGVUcmFuc2Zlci51cGxvYWQoYmFzZSArICcvcmVwb3J0L3VwZGF0ZScsIGNvbW1lbnQucGhvdG8sIG9wdGlvbnMsIHRydXN0QWxsSG9zdHMpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZSArICcvcmVwb3J0L3VwZGF0ZScsIHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlLCBwYXJhbXM6IGNvbW1lbnQgfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgZ2V0QXJlYXM6IGZ1bmN0aW9uIChsb24sbGF0KSB7XG4gICAgIHZhciBtYXBpdFVSTCA9IFwiaHR0cDovL21hcGl0LnBvcm1pYmFycmlvLnV5L3BvaW50LzQzMjYvXCIrbG9uK1wiLFwiK2xhdCtcIlwiO1xuICAgICByZXR1cm4gJGh0dHAuZ2V0KG1hcGl0VVJMLCB7IHBhcmFtczoge30gfSk7XG4gICB9LFxuXG4gIH07XG4gIHJldHVybiBQTUJTZXJ2aWNlO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnUG9wVXBTZXJ2aWNlJywgWyckaW9uaWNQb3B1cCcsJ1ZhbGlkYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oJGlvbmljUG9wdXAsVmFsaWRhdGlvblNlcnZpY2UpIHtcblxuICByZXR1cm4ge1xuICAgIHNob3dfYWxlcnQ6IGZ1bmN0aW9uIChhbGVydF90aXRsZSxhbGVydF9tZXNzYWdlKSB7XG4gICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgdGl0bGU6IGFsZXJ0X3RpdGxlLFxuICAgICAgICAgdGVtcGxhdGU6IGFsZXJ0X21lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgIGNvbmZpcm1Qb3B1cDogZnVuY3Rpb24odGl0bGUsdGV4dCl7XG4gICAgIHZhciBjb25maXJtUG9wdXAgPSAkaW9uaWNQb3B1cC5jb25maXJtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgIHJldHVybiBjb25maXJtUG9wdXA7XG4gICB9LFxuXG4gICBhc2tGb3JPbmVWYWx1ZVBvcFVwOiBmdW5jdGlvbihzY29wZSx0aXRsZSx0ZXh0LGZpZWxkX25hbWUsdmFsaWRhdGlvblR5cGUpe1xuICAgICAgJHNjb3BlID0gc2NvcGU7XG4gICAgICB2YXIgbXlQb3B1cCA9ICRpb25pY1BvcHVwLnNob3coe1xuICAgICAgdGVtcGxhdGU6IGZpZWxkX25hbWUgKyAnOiA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cIm9uZV92YWx1ZV9wb3B1cFwiPjxkaXYgaWQ9XCJlcnJvcl9jb250YWluZXJfaW5zaWRlXCI+PC9kaXY+JyxcbiAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgIHN1YlRpdGxlOiB0ZXh0LFxuICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgeyB0ZXh0OiAnQ2FuY2VsYXInIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0ZXh0OiAnPGI+RW52aWFyPC9iPicsXG4gICAgICAgICAgdHlwZTogJ2J1dHRvbi1wb3NpdGl2ZScsXG4gICAgICAgICAgb25UYXA6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBlcnJvcnMgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvbmVfdmFsdWVfcG9wdXBcIikudmFsdWU7XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJub3ROdWxsXCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfbm90X2VtcHR5KHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gcHVlZGUgZXN0YXIgdmFjw61vLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwiZW1haWxcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9lbWFpbCh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIG5vIGVzIHVuYSBkaXJlY2Npw7NuIGRlIGNvcnJlbyB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwiaWRkb2NfdXlcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9pZGRvY191eSh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIG5vIGVzIHVuYSBjw6lkdWxhIHVydWd1YXlhIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJ0d29fd29yZHNcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV90d29fd29yZHModmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBkZWJlIGNvbnRlbmVyIGFsIG1lbm9zIGRvcyBwYWxhYnJhcy48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGVycm9ycyE9XCJcIil7XG4gICAgICAgICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JfY29udGFpbmVyX2luc2lkZVwiKTtcbiAgICAgICAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPSBlcnJvcnM7XG4gICAgICAgICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgIC8vZG9uJ3QgYWxsb3cgdGhlIHVzZXIgdG8gY2xvc2UgdW5sZXNzIGhlIGVudGVycyB3aWZpIHBhc3N3b3JkXG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KTtcbiAgICByZXR1cm4gbXlQb3B1cDtcbiAgIH1cblxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnUmVwb3J0U2VydmljZScsIFsnJGh0dHAnLCAnbGVhZmxldERhdGEnLCdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIGxlYWZsZXREYXRhLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9yZXBvcnQvYWpheC9cIjtcblxuICB2YXIgcGluc1VSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FqYXhfZ2VvP2Jib3g9LTY1LjE5OTM4NywtNDAuOTMyMTc4LC01MC4xNjg0ODgsLTI1Ljg4NzA2MVwiO1xuICAvL3ZhciBwaW5zVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYXBpL2dlb19yZXBvcnRzP2FwaV9rZXk9MTIzNFwiO1xuXG5cblxuICAvKipcbiAgICogQ29uc3RydWN0b3IsIHdpdGggY2xhc3MgbmFtZVxuICAgKi9cbiAgZnVuY3Rpb24gUmVwb3J0KF9kYXRhKSB7XG4gICAgYW5ndWxhci5leHRlbmQodGhpcywgX2RhdGEpO1xuICB9XG5cbiAgUmVwb3J0LmdldEJ5SWQgPSBmdW5jdGlvbihpZCl7XG4gICAgdmFyIHVybCA9IGJhc2VVUkwgKyBpZDtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9XG5cbiAgUmVwb3J0LmdldEFsbCA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuICRodHRwLmdldChwaW5zVVJMLCB7IHBhcmFtczoge319KTtcbiAgfVxuXG4gIFJlcG9ydC5fZGVmYXVsdCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIF9kYXRhID0ge1xuICAgICAgbGF0OiAwLFxuICAgICAgbG9uOiAwLFxuICAgICAgdGl0bGU6IG51bGwsXG4gICAgICBkZXRhaWw6IG51bGwsXG4gICAgICBtYXlfc2hvd19uYW1lOiAxLFxuICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICBwaG9uZTogbnVsbCxcbiAgICAgIHBjOiAnJyxcbiAgICAgIGZpbGU6IG51bGwsXG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgZW1haWw6IG51bGwsXG4gICAgICBzdWJtaXRfc2lnbl9pbjogMSxcbiAgICAgIHBhc3N3b3JkX3NpZ25faW46IG51bGwsXG4gICAgICByZW1lbWJlcl9tZToxXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IFJlcG9ydChfZGF0YSk7XG4gIH07XG4gICAgUmVwb3J0Ll9hbGwgPSBbXTtcbiAgICBSZXBvcnQuY3VycmVudCA9IHt9O1xuICAgIFJlcG9ydC5fbmV3ID0gZnVuY3Rpb24oKXtcbiAgICAgIC8qUmVwb3J0LmN1cnJlbnQgPSBSZXBvcnQuX2RlZmF1bHQoKTtcbiAgICAgIHJldHVybiBSZXBvcnQuY3VycmVudDsqL1xuICAgICAgcmV0dXJuIFJlcG9ydC5fZGVmYXVsdCgpO1xuICAgIH07XG5cblxuXG4gICAgLyoqXG4gICAgICogU3RhdGljIG1ldGhvZCwgYXNzaWduZWQgdG8gY2xhc3NcbiAgICAgKiBJbnN0YW5jZSAoJ3RoaXMnKSBpcyBub3QgYXZhaWxhYmxlIGluIHN0YXRpYyBjb250ZXh0XG4gICAgICovXG4gICAgUmVwb3J0LmJ1aWxkID0gZnVuY3Rpb24oX2RhdGEpIHtcblxuICAgICAgcmV0dXJuIG5ldyBSZXBvcnQoXG4gICAgICAgIF9kYXRhXG4gICAgICApO1xuICAgIH07XG5cbiAgICBSZXBvcnQucHJvdG90eXBlLnNldExhdExuZyA9IGZ1bmN0aW9uIChsYXRsbmcpIHtcblxuICAgICAgdGhpcy5sYXQgPSBsYXRsbmcubGF0O1xuICAgICAgdGhpcy5sb24gPSBsYXRsbmcubG5nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG4gICAgICovXG4gICAgcmV0dXJuIFJlcG9ydDtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ2xvY2F0aW9uQVBJJywgWyckaHR0cCcsICckcScsICdBcGlJbUVuZHBvaW50JywgJ0FwaURhdGFFbmRwb2ludCcsICdDb25maWdTZXJ2aWNlJywgJ0xvY2F0aW9uc1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgJHEsIEFwaUltRW5kcG9pbnQsIEFwaURhdGFFbmRwb2ludCwgQ29uZmlnU2VydmljZSwgTG9jYXRpb25zU2VydmljZSkge1xuXG4gIHZhciByZXN0UHJlZmZpeCA9IFwidWJpY2FjaW9uZXNSZXN0UHJvZFwiO1xuXG5cbiAgdmFyIGxvY2F0aW9uQVBJID0ge307XG5cbiAgbG9jYXRpb25BUEkuc2VhcmNoTG9jYXRpb25CeVN0ciA9IGZ1bmN0aW9uKF9sb2NhdGlvbikge1xuICAgIC8qcmV0dXJuICRodHRwLmdldChBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgJy9jYWxsZXMnLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIG5vbWJyZTogX2xvY2F0aW9uXG4gICAgICB9XG4gICAgfSk7Ki9cbiAgICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FqYXgvZ2VvY29kZT90ZXJtPVwiICsgTG9jYXRpb25zU2VydmljZS5zZWxlY3RlZF9jb3VuY2lsICsgXCIsXCIgKyBfbG9jYXRpb247XG4gICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGFyYW1zOiB7fVxuICAgIH0pO1xuICB9O1xuXG5cbiAgbG9jYXRpb25BUEkuc2VhcmNoRXNxdWluYUJ5U3RyID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcInNlYXJjaEVzcXVpbmFCeVN0ciA9IFwiICsgSlNPTi5zdHJpbmdpZnkoX2xvY2F0aW9uKSk7XG4gICAgLy9yZXR1cm4gJGh0dHAuZ2V0KEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyAnL2VzcXVpbmEvJyArIF9sb2NhdGlvbi5jYWxsZSArICcvJyArIF9sb2NhdGlvbi5lc3F1aW5hLCB7XG4gICAgICAvKnJldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvY3J1Y2VzLycgKyBfbG9jYXRpb24uY2FsbGUgKyAnLycsXG4gICAgICB7XG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIG5vbWJyZTogX2xvY2F0aW9uLmVzcXVpbmFcbiAgICAgICAgfVxuICAgICAgfSk7Ki9cblxuICAgICAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hamF4L2dlb2NvZGU/dGVybT1cIiArIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0ZWRfY291bmNpbCArIFwiLFwiXG4gICAgICAgICAgICAgICAgICAgICsgX2xvY2F0aW9uLmNhbGxlICsgXCIsXCIgKyBfbG9jYXRpb24uZXNxdWluYTtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCwge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXJhbXM6IHt9XG4gICAgICB9KTtcbiAgfTtcblxuICBsb2NhdGlvbkFQSS5nZXRMb2NhdGlvbkdlb20gPSBmdW5jdGlvbihfbG9jYXRpb24pIHtcbiAgICB2YXIgdXJsID0gQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArIGxvY2F0aW9uQVBJLmdldFBhcmFtUGF0aEJ5VGlwbyhfbG9jYXRpb24udGlwbyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfbG9jYXRpb24ucGF0aFBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgdXJsICs9ICcvJyArIF9sb2NhdGlvbi5wYXRoUGFyYW1zW2ldO1xuICAgIH1cbiAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSk7XG4gIH07XG5cbiAgbG9jYXRpb25BUEkuZ2V0TG9jYXRpb25HZW9tUE1CID0gZnVuY3Rpb24oY2FsbGUsZXNxdWluYV9udW1lcm8sdGlwbykge1xuICAgIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYWpheC9nZW9jb2RlP3Rlcm09XCIgKyBMb2NhdGlvbnNTZXJ2aWNlLnNlbGVjdGVkX2NvdW5jaWwgKyBcIixcIlxuICAgICAgICAgICAgICArIGNhbGxlICsgXCIsXCIgKyBlc3F1aW5hX251bWVybyArIFwiLFwiICsgdGlwbztcblxuICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCk7XG5cbiAgfTtcblxuICBsb2NhdGlvbkFQSS5nZXRQYXJhbVBhdGhCeVRpcG8gPSBmdW5jdGlvbihfdGlwbykge1xuXG4gICAgdmFyIHJlc3RHZW9EYXRhU2VydmljZVBhdGggPSB7XG4gICAgICAnRVNRVUlOQSc6XCIvZXNxdWluYVwiLFxuICAgICAgJ0RJUkVDQ0lPTic6XCIvZGlyZWNjaW9uXCJcbiAgICB9O1xuXG4gICAgcmV0dXJuIHJlc3RHZW9EYXRhU2VydmljZVBhdGhbX3RpcG9dO1xuXG5cbiAgfTtcblxuICByZXR1cm4gbG9jYXRpb25BUEk7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdfJywgW2Z1bmN0aW9uKCkge1xuICByZXR1cm4gd2luZG93Ll87IC8vVW5kZXJzY29yZSBtdXN0IGFscmVhZHkgYmUgbG9hZGVkIG9uIHRoZSBwYWdlXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnVXNlclNlcnZpY2UnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcblxuICAvL3ZhciBiYXNlVVJMID0gXCJodHRwOi8vcG1idXkuZGV2ZWxvcG1lbnQuZGF0YXV5Lm9yZy9hdXRoL2FqYXgvXCI7XG4gIHZhciBVc2VyT2JqID0ge307XG4gIFVzZXJPYmoubmFtZSA9IG51bGw7XG4gIFVzZXJPYmouZW1haWwgPSBudWxsO1xuICBVc2VyT2JqLnBhc3N3b3JkID0gbnVsbDtcbiAgVXNlck9iai5pZGVudGl0eV9kb2N1bWVudCA9IG51bGw7XG4gIFVzZXJPYmoucGhvbmUgPSAnJztcbiAgVXNlck9iai5waWN0dXJlX3VybCA9IFwidXJsKC4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nKVwiO1xuICBVc2VyT2JqLmZyb21fYm9keSA9IG51bGw7XG5cblxuICBVc2VyT2JqLnNhdmVfdXNlcl9kYXRhID0gZnVuY3Rpb24gKHVzZXJfbmFtZSwgdXNlcl9lbWFpbCwgdXNlcl9wYXNzd29yZCwgdXNlcl9pZF9kb2MsIHVzZXJfcGhvbmUsIHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICAgIFVzZXJPYmoubmFtZSA9IHVzZXJfbmFtZTtcbiAgICAgIFVzZXJPYmouZW1haWwgPSB1c2VyX2VtYWlsO1xuICAgICAgVXNlck9iai5wYXNzd29yZCA9IHVzZXJfcGFzc3dvcmQ7XG4gICAgICBVc2VyT2JqLmlkZW50aXR5X2RvY3VtZW50ID0gdXNlcl9pZF9kb2M7XG4gICAgICBVc2VyT2JqLnBob25lID0gdXNlcl9waG9uZTtcbiAgICAgIFVzZXJPYmoucGljdHVyZV91cmwgPSB1c2VyX3BpY3R1cmVfdXJsO1xuICAgICAgLy9TQVZFIElOIFBPVUNIREJcbiAgfVxuXG4gIFVzZXJPYmouZXJhc2VfdXNlcl9kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIFVzZXJPYmoubmFtZSA9IG51bGw7XG4gICAgVXNlck9iai5lbWFpbCA9IG51bGw7XG4gICAgVXNlck9iai5wYXNzd29yZCA9IG51bGw7XG4gICAgVXNlck9iai5pZGVudGl0eV9kb2N1bWVudCA9IG51bGw7XG4gICAgVXNlck9iai5waG9uZSA9IG51bGw7XG4gICAgVXNlck9iai5waWN0dXJlX3VybCA9IG51bGw7XG4gICAgLy9ERUxFVEUgSU4gUE9VQ0hEQlxuICB9XG5cbiAgVXNlck9iai5nZXRfdXNlcl9kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIC8vTEVWQU5UQSBERSBQT1VDSERCIExPUyBEQVRPUyBERUwgVVNVQVJJTy4gU0kgSEFZIExPUyBQT05FIEVOIExBUyBWQVJJQUJMRVMgREVMIFNFUlZJQ0lPLiBTSSBOTyBIQVkgUE9ORSBUT0RPIE5VTExcbiAgfVxuXG4gIFVzZXJPYmouYWRkX3Bob3RvID0gZnVuY3Rpb24gKHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gdXNlcl9waWN0dXJlX3VybDtcbiAgfVxuXG4gIFVzZXJPYmouaXNMb2dnZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYoVXNlck9iai5uYW1lIT1udWxsICYmIFVzZXJPYmoubmFtZSE9XCJcIil7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuXG4gIHJldHVybiBVc2VyT2JqO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnVmFsaWRhdGlvblNlcnZpY2UnLCBbJyRodHRwJywnJGlvbmljUG9wdXAnLCBmdW5jdGlvbigkaHR0cCwkaW9uaWNQb3B1cCkge1xuXG4gIHJldHVybiB7XG4gICAgdmFsaWRhdGVfbm90X2VtcHR5OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfdHdvX3dvcmRzOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhciB2YWx1ZXMgPSB2YWx1ZS5zcGxpdCgnICcpLmZpbHRlcihmdW5jdGlvbih2KXtyZXR1cm4gdiE9PScnfSk7XG4gICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIC8vdHdvIG9yIG1vcmUgd29yZHNcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy9ub3QgZW5vdWdoIHdvcmRzXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV9lcXVhbHNUbzogZnVuY3Rpb24gKHZhbHVlLHNlY29uZFZhbHVlKSB7XG4gICAgICBpZih2YWx1ZT09c2Vjb25kVmFsdWUpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2VtYWlsOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhciByZSA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICAgICAgICAgIHJldHVybiByZS50ZXN0KHZhbHVlKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2lkZG9jX3V5OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgICAgICAgdmFyIGRpZyA9IHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIHZhciBhID0gMDsgdmFyIGkgPSAwO1xuICAgICAgICAgIGlmKHZhbHVlLmxlbmd0aCA8PSA2KXtcbiAgICAgICAgICAgIGZvcihpID0gdmFsdWUubGVuZ3RoOyBpIDwgNzsgaSsrKXtcbiAgICAgICAgICAgICAgdmFsdWUgPSAnMCcgKyB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yKGkgPSAwOyBpIDwgNzsgaSsrKXtcbiAgICAgICAgICAgIGEgKz0gKHBhcnNlSW50KFwiMjk4NzYzNFwiW2ldKSAqIHBhcnNlSW50KHZhbHVlW2ldKSkgJSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICBpZihhJTEwID09PSAwKXtcbiAgICAgICAgICAgIHJlc3VsdCA9IDA7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXN1bHQgPSAxMCAtIGEgJSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoZGlnID09IHJlc3VsdCl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dKTtcbiJdfQ==
